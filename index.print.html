<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.120.4">
    <meta name="generator" content="Relearn 5.23.2+tip">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Maloudown">
    <meta name="twitter:description" content="">
    <meta property="og:title" content="Maloudown">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wungmeisilong.github.io/">
    <meta property="og:site_name" content="Maloudown">
    <title>Maloudown</title>
    <link href="https://wungmeisilong.github.io/" rel="alternate" hreflang="x-default">
    <link href="https://wungmeisilong.github.io/" rel="alternate" hreflang="zh">
    <link href="https://wungmeisilong.github.io/pir/" rel="alternate" hreflang="pir">
    <link href="https://wungmeisilong.github.io/" rel="canonical" type="text/html" title="Maloudown">
    <link href="./index.xml" rel="alternate" type="application/rss+xml" title="Maloudown">
    <link href="./images/favicon.png?1730216409" rel="icon" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="./css/fontawesome-all.min.css?1730216410" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fontawesome-all.min.css?1730216410" rel="stylesheet"></noscript>
    <link href="./css/nucleus.css?1730216410" rel="stylesheet">
    <link href="./css/auto-complete.css?1730216410" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/auto-complete.css?1730216410" rel="stylesheet"></noscript>
    <link href="./css/perfect-scrollbar.min.css?1730216410" rel="stylesheet">
    <link href="./css/fonts.css?1730216410" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fonts.css?1730216410" rel="stylesheet"></noscript>
    <link href="./css/theme.css?1730216410" rel="stylesheet">
    <link href="./css/theme-auto.css?1730216410" rel="stylesheet" id="R-variant-style">
    <link href="./css/variant.css?1730216410" rel="stylesheet">
    <link href="./css/print.css?1730216410" rel="stylesheet" media="print">
    <link href="./css/format-print.css?1730216410" rel="stylesheet">
    <link href="./css/ie.css?1730216410" rel="stylesheet">
    <script src="./js/url.js?1730216410"></script>
    <script src="./js/variant.js?1730216410"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="./index.search.js";
      var root_url="./";
      var baseUri=root_url.replace(/\/$/, '');
      window.relearn = window.relearn || {};
      window.relearn.baseUriFull='https:\/\/wungmeisilong.github.io/';
      // variant stuff
      window.variants && variants.init( [ 'auto', 'zen-light', 'zen-dark', 'neon', 'zen-light' ] );
      // translations
      window.T_Copy_to_clipboard = `复制到剪贴板`;
      window.T_Copied_to_clipboard = `复制到剪贴板！`;
      window.T_Copy_link_to_clipboard = `将链接复制到剪贴板`;
      window.T_Link_copied_to_clipboard = `链接复制到剪贴板！`;
      window.T_Reset_view = `重置视图`;
      window.T_View_reset = `查看重置！`;
      window.T_No_results_found = `找不到"{0}"的结果`;
      window.T_N_results_found = `为"{0}"找到 {1} 个结果`;
    </script>
  </head>
  <body class="mobile-support print" data-url="./">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
              <button class="topbar-control" onclick="toggleNav()" type="button" title="导航 (CTRL&#43;ALT&#43;n)">
                <i class="fa-fw fas fa-bars"></i>
              </button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Maloudown</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable home" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="home">
            <header class="headline">
            </header>
<h1 id="maloudown">Maloudown</h1>

<form action="../search.html" method="get">
<div class="searchform">
  <label class="a11y-only" for="R-search-by-detail">Search</label>
  <input data-search-input="" id="R-search-by-detail" class="search-by" name="search-by" type="search" placeholder="搜索..." _mstplaceholder="99723"><span class="btn cstyle interactive secondary"><button onclick="" type="submit"><i class="fa-fw fas fa-search"></i> <span class="title">搜索</span></button></span>
</div>
</form>
<p>欢迎来到我的个人博客网站……</p>
<p><a href="#R-image-1038d2ff0a9c7b4c0a3cff97a175bea3" class="lightbox-link"><img src="./image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1038d2ff0a9c7b4c0a3cff97a175bea3"><img src="./image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-8f58ccdbeeba29ea86826eca95c8ba69" class="lightbox-link"><img src="./logo.jpg?height=380px&amp;width=20vw" alt="alt text" class="figure-image        " style="height: 380px; width: 20vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f58ccdbeeba29ea86826eca95c8ba69"><img src="./logo.jpg?height=380px&amp;width=20vw" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-e90e8aa99506c24628d5eb0471dd424a" class="lightbox-link"><img src="./image.png?height=150px&amp;width=10vw" alt="alt text" class="figure-image        " style="height: 150px; width: 10vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e90e8aa99506c24628d5eb0471dd424a"><img src="./image.png?height=150px&amp;width=10vw" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><img src="https://octodex.github.com/images/parentocats-first_day.png?lightbox=false&amp;bg-white=true" alt="Spock" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Maloudown 的子部分</h1>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="一博客文章">一、博客文章</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/">1.文章</a><ul>
	
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/14.%E5%88%9D%E6%AC%A1%E5%AE%89%E8%A3%85ad%E9%9C%80%E8%A6%81%E5%81%9A%E5%93%AA%E4%BA%9B%E8%AE%BE%E7%BD%AE/">14.初次安装AD需要做哪些设置？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/">13.物联网网络安全论</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">12.嵌入式系统设计知识点</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">物联网应用系统设计</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/">10.云端一体化的环境变量问题</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/">9.云端一体化如何查看云函数日志？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/">8.速通ArkTS语言</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/6.github%E5%92%8Catomgit%E7%9A%84%E6%B7%B7%E5%90%88%E4%BD%BF%E7%94%A8%E9%82%A3%E4%BA%9B%E6%98%AF%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84/">6.github和atomgit的混合使用，哪些是值得注意的？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/">5.自定义页面以康奈尔笔记格式输出</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/4.%E5%A6%82%E4%BD%95%E5%9C%A8github%E4%B8%8A%E4%BD%BF%E7%94%A8%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2%E6%90%9C%E5%87%BA%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E9%A1%B9%E7%9B%AE/">4.如何在github上使用高级搜索搜出自己想要的项目？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/">文章标题的多样设计</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/github%E5%B8%B8%E9%81%87%E9%97%AE%E9%A2%98/">常与问题总结</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/">如何用旧电脑搭建自己的服务器？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/experimence/">创建hugo静态网站的经历</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/1.%E5%B8%B8%E7%94%A8%E6%A8%A1%E7%89%88/">网站内常用到的模版</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/2.%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA/">网站的目录与子目录创建</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/2.androidstudio/">2.AndroidStudio</a><ul>
	
<li><a href="./branch-bundle-1/2.androidstudio/androidstudio%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">AndroidStudio</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/2.androidstudio/%E7%AC%94%E8%AE%B0/">AndroidStudio笔记</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/2.androidstudio/toolbar/">2-1.Toolbar工具栏</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/3.stm32_rfid/">3.STM32_RFID</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/4.esp8266_wifi/">4.Esp8266_WiFi</a><ul>
	
<li><a href="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/">物联网通信技术-小知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/5.cc2530_zigbee/">5.CC2530_ZigBee</a><ul>
	
<li><a href="./branch-bundle-1/5.cc2530_zigbee/experiment2/">实验2 IO端口输出实验</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/6.arduino/">6.Arduino</a><ul>
	
<li><a href="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">物联网控制-小知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/7.%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">7.物联网工程</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/8.51%E5%8D%95%E7%89%87%E6%9C%BA/">8.51单片机</a><ul>
	
<li><a href="./branch-bundle-1/8.51%E5%8D%95%E7%89%87%E6%9C%BA/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">9.操作系统</a><ul>
	
<li><a href="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">Linux期末复习</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/10.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">10.微信小程序</a><ul>
	
<li><a href="./branch-bundle-1/10.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/">11.哲学</a><ul>
	
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BF%83%E7%BB%8F/">心经</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%AF%AD%E8%A8%80%E6%98%AF%E6%B2%A1%E6%9C%89%E8%BE%B9%E7%95%8C%E7%9A%84/">思想的边界</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BA%84%E5%AD%90%E4%B9%8B%E9%81%93/">庄子之道</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a><ul>
	
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2%E7%9A%84%E4%B8%BB%E8%A6%81%E5%90%AB%E4%B9%89/">如何理解费尔巴哈提纲的主要含义？</a><ul>
	</ul></li></ul></li></ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/">12.实战项目</a><ul>
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/">贺青工程</a><ul>
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E5%B0%8F%E7%A8%8B%E5%BA%8Fui%E8%AE%BE%E8%AE%A1/">志愿活动软件设计与开发</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/">验收问题</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">毕业设计</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/">电赛</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/">唛盟杯比赛详记</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">13.计算机组成原理</a><ul>
	
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%BF%87%E5%B9%B4/">过年</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/">计算机组成原理-复习</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/">14.电子电路</a><ul>
	
<li><a href="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">模拟电子技术基础笔记</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/15.%E5%A4%96%E8%AF%AD%E7%B1%BB/">15.外语类</a><ul>
	
<li><a href="./branch-bundle-1/15.%E5%A4%96%E8%AF%AD%E7%B1%BB/%E8%8B%B1%E8%AF%AD/">英语</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/">16.考试类</a><ul>
	
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/">教资 小学</a><ul>
	
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/markmap.mm/"></a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/markmap1.mm/"></a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/%E7%A7%91%E7%9B%AE%E4%B8%80.mm/"></a><ul>
	</ul></li></ul></li></ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">18.C&#43;&#43;编程语言</a><ul>
	
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/12.%E5%85%B6%E4%BB%96%E5%BA%93%E7%9A%84%E4%BB%8B%E7%BB%8D/">12.其他库的介绍</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/">11.STL库学习之适配器</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/">10.STL库学习之仿函数</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/">9.STL库学习之迭代器与算法</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/">8.STL库学习之容器</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/7.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%88%86%E9%85%8D%E5%99%A8/">7.STL库学习之分配器</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/6.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E7%AD%91%E5%9F%BA%E6%A6%82%E8%A6%81/">6.STL库学习之筑基概要</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">5.STL库之观其大略</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/4.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%802.0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8/">4.C&#43;&#43;2.0特性的使用</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/">3.导读</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/">2.组合与继承</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/">1.代码编写规范</a><ul>
	</ul></li></ul></li>
</ul>
<p><a href="https://blog.csdn.net/m0_52062236/article/details/124314161" target="_blank">常用的数学表达</a></p>
<p><a href="https://blog.csdn.net/m0_37167788/article/details/78603307" target="_blank">常用箭头</a></p>
<p><a href="https://blog.csdn.net/u012028275/article/details/119839411" target="_blank">常用函数图像公式</a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">一、博客文章 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 1</div>
<h1 id="1文章">1.文章</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/14.%E5%88%9D%E6%AC%A1%E5%AE%89%E8%A3%85ad%E9%9C%80%E8%A6%81%E5%81%9A%E5%93%AA%E4%BA%9B%E8%AE%BE%E7%BD%AE/">14.初次安装AD需要做哪些设置？</a><p>设置自动保存 打开程序点击系统设置，如下图： 按照下图步骤设置自动保存，每10分钟保存一次（你也可以设置成其他的，但不建议设置太小或太大比如1分</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/">13.物联网网络安全论</a><p>物联网主要解决什么问题?- 主要解决物品到物品（T2T）、人到物品（H2T）、人到人（H2H）之间的互联，核心共性技术、网络与信息安全技术、以</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">12.嵌入式系统设计知识点</a><p>基于Cortex-A9微处理器的硬件平台 RISC和CISC RISC是精简指令集计算机，CISC是复杂指令集计算机 RISC（精简指令集计算机，</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">物联网应用系统设计</a><p>物联网结构系统与传统网路系统的区别 前者由三个部分构成 信息物品 自主网络 智能应用 需求分析 基本概念 需求规格说明：开发、测试、质量保证、项目管理以及</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/">10.云端一体化的环境变量问题</a><p>参数context 与环境变量有关，不管是系统还是用户自定义的都用这个来获取，获取方式：context.env 先部署云函数到远端，然后在去远端</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/">9.云端一体化如何查看云函数日志？</a><p>调用云函数的时候我们总有输入输出结果不符合自己预期的时候，这个时候查看日志很重要！！在云端一体化开发过程中，我们可以通过下面的方式解决这一问</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/">8.速通ArkTS语言</a><p>数据类型 练习网址： 条件语句 拓展：for in与for of的使用 for in ：遍历得到数组的角标， for of ：直接得到元素。 函数 使用function关键字声明</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/6.github%E5%92%8Catomgit%E7%9A%84%E6%B7%B7%E5%90%88%E4%BD%BF%E7%94%A8%E9%82%A3%E4%BA%9B%E6%98%AF%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84/">6.github和atomgit的混合使用，哪些是值得注意的？</a><p>一台电脑如何使用多个远程仓库？ 下载好git，并做好相关的配置 关联github仓库 创建github仓库 克隆仓库到本地 git clone &lt;你的远程仓库U</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/">5.自定义页面以康奈尔笔记格式输出</a><p>Cues Cues Notes 创建css文件 在hugo配置中设置 在markdown文档中引用 Summary 标签/提示 ：静态网页，康奈尔笔记，hugo，自定义页面输出格式。 Notes 创建</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/4.%E5%A6%82%E4%BD%95%E5%9C%A8github%E4%B8%8A%E4%BD%BF%E7%94%A8%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2%E6%90%9C%E5%87%BA%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E9%A1%B9%E7%9B%AE/">4.如何在github上使用高级搜索搜出自己想要的项目？</a><p>原文章链接 附件</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/">文章标题的多样设计</a><p>在标题前面显示图标： +++ menuPre = &#34;&lt;i class=&#39;fab fa-github&#39;&gt;&lt;/i&gt; &#34; +++添加这个后的效果如下： 附件</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/github%E5%B8%B8%E9%81%87%E9%97%AE%E9%A2%98/">常与问题总结</a><p>1、使用git commi -m &ldquo;……&ldquo;时报错： Your branch is up to date with ‘origin/master‘ 今天在提交项目的时候报了这个错误，在网</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/">如何用旧电脑搭建自己的服务器？</a><p>拥有一个属于自己的服务器个人感觉就很赞，我最初是在不买公网IP情况下，用一台电脑做服务器，然后另外一台电脑可以远程访问，部署网站，然后别人可</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/experimence/">创建hugo静态网站的经历</a><p>附件 一、为什么要创建属于自己博客网站 自从进入大三的学习，自己接触了许多开发板、以及七七八八的软件，个人记忆力又不咋地，平时很容易把重要或者重</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/1.%E5%B8%B8%E7%94%A8%E6%A8%A1%E7%89%88/">网站内常用到的模版</a><p>代码分制表 以&lt; tabs title=&quot;file name&quot; &gt;，&lt; /tabs &gt;结尾； 然后里面写以% tab title=&quot;code name&quot; style=&quot;info&quot; color=&quot;blue &quot; %，% /tab %结尾 他们都需要用{{}}括起来 &#8203; 代码 {{&lt; tabs title=&#34;hello.&#34; &gt;}}</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/2.%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA/">网站的目录与子目录创建</a><p>不论是创建首页页面，还是左边框的选项，归根结底它们都是“目录”，从根上说，你需要创建一个目录然后在目录里面创建一个.md文件来装这个目录或说</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">1.文章 的子部分</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="14初次安装ad需要做哪些设置">14.初次安装AD需要做哪些设置？</h1>

<h2 id="设置自动保存">设置自动保存</h2>
<p>打开程序点击系统设置，如下图：</p>
<p><a href="#R-image-918736483ccd63170940660b83a72ab3" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c1fb1a624013dcb464404fecc119f9a2.png" alt="系统设置" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-918736483ccd63170940660b83a72ab3"><img src="https://img-blog.csdnimg.cn/img_convert/c1fb1a624013dcb464404fecc119f9a2.png" alt="系统设置" class="lightbox-image        " loading="lazy"></a></p>
<p>按照下图步骤设置自动保存，每10分钟保存一次（你也可以设置成其他的，但不建议设置太小或太大比如1分钟或者30分钟）</p>
<p><a href="#R-image-cca6cf17cb2988090f2dcb88debf52b0" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/7d36887f3eb34181db45fe5ef9ec1f26.png" alt="设置自动保存" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cca6cf17cb2988090f2dcb88debf52b0"><img src="https://img-blog.csdnimg.cn/img_convert/7d36887f3eb34181db45fe5ef9ec1f26.png" alt="设置自动保存" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="设置单一表示负信号">设置单一&rsquo;'表示负信号</h2>
<p>按照下图设置</p>
<p><a href="#R-image-391eb1ec7f23ce147f68954e8d4481a1" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/5726209f81f50a65ab51737433722a1a.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-391eb1ec7f23ce147f68954e8d4481a1"><img src="https://img-blog.csdnimg.cn/img_convert/5726209f81f50a65ab51737433722a1a.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-e88262f0d63bd331bf9fcb08cfb23a26" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/e698a4aa176f2b1fb1fd705ea6f05e5a.png" alt="负信号表示" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e88262f0d63bd331bf9fcb08cfb23a26"><img src="https://img-blog.csdnimg.cn/img_convert/e698a4aa176f2b1fb1fd705ea6f05e5a.png" alt="负信号表示" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-177a113ba710da55a72e714b3a708a75" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/54ca63f1224388be7413e81a5918d9c8.png" alt="最终效果" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-177a113ba710da55a72e714b3a708a75"><img src="https://img-blog.csdnimg.cn/img_convert/54ca63f1224388be7413e81a5918d9c8.png" alt="最终效果" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-543a24028a9fe97bfc649c3e32938646" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/73b933c047333cee6cd893654cc93637.png" alt="设置复制自动增加" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-543a24028a9fe97bfc649c3e32938646"><img src="https://img-blog.csdnimg.cn/img_convert/73b933c047333cee6cd893654cc93637.png" alt="设置复制自动增加" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-45bae17830e3f611c5eec46deb85dec2" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c4ac8007871184e28e67455d4fa9c0b7.png" alt="复制自动增加" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-45bae17830e3f611c5eec46deb85dec2"><img src="https://img-blog.csdnimg.cn/img_convert/c4ac8007871184e28e67455d4fa9c0b7.png" alt="复制自动增加" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-6ef73f6b45ce30c2e0283649821050e5" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/fc222b1f998436fbea98ed4feec6499c.png" alt="复制不自动增加" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ef73f6b45ce30c2e0283649821050e5"><img src="https://img-blog.csdnimg.cn/img_convert/fc222b1f998436fbea98ed4feec6499c.png" alt="复制不自动增加" class="lightbox-image        " loading="lazy"></a></p>
<h1 id="设置显示对话框">设置显示对话框</h1>
<p>我设置前</p>
<p><a href="#R-image-9017251fc29bb3c683edef6aeb7f1d90" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/3f34f4a98985cc17cf8898e517859d88.png" alt="名字重叠" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9017251fc29bb3c683edef6aeb7f1d90"><img src="https://img-blog.csdnimg.cn/img_convert/3f34f4a98985cc17cf8898e517859d88.png" alt="名字重叠" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-d5aa387c44bb8fcdff850edc0949cc13" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/31b40b7e9edd5a38004086708a020ae5.png" alt="未设置前" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d5aa387c44bb8fcdff850edc0949cc13"><img src="https://img-blog.csdnimg.cn/img_convert/31b40b7e9edd5a38004086708a020ae5.png" alt="未设置前" class="lightbox-image        " loading="lazy"></a></p>
<p>当把上面的打钩后</p>
<p><a href="#R-image-bb5707a019b1c049c6d14c3c1891ac5b" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/19dc26c7d13732b02714687ca50bba02.png" alt="设置后" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bb5707a019b1c049c6d14c3c1891ac5b"><img src="https://img-blog.csdnimg.cn/img_convert/19dc26c7d13732b02714687ca50bba02.png" alt="设置后" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-0525f0315d39782f4bd543f68ffb4b41" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/dd75ba2048f4f2507622006608cd62de.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0525f0315d39782f4bd543f68ffb4b41"><img src="https://img-blog.csdnimg.cn/img_convert/dd75ba2048f4f2507622006608cd62de.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>[外链图片转存中&hellip;(img-ZngLHveL-1719559556141)]</p>
<p><a href="#R-image-e9ffecc65797e4a74d47a8dd56b0bcc6" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/f410e5cecc9ae34ac16a2ad647c6aab5.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e9ffecc65797e4a74d47a8dd56b0bcc6"><img src="https://img-blog.csdnimg.cn/img_convert/f410e5cecc9ae34ac16a2ad647c6aab5.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-db0cfddae08e69936397ab62eb90203c" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/8d80e72f3123a7172212fcc06338a61c.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-db0cfddae08e69936397ab62eb90203c"><img src="https://img-blog.csdnimg.cn/img_convert/8d80e72f3123a7172212fcc06338a61c.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-6e679b133b9f825f4492ed2fc38690bb" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c02b4c0b77a6dbd581238fc65b86a6f7.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6e679b133b9f825f4492ed2fc38690bb"><img src="https://img-blog.csdnimg.cn/img_convert/c02b4c0b77a6dbd581238fc65b86a6f7.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>按住shift+h可以显示和关闭</p>
<p>[外链图片转存中&hellip;(img-bxjUhYCS-1719559556142)]</p>
<p><a href="#R-image-6b2056064dfbb34a8ee157f4175ea03d" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/83e54a74166c16385873c0bb590d3057.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6b2056064dfbb34a8ee157f4175ea03d"><img src="https://img-blog.csdnimg.cn/img_convert/83e54a74166c16385873c0bb590d3057.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>[外链图片转存中&hellip;(img-qKvH9IRn-1719559556142)]
<a href="#R-image-a3e9194be26ba5404558fb867b5db4f5" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c61197f3e47d35ecb8f046a70c4eeaad.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a3e9194be26ba5404558fb867b5db4f5"><img src="https://img-blog.csdnimg.cn/img_convert/c61197f3e47d35ecb8f046a70c4eeaad.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>[外链图片转存中&hellip;(img-HAD9BmgV-1719559556142)]</p>
<p><a href="#R-image-fcb353f8530b2405db695cc10d4a0eea" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/ab22d2cfb50206497eac47abce62778d.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fcb353f8530b2405db695cc10d4a0eea"><img src="https://img-blog.csdnimg.cn/img_convert/ab22d2cfb50206497eac47abce62778d.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-cd6c954f892435e10e3bcf9f9e144de2" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c6ad53b8e1917c275f6b13a3ea5bd4a5.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cd6c954f892435e10e3bcf9f9e144de2"><img src="https://img-blog.csdnimg.cn/img_convert/c6ad53b8e1917c275f6b13a3ea5bd4a5.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-56aaa7d10733d81e5fae36127f96f452" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/bef0a3910f44c66d05a4b511c0b5468c.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-56aaa7d10733d81e5fae36127f96f452"><img src="https://img-blog.csdnimg.cn/img_convert/bef0a3910f44c66d05a4b511c0b5468c.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="13物联网网络安全论">13.物联网网络安全论</h1>

<h2 id="物联网主要解决什么问题-">物联网主要解决什么问题?-</h2>
<p>主要解决物品到物品（T2T）、人到物品（H2T）、人到人（H2H）之间的互联，核心共性技术、网络与信息安全技术、以及关键技术是物联网当前主要的研究方向</p>
<h2 id="物联网的安全特性">物联网的安全特性</h2>
<p>从物联网的信息处理来看，数据信息要经过采集、汇聚、融合、传输、决策与控制等过程</p>
<h2 id="物联网的功能特点">物联网的功能特点</h2>
<ul>
<li>全面感知能力</li>
<li>数据信息的可靠传输</li>
<li>智能化处理</li>
<li>可以根据各个行业、各种业务的具体特点形成各个不同的应用或系统的应用解决方案</li>
</ul>
<h2 id="数据加密中出现的攻击旁路系统是什么">数据加密中出现的攻击——旁路系统是什么</h2>
<p>攻击者可能试图通过旁路系统，如物理地取走数据库，在通信线路上窃听，面对这样的威胁最有效的方式是对数据进行加密，以加密的格式存储和传输数据。</p>
<h2 id="数字签名的使用">数字签名的使用</h2>
<ul>
<li>鉴权：非对称秘钥加密系统允许每一位发送数据的用户使用公钥进行数据加密，数字签名能够让信息接受者确认信息发送者的身份</li>
<li>验证完整性：数据传输的双方都希望数据在传输的过程没有被修改</li>
<li>保证不可抵赖性： 在密文的背景下，抵赖这个词指的是不承认与消息有关的举动（即声称消息来自第三方）。消息接受方可以通过数字签名的方式来抵制后续的抵赖，因为接收方可以出示数字签名证明数据的来源。</li>
</ul>
<h2 id="节点认证机制中的pki是什么">节点认证机制中的PKI是什么？</h2>
<p>KPI是遵循既定标准的秘钥管理平台，它能够为所有的网络应用提供加密和数字签名等密码服务，以及必要的秘钥和证书管理体系。
简单来说KPI是利用公钥的理论和技术建立的提供安全服务的基础设施。</p>
<h2 id="路由协议的安全威胁">路由协议的安全威胁</h2>
<table>
<thead>
<tr>
<th>路由协议</th>
<th>安全威胁</th>
</tr>
</thead>
<tbody>
<tr>
<td>TyniOS信标</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>定向扩散</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>地理位置路由</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击</td>
</tr>
<tr>
<td>最低成本转发</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>谣传路由</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击</td>
</tr>
<tr>
<td><strong>能量节约的拓扑维护</strong>（SPAN、GAF、CEC、AFECA）</td>
<td>虚假路由攻击、女巫攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>聚簇路由协议（LEACH、TEEN）</td>
<td>选择性转发攻击、Hello泛红攻击</td>
</tr>
</tbody>
</table>
<p>SPAN、GAF、CEC、AFECA 是网络拓扑维护中用于节约能量的几种不同策略或算法的缩写。它们主要用于无线传感器网络（WSN）或其他类型的网络中，以优化网络结构，减少冗余，延长网络寿命，从而节约能量消耗。下面是每个缩写的具体含义：</p>
<p>SPAN (Sparse Topology Control):</p>
<p>稀疏拓扑控制。SPAN 是一种拓扑控制算法，旨在通过创建一个稀疏的网络拓扑来减少节点间的消息传递，从而降低能量消耗。这种方法通过选择性地关闭一些节点或链接来减少网络的密集度，但同时保持网络的连通性。</p>
<p>GAF (Geographic Adaptive Fidelity):</p>
<p>地理自适应保真度。GAF 是一种基于地理位置信息的拓扑控制机制，它根据节点的地理位置和重要性来调整通信频率和范围。在 GAF 中，节点根据其地理位置和网络需求动态调整它们的通信行为，以减少不必要的通信和监听，从而节省能量。</p>
<p>CEC (Critical Energy Consumption):</p>
<p>关键能量消耗。CEC 可能指的是一种考虑网络中关键节点或链接的能量消耗的策略。这种策略旨在识别和优化那些对网络性能和稳定性至关重要的节点或链接的能量使用，以确保网络的关键部分能够在能量受限的情况下继续运作。</p>
<p>AFECA (Adaptive Fault-tolerant Energy-efficient Clustering Algorithm):</p>
<p>自适应容错节能聚类算法。AFECA 是一种聚类算法，它结合了容错机制和能量效率，以适应网络条件的变化。通过自适应地调整聚类结构和领导者选举，AFECA 旨在在保持网络稳定性的同时减少能量消耗，并提高网络的容错能力。</p>
<h2 id="撒凯加密">撒凯加密</h2>
<p>撒凯加密法的分明文和密文，密文计算公式如下：</p>
<p><strong>公式：F(a)=(a+K)mod26。</strong></p>
<h2 id="加密技术分类">加密技术分类</h2>
<p>对称加密技术：是一种传统的加密体制，也称为私钥密码体制。在这一体制中加密和解密使用相同的秘钥。</p>
<p><strong>对于N个用户网络，需要n(n-1)/2个秘钥。</strong></p>
<h2 id="对称加密算法">对称加密算法</h2>
<p>DES（Data Encryption Standard，数据加密标准）该算法速度快，适用于加密大量数据。</p>
<p>3DES：是DES的变体，对同一块数据使用3个不同的秘钥进行3次加密，强度增强。</p>
<p>AES（Advenced Encryption Standard，高级加密标准）：该算法基于排序和置换算法。它也是一种迭代的、对称加密分组的密码，它可以用128、192和256位秘钥，用128位的分组加密和解密。</p>
<h2 id="单向扩散列函数">单向扩散列函数</h2>
<p>在实际生活中，采用公钥对长文件进行加密耗时，为节省时间数字签名协议经常和单向扩散列函数一起使用。
Alice并不对整个文件进行签名，而是只对三设置签名。签名过程参照书籍61页</p>
<h2 id="零知识证明的基本协议">零知识证明的基本协议</h2>
<p>这里做一个比喻，假设P知道开一扇门的密码，现在想向验证者V证明自己知道这扇门的密码，但具体密码是多少不让V知道，那么验证方法就是去开这扇门，只要P开了门就可以证明P知道门的密码。</p>
<p>下面是书本的证明步骤：
<a href="#R-image-974cb7c8951d6b324787da1854b33272" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/image.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-974cb7c8951d6b324787da1854b33272"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/image.png" alt="1" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>V站在A点。</li>
<li>P进入洞中，到达C点或D点</li>
<li>P点进入洞中之后，V走到B点；</li>
<li>V叫P信左边或右边出来</li>
<li>P按照V的要求从左边或有边出来；</li>
<li>P和V重复执行上面的步骤N次</li>
</ul>
<p>如果每次P走的都正确，则认为P知道咒语。</p>
<h2 id="标签和读写器的通信模式">标签和读写器的通信模式</h2>
<p>标签分类及其特点</p>
<table>
   <tr>
        <td>分类</td> 
        <td>能量来源</td> 
        <td>发送器类型</td> 
        <td>最大距离/cm</td>
   </tr>
   <tr>
        <td>被动式标签</td>
        <td>被动式</td>
        <td>被动</td>
        <td>10</td>  
   </tr>
   <tr>
        <td>主动式标签</td>
        <td>内部电池</td>
        <td>主动</td>
        <td>1000</td>  
   </tr>
   <tr>
        <td>半主动式标签</td>
        <td>内部电池</td>
        <td>被动</td>
        <td>100</td>  
   </tr>  
</table>
<p>标签分类及其功能</p>
<table>
   <tr>
        <td>分类</td> 
        <td>能量来源</td> 
        <td>别名</td> 
        <td>存储</td>
        <td>特点</td>
   </tr>
   <tr>
        <td>class0</td>
        <td>被动式</td>
        <td>防盗窃标签</td>
        <td>无</td>  
        <td>EAS功能</td>
   </tr>
   <tr>
        <td>class1</td>
        <td>任意</td>
        <td>EPC（电子产品标签）</td>
        <td>只读</td> 
        <td>仅用于识别</td>  
   </tr>
   <tr>
        <td>class2</td>
        <td>任意</td>
        <td>EPC（电子产品标签）</td>
        <td>读写</td> 
        <td>数据日志记录</td>  
   </tr>
   <tr>
        <td>class3</td>
        <td>内部电池</td>
        <td>传感器标签</td>
        <td>读写</td> 
        <td>环境传感器</td>  
   </tr>
   <tr>
        <td>class4</td>
        <td>内部电池</td>
        <td>智能颗粒</td>
        <td>读写</td> 
        <td>自动组网</td>  
   </tr>
</table>
<h2 id="rfid病毒">RFID病毒</h2>
<p>2006年3月荷兰Vrije大学一组计算机研究员宣布，发现包括EPC标签在内的RFID标签可以携带病毒，并能攻击计算机。他们认为，可读写的电子标签存在着安全隐患。</p>
<h2 id="rfid系统通信模型">RFID系统通信模型</h2>
<p>这一个模型的物理层主要关心的问题是什么？</p>
<ul>
<li>物理模型主要关心电气信号的问题，例如频道分配、物理载波等，其中最重要的问题是载波切割问题。</li>
</ul>
<p>其他层关注的问题：</p>
<ul>
<li>
<p>通信层主要解决多个标签的访问问题。</p>
</li>
<li>
<p>应用层主要解决与最上层应用直接相关的内容，包括认证、识别、以及应用层数据表示。</p>
</li>
</ul>
<h2 id="rfid技术中epc系统的安全问题">RFID技术中EPC系统的安全问题</h2>
<p>EPC（电子产品标签）</p>
<ul>
<li>标签本身的缺陷
<ul>
<li>用户都可以利用合法的读写器或自购的读写器对电子标签进行读写或修改里面的存储信息。</li>
<li>支持EPC global标准的无源标签大多数只允许写入一次，但是支持其他标准（ISO标准）的RFID标签可以写入多次；</li>
<li>电子标签可以写入多次带来便利的同时，也带来了很多安全隐患。</li>
</ul>
</li>
<li>通信链路上的安全问题
<ul>
<li>黑客非法截取通信</li>
<li>拒绝服务器攻击（Dos）</li>
<li>利用假冒标签向读写器发送数据</li>
<li>RFID读写器与后台系统之间的通信信息安全</li>
</ul>
</li>
</ul>
<h2 id="采用密码机制解决rfid安全问题">采用密码机制解决RFID安全问题</h2>
<p>几种常用的密码机制协议：</p>
<ul>
<li>Hash-Lock协议</li>
<li>随机化Hash-Lock协议</li>
<li>Hash链协议</li>
<li>基于散列的ID变化协议</li>
<li>数字图书馆RFID协议</li>
<li>分布式RFID询问-应答协议</li>
<li>LCAP协议：也是一种询问-应答协议，只是每次执行之后都要刷新ID</li>
<li>再次加密机制</li>
</ul>
<h2 id="传感器网络组网技术面临的安全问题">传感器网络组网技术面临的安全问题</h2>
<table>
<thead>
<tr>
<th>网络层次</th>
<th>受到的攻击</th>
</tr>
</thead>
<tbody>
<tr>
<td>物理层</td>
<td>物理破坏、信道阻塞</td>
</tr>
<tr>
<td>链路层</td>
<td>制造冲突攻击、反馈伪造攻击、链路阻塞耗尽攻击</td>
</tr>
<tr>
<td>网络层</td>
<td>路由攻击、虫洞攻击、女巫攻击、HELLO泛红攻击</td>
</tr>
<tr>
<td>应用层</td>
<td>去同步攻击、拒绝服务攻击</td>
</tr>
</tbody>
</table>
<h2 id="传感器网络中的攻击和防疫手段">传感器网络中的攻击和防疫手段</h2>
<table>
   <tr>
        <td>网络层次</td> 
        <td>攻击手段</td> 
        <td>防御手段</td>
   </tr>
   <tr>
        <td>物理层</td> 
        <td>阻塞攻击</td> 
        <td>调频、消息优先级、低占空比、区域映射、模式转换</td>
   </tr>
   <tr>
        <td rowspan="4"><b>链路层</b></td> 
        <td>物理破坏</td> 
        <td>伪装和隐藏</td>
   </tr>
   <tr>
        <td>冲突攻击</td> 
        <td>纠错码</td> 
   </tr>
   <tr>
        <td>耗尽攻击</td> 
        <td>设计竞争门限</td> 
   </tr>
   <tr>
       <td>非公平竞争</td> 
        <td>短帧和非优先级策略</td> 
   </tr>
   <tr>
        <td rowspan="4">网络层</td> 
        <td>丢弃和贪婪破坏</td> 
        <td>冗余路径探测机制</td> 
   </tr>
    <tr>
        <td>汇聚节点攻击</td> 
        <td>加密和逐条认证机制</td> 
   </tr>
   <tr>
        <td>方向误导攻击</td> 
        <td>出口过滤、认证监视机制</td> 
   </tr>
   <tr>
        <td>黑洞攻击</td> 
        <td>认证、监视、冗余机制</td> 
   </tr>
   <tr>
        <td rowspan="2">应用层</td> 
        <td>泛红攻击</td> 
        <td>客户端谜题</td> 
   </tr>
   <tr>
        <td>去同步攻击</td> 
        <td>认证</td> 
   </tr>
</table>
<h2 id="入侵检测技术">入侵检测技术</h2>
<p>由于在物联网中依靠密码机制不能完全抵御所有攻击，所以采用入侵检测技术作为信息安全的第二道防线。</p>
<p>入侵检测技术是一种网络安全手段，旨在通过监控网络和系统的活动来发现违反安全策略的行为。这项技术能够识别未授权访问、攻击行为以及其他潜在的安全威胁。</p>
<p>按照检测节点是否主动发送消息，可将入侵检测分为主动检测和被动检测。</p>
<p>主动检测主要有四种：</p>
<ul>
<li>路径诊断的方法：源节点向故障路径上的检测节点发送消息，收到消息的检测消息要回复消息，如果某一路径上的检测节点没有回复，说明这一路径上出现故障，需要在这一路经上插入新的节点，重新检测；</li>
<li>邻居检测的方法：</li>
<li>通过向多个路径发送ping包的方式发现路径上的关键节点，从而部署攻击检测算法；</li>
<li>基于主动信息提供的检测。网络中部分节点定期广播邻居节点信息，其他节点通过分析累计一定时间后的信息发现重复节点。</li>
</ul>
<h2 id="zigbee网络结构">ZigBee网络结构</h2>
<ul>
<li>星状结构</li>
<li>网状结构</li>
<li>簇状结构</li>
</ul>
<h2 id="数据链路层安全">数据链路层安全</h2>
<p><strong>注意：</strong> 这里指的是ZigBee中的数据链路。</p>
<p><strong>IEEE802.15.4</strong> 标准MAC子层使用的是CCM模式，CCM是一种通用的认证和加密模式，被定义使用在类似AES的128位数据块上，它由CTR模式和CBC-MAC模式组成。</p>
<h2 id="zigbee中确保安全的方法">ZigBee中确保安全的方法</h2>
<ul>
<li>加密技术:使用AES-128加密算法</li>
<li>鉴权技术：保证信息的原始性，使得信息不被第三方攻击；</li>
<li>完整性保护：对信息的完整性保护有四种选择，分别是0、32、64和128位，默认采用64位；</li>
</ul>
<h2 id="无线通信网络安全中安全连接的三要素">无线通信网络安全中安全连接的三要素</h2>
<ul>
<li>鉴权：在信息被允许传输前，无线网络节点必须被识别，而且必须提交能够被认为有效的信任书；</li>
<li>加密：在发送无线网络的数据包之前，无线网络节点必须对数据进行加密以确保数据的机密性；</li>
<li>数据的完整性：在发送数据包之前，无线网络节点必须确保数据包中包含有关的数据完整性的信息，这样接收者才能确认数据在传输的过程中没有被动过。</li>
</ul>
<h2 id="无线网络安全所面临的威胁地址欺骗和会话拦截">无线网络安全所面临的威胁——地址欺骗和会话拦截</h2>
<p>由于IEEE802.11无线局网不对数据帧进行认证，</p>
<ul>
<li>攻击者可以通过欺骗帧重定向数据流；</li>
<li>攻击者可以使ARP（地址解析协议）表变得混乱；</li>
<li>攻击者可以通过简单的方法获取节点的MAC地址，恶意攻击时会使用到这些MAC地址。</li>
</ul>
<h2 id="无线局域网安全技术之wep">无线局域网安全技术之WEP</h2>
<p>IEEE802.11.b标准规定了一种 <strong>有线等效加密</strong> （WEP）的可选加密方案，目的是为WLAN提供与有线网络相同级别的安全保护。
WEP在数据传输上起到一定安全性和保密性作用，可以组织无线用户无意地查看AT和STA传输的信息。
这个方案也有其缺点，这里只说明其中一个</p>
<ul>
<li>ICV算法不适合。ICV是一种基于RCR-32的用于检测传输噪音和普通错误的算法。CRC-32是信息的线性函数，意味着攻击者可以篡改加密信息，并很容易修改IVC，使信息表面上看起来可信。</li>
</ul>
<h2 id="无线网络主流技术安全解决方案wpa">无线网络主流技术安全解决方案——WPA</h2>
<p>主流解决方案有很多，这里只介绍WPA。</p>
<p>WPA是下一代无线局域网标准IEEE802.11i之前的过渡方案，WPA也是IEEE802.11i的一部分。WPA率先使用IEEE802.11i中的加密技术——TKIP，这项技术可以大幅度解决IEEE802.11i使用WEP时隐藏的安全问题。</p>
<h2 id="互联网网络安全防火墙的作用">互联网网络安全——防火墙的作用</h2>
<ul>
<li>阻止：阻止某种类型的通信量通过防火墙；</li>
<li>允许：允许与阻止相反。</li>
</ul>
<h2 id="防火墙的结构屏蔽子网模式">防火墙的结构——屏蔽子网模式</h2>
<p>简单而言就是在外网与内网之间建一个子网屏蔽网络，及时这个子网被攻陷，外网还是要经过内网路由。</p>
<p><a href="#R-image-eb4215418e11ed2d79ffa7aa1b15ef5c" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE1.jpg" alt="屏蔽子网模式" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-eb4215418e11ed2d79ffa7aa1b15ef5c"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE1.jpg" alt="屏蔽子网模式" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="vpn在中国使用要解决哪些问题">VPN在中国使用要解决哪些问题？</h2>
<ul>
<li>IPSec通过包封装的方法</li>
<li>建立隧道</li>
<li>IPSec VPN的类型</li>
<li>怎样找到VPN节点类型</li>
<li>如何建立隧道
<ul>
<li>UDP和TCP都可以穿过防火墙，即可以使用这两协议封装信息建立隧道，但是TCP有握手挥手过程，这一过程会占用时间，选择UDP更为合适。</li>
<li>选择好封装协议后，为避免两个节点VPN可能在防火墙之后的情形，需要通过第三方建立隧道传输信息，即两个设备都可以与第三个设备进行通信。</li>
</ul>
</li>
<li>如何找到与本VPN相关的节点</li>
</ul>
<h2 id="中间件的体系结构和核心模块">中间件的体系结构和核心模块</h2>
<p><a href="#R-image-344c72e4db3b63057207dd32275eca9f" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE2.jpg" alt="屏蔽子网模式" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-344c72e4db3b63057207dd32275eca9f"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE2.jpg" alt="屏蔽子网模式" class="lightbox-image        " loading="lazy"></a></p>
<p>
<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>#</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/cortex-a9%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A8/">Cortex-A9微处理器</a></li>
    <li><a class="term-link" href="./tags/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">Linux操作系统</a></li>
    <li><a class="term-link" href="./tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a></li>
  </ul>
</div>
            </header>
<h1 id="12嵌入式系统设计知识点">12.嵌入式系统设计知识点</h1>

<h2 id="基于cortex-a9微处理器的硬件平台">基于Cortex-A9微处理器的硬件平台</h2>
<h3 id="risc和cisc">RISC和CISC</h3>
<p>RISC是精简指令集计算机，CISC是复杂指令集计算机</p>
<p>RISC（精简指令集计算机，Reduced Instruction Set Computer）和CISC（复杂指令集计算机，Complex Instruction Set Computer）是两种不同的计算机架构设计理念，它们在指令集的复杂性、指令执行方式、硬件实现等方面有所区别。以下是RISC和CISC的主要特点及其区别：</p>
<ul>
<li>RISC（精简指令集计算机）
<ul>
<li>指令集简单：RISC架构拥有较少的指令，通常每个指令执行一个简单的操作。</li>
<li>指令执行快速：由于指令简单，大多数RISC指令可以在单个时钟周期内完成。</li>
<li>寄存器丰富：RISC架构通常具有更多的寄存器，以减少对内存的访问次数。</li>
<li>流水线执行：RISC处理器设计易于实现流水线技术，提高指令吞吐率。</li>
<li>编译器优化：RISC架构依赖编译器将复杂操作转换为一系列简单的指令。</li>
</ul>
</li>
<li>CISC（复杂指令集计算机）
<ul>
<li>指令集复杂：CISC架构拥有大量的指令，包括一些执行复杂操作的指令。</li>
<li>指令执行较慢：CISC指令可能需要多个时钟周期来完成。</li>
<li>寄存器较少：CISC架构通常具有较少的寄存器，更多依赖内存访问。</li>
<li>微指令执行：CISC处理器可能使用微指令（microcode）来实现复杂指令。</li>
<li>硬件复杂性：CISC处理器的硬件设计相对复杂，以支持广泛的指令集。</li>
</ul>
</li>
</ul>
<p>区别</p>
<ul>
<li>指令集大小：RISC的指令集较小，CISC的指令集较大。</li>
<li>指令复杂性：RISC指令简单，CISC指令复杂。</li>
<li>执行速度：RISC指令通常执行更快，CISC指令执行可能较慢。</li>
<li>硬件设计：RISC处理器设计相对简单，CISC处理器设计复杂。</li>
<li>内存访问：RISC架构倾向于减少内存访问，CISC架构可能更频繁地访问内存。</li>
<li>依赖编译器：RISC架构更依赖编译器优化，CISC架构则在硬件层面提供复杂操作。</li>
</ul>
<h3 id="arm处理器支持的基本数据类型">ARM处理器支持的基本数据类型</h3>
<p>数据类型：字、半字、字节。</p>
<p>说明：</p>
<ul>
<li>一个字节占8位，半个字节占16位，一个字占32位；</li>
<li>在存储数据时，字要按照4个字节来存储，所以每一次存时地址都加4，地址末位是00，例如0x13FFFFF8,0x13FFFFFC，</li>
<li>在存储数据时，半字要按照2个字节来存，所以每一次存时地址都加2，地址末位是0，例如0x13FFFFF4,0x13FFFFF6，；</li>
</ul>
<h3 id="arm处理器的工作状态">ARM处理器的工作状态</h3>
<p>主要有两种状态，主要区别就是执行的指令集位数不同；</p>
<ul>
<li>Thumb状态，微处理器执行16位的半字对齐的Thumb指令集，Thumb指令集是从ARM微处理的第四个版本开始增加（v4T）；</li>
<li>ARM状态，微处理器执行32位的字对齐的ARM指令集。</li>
</ul>
<h3 id="arm存储格式">ARM存储格式</h3>
<ul>
<li>
<p>大端格式：高字节存储在低地址，低字节存储在低地址；</p>
</li>
<li>
<p>小端格式:高字节存在高地址，低字节存储在低地址；
说明：</p>
</li>
<li>
<p>对高字节和低字节可以这样理解，假设有一个32位的地址为0x13FFFFF1，它的高字节是31，也可以理解成最高那一位的下标，31这一位存了0，低字节是0存了1。把这个理解带入上面的大端格式，小端格式。</p>
</li>
</ul>
<h3 id="arm处理器寄存器">ARM处理器寄存器</h3>
<ul>
<li>共有40个32位的寄存器，其中33个通用寄存器，7个状态寄存器；</li>
<li>通用寄存器
<ul>
<li>未分组寄存器（R0-R7）；</li>
<li>分组寄存器（R8-R14）；</li>
</ul>
</li>
<li>ARM处理器的程序状态寄存器包括：CPSR（当前程序状态寄存器）和SPSR（程序状态备份寄存器）</li>
</ul>
<h3 id="中断">中断</h3>
<h3 id="arm工作模式">ARM工作模式</h3>
<ul>
<li>
<p>用户模式（usr）:应用程序执行状态。</p>
</li>
<li>
<p>快速中断模式（fiq）：用于高速数据传输或通道处理。</p>
</li>
<li>
<p>外部中断模式（irq）：用于通用的外部中断。</p>
</li>
<li>
<p>特权模式（svc）：操作系统使用的保护模式。</p>
</li>
<li>
<p>数据访问中止模式（abt）：当数据或指令预取终止时进入该模式，可以用于虚拟存储及存储保护。</p>
</li>
<li>
<p>未定义指令中止模式（und）：当未定义的指令执行时进入该模式，可用于支持硬件协处理器的软件仿真。</p>
</li>
<li>
<p>系统模式（sys）：运行具有特权的操作系统任务。</p>
</li>
<li>
<p>监控模式（mon）：可在安全模式与非安全模式之间转换。</p>
</li>
<li>
<p>执行程序什么模式？</p>
</li>
<li>
<p>读指令并执行，读取未定义指令什么模式？</p>
</li>
<li>
<p>遇到特权任务什么模式？</p>
</li>
<li>
<p>遇到中断什么模式?</p>
</li>
<li>
<p>指令执行结束什么模式？</p>
</li>
</ul>
<h3 id="3级5级流水线">3级、5级流水线</h3>
<ul>
<li>3级流水线指令可以分解成取指令、编译、执行；</li>
<li>5级流水线指令可以分解成取指令、编译、执行、缓冲、写回。</li>
</ul>
<h3 id="程序状态寄存器">程序状态寄存器</h3>
<ul>
<li>
<p>CPSR中的[31:27]为条件标志位，具体含义如下：</p>
<ul>
<li>N：符号标志位。当用两个补码表示的带符号数进行运算时，N=1表示运算的结果为负数；N=0表示运算的结果为正数或零。</li>
<li>Z：结果是否为0的标志。Z=1，表示运算结果为0；Z=0，表示运算结果为非0。</li>
<li>C：进位或借位标志位。加法运算结果产生了借位时C=1，减法运算产生了借位时C=1，否则为0；包含移位操作的非加/减运算指令，C为移出值的最后一位；其他运算指令，C的值通常不变。</li>
<li>V：溢出标志位。对于加减法运算指令，V=1表示符号位溢出，其它指令的影响V位。</li>
</ul>
</li>
<li>
<p>CPSR中的[7:0]为控制位，具体含义如下：</p>
<ul>
<li>I：IRQ中断使能位；</li>
<li>F：FIQ中断使能位；</li>
<li>T：处理器运行状态控制位；</li>
<li>M[4:0]：运行模式位。</li>
</ul>
</li>
<li>
<p>其它标志位。</p>
</li>
</ul>
<h3 id="arm指令集条件域">ARM指令集条件域</h3>
<ul>
<li>EQ：相等，（CPSR）Z=1；</li>
<li>GT：大于，Z=0&amp;&amp;N=Z;</li>
<li>TF：小于等于，Z=1||N=Z；</li>
</ul>
<h3 id="寻址指令">寻址指令</h3>
<h3 id="数据处理指令">数据处理指令</h3>
<ul>
<li>RSB 逆向减法，例如：</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  RSB Rd Rn op2 ;op2<span style="color:#f92672">-</span>Rn赋值给Rd</span></span></code></pre></div><ul>
<li>
<p>MUL 32位乘法，</p>
</li>
<li>
<p>CMP 比较，例如</p>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  CMP Rn op2 ;Rn<span style="color:#f92672">-</span>op2</span></span></code></pre></div><ul>
<li>
<p>MOV指令:它的传送指令只能是把一个寄存器的值(要能用立即数表示)赋给另一个寄存器，或者将一个常量赋给寄存器，将后边的量赋给前边的量</p>
</li>
<li>
<p>ADD指令:ADD指令用于把两个操作数相加，并将结果存放到目的寄存器中。</p>
</li>
<li>
<p>SUB指令:SUB指令用于把操作数1减去操作数2，并将结果存放到目的寄存器中</p>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SUB  r0, r1, r2 ; r0 <span style="color:#f92672">=</span> r1 <span style="color:#f92672">-</span> r2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SUB  r0, r1, <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">256</span>                
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SUB  r0, r2, r3, LSL<span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">1</span>  ; r0 <span style="color:#f92672">=</span> r2 <span style="color:#f92672">-</span> (r3 <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">1</span>)</span></span></code></pre></div><ul>
<li>LDR指令:LDR指令用于从存储器中将一个32位的字数据传送到目的寄存器中.</li>
</ul>
<p>用法1：
LDR r0, =0x20000000
用法2：
LDR r0, =0x30000000</p>
<ul>
<li>STR指令:STR指令用于从源寄存器中将一个32位的字数据传送到存储器中。即：将前边的量赋值给后边的量。</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>STR r0<span style="color:#960050;background-color:#1e0010">，</span>[r1]  ; <span style="color:#960050;background-color:#1e0010">将</span>r0中的字数据写入以r1为地址的存储器中
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>STR r0<span style="color:#960050;background-color:#1e0010">，</span>[r1], <span style="color:#960050;background-color:#1e0010">＃</span><span style="color:#ae81ff">8</span> ; <span style="color:#960050;background-color:#1e0010">将</span>r0中的字数据写入以r1为地址的存储器中<span style="color:#960050;background-color:#1e0010">，并将新地址</span>r1<span style="color:#960050;background-color:#1e0010">＋</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">写入</span>r1<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>STR r0<span style="color:#960050;background-color:#1e0010">，</span>[r1, <span style="color:#960050;background-color:#1e0010">＃</span><span style="color:#ae81ff">8</span>] ; <span style="color:#960050;background-color:#1e0010">将</span>r0中的字数据写入以r1<span style="color:#960050;background-color:#1e0010">＋</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">为地址的存储器中。</span></span></span></code></pre></div><h3 id="跳转指令">跳转指令</h3>
<h3 id="案例1">案例1</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>     CMP  R0<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>                            
</span></span><span style="display:flex;"><span>     MOVEQ  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>    
</span></span><span style="display:flex;"><span>     MOVGT  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">1</span>  
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">解：</span>CMP  R0<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>     ; <span style="color:#960050;background-color:#1e0010">将</span>R0的值减去0<span style="color:#960050;background-color:#1e0010">，并根据结果设置</span>CPSR的标志位                           
</span></span><span style="display:flex;"><span>        MOVEQ  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>   ; <span style="color:#960050;background-color:#1e0010">若</span>R0等于0<span style="color:#960050;background-color:#1e0010">，</span>Z<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">，则将立即数</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">装入到</span>R1
</span></span><span style="display:flex;"><span>        MOVGT  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">1</span>   ; <span style="color:#960050;background-color:#1e0010">若</span>R0大于0<span style="color:#960050;background-color:#1e0010">，</span>Z<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">，</span>N<span style="color:#f92672">=</span>V<span style="color:#960050;background-color:#1e0010">，则将立即数</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">装入到</span>R1</span></span></code></pre></div><p>程序实现的功能是判断R0的值与0的关系，将结果装入R1，若R0=0则R1=0，若R0&gt;0则R1=1.用C语言描述如下。
设R0对应变量a，R1对应变量b，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                 b<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">else</span>  <span style="color:#a6e22e">if</span>(a<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                 b<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; 
</span></span></code></pre></div><h3 id="案例2">案例2</h3>
<p>对程序各条指令进行注释，最后分析整个程序的功能。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>	 AREA	Example1,CODE,READONLY	  ; <span style="color:#960050;background-color:#1e0010">声明代码段</span>Example1  
</span></span><span style="display:flex;"><span>	 ENTRY				     ; <span style="color:#960050;background-color:#1e0010">标识程序入口</span>
</span></span><span style="display:flex;"><span>	 CODE32				  ; <span style="color:#960050;background-color:#1e0010">声明</span><span style="color:#ae81ff">32</span><span style="color:#960050;background-color:#1e0010">位</span>ARM指令
</span></span><span style="display:flex;"><span>START 	                   ; <span style="color:#960050;background-color:#1e0010">标号</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">标签</span>
</span></span><span style="display:flex;"><span>MOV  R0, <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>			  ; <span style="color:#960050;background-color:#1e0010">设置参数，</span>R0<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>	MOV  R1, <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">10</span>           ; <span style="color:#960050;background-color:#1e0010">设置参数，</span>R1<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>LOOP                       ; <span style="color:#960050;background-color:#1e0010">标号</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">标签</span>
</span></span><span style="display:flex;"><span>BL  ADD_SUB	         ; <span style="color:#960050;background-color:#1e0010">调用子程序</span>ADD_SUB
</span></span><span style="display:flex;"><span>	B	LOOP			     ; <span style="color:#960050;background-color:#1e0010">跳转到</span>LOOP
</span></span><span style="display:flex;"><span>ADD_SUB	                ; <span style="color:#960050;background-color:#1e0010">标号</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">标签</span>
</span></span><span style="display:flex;"><span>	ADDS  R0, R0, R1		  ; R0 <span style="color:#f92672">=</span> R0 <span style="color:#f92672">+</span> R1<span style="color:#960050;background-color:#1e0010">，并根据结果设置</span>CPSR的标志位
</span></span><span style="display:flex;"><span>	MOV	  PC, LR	     	  ; <span style="color:#960050;background-color:#1e0010">子程序返回，</span>PC<span style="color:#f92672">=</span>LR
</span></span><span style="display:flex;"><span>	END				         ; <span style="color:#960050;background-color:#1e0010">声明文件结束</span></span></span></code></pre></div><p><strong>整个程序的功能</strong>：程序实现了一个死循环，每次循环R0都增加10。</p>
<h2 id="linux编程基础">LInux编程基础</h2>
<h3 id="gcc编译的4个过程的主要功能">GCC编译的4个过程的主要功能</h3>
<ul>
<li>预编译：主要功能是读取源文件，并对头文件预编译语句和一些特殊符号进行分析和处理；</li>
<li>编译：主要包括检查代码语法和将预编译后的文件转换成汇编语言；</li>
<li>汇编：主要的功能是将汇编语言的代码编程目标文件；（机器代码，0和1）</li>
<li>连接：主要功能是连接代码，生成可执行文件。</li>
</ul>
<h3 id="简述make工具和makefile的基本结构">简述Make工具和Makefile的基本结构</h3>
<p>Make又叫工程管理工具，即管理较多的工程文件。</p>
<p>主要的功能:</p>
<ul>
<li>通过Makefile文件来描述源程序之间相互依赖的关系，并自动完成维护编译工作；</li>
<li>能够根据文件的时间戳发现更新的文件，可以减少编译工作；</li>
</ul>
<p>基本结构：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>target <span style="color:#960050;background-color:#1e0010">：</span> dependency
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tab <span style="color:#960050;background-color:#1e0010">键</span><span style="color:#f92672">&gt;</span> command</span></span></code></pre></div><p>target:目标；
dependency：依赖关系
command：命令</p>
<h3 id="makefile变量">Makefile变量</h3>
<ul>
<li>用户自定义变量</li>
<li>预定义变量</li>
<li>自动变量</li>
</ul>
<p>后两个是系统的变量，是Makefile文件常用的变量，其中有部分变量用户可以修改。</p>
<h3 id="预定义变量">预定义变量</h3>
<p>需要记住两个比较重要且常用的预定义变量，即</p>
<ul>
<li>CC：C编译器名称，默认cc</li>
<li>CFLAGS：C编译器的选项，无默认值</li>
</ul>
<h3 id="自动变量又叫系统变量">自动变量（又叫系统变量）</h3>
<ul>
<li>$@ :规则的目标所对应的文件；</li>
<li>$&lt;：规则中的第一个依赖文件；</li>
<li>$^:规则中所有依赖的列表，以空格为间隔符。</li>
</ul>
<h3 id="文件操作编程">文件操作编程</h3>
<p>C语言库中的fopen、fclose、fwrite、fread等函数。</p>
<p>其实是由操作系统的API函数封装而来，如</p>
<ul>
<li>fopen内部其实调用的是open函数，</li>
<li>fwrite内部调用的是write函数。</li>
</ul>
<p>用户也可以直接利用Linux系统的API函数来完成文件操作编程</p>
<h4 id="在linux操作系统下用c语言实现文件操作可以采用哪两种方法">在Linux操作系统下，用C语言实现文件操作可以采用哪两种方法？</h4>
<p>在LInux操作系统中，实现文件操作有两种方法，第一种是调用C语言标准库，第二种是通过Linux系统调用实现。前者独立于操作系统，在任何操作系统下使用C语言标准库函数操作文件，而后者以来于操作系统。</p>
<h3 id="时间编程">时间编程</h3>
<ul>
<li>time函数</li>
</ul>
<p>返回1970.1.1 0时到现在所经历的时间，操作失败返回((time_t)-1)</p>
<ul>
<li>gmtime函数
将日历转化为格林威治标准时间，结果存在结构体tm中。</li>
</ul>
<p>在课堂上老师叫我们使用的并非上面这个函数，而是用localtime(const time_t *timep)这个函数,这个函数可以将日历转为本地时间，具体用法请看<a href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B">综合案例</a></p>
<ul>
<li>gettimeofday函数</li>
</ul>
<p>获取从今日凌晨到现在的时差并存储在tv中，tz存放当地时区差；</p>
<h3 id="综合案例">综合案例</h3>
<p>（4）编写一个程序，将系统时间以“year-month-day hour:minute:second”格式保存在time.txt文件中。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;fcntl.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX 40
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> fd,n,ret;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span> writebuf[MAX];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> tm <span style="color:#f92672">*</span>t;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">time_t</span> lt;
</span></span><span style="display:flex;"><span>        lt<span style="color:#f92672">=</span><span style="color:#a6e22e">time</span>(NULL);
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#a6e22e">localtime</span>(<span style="color:#f92672">&amp;</span>lt);  <span style="color:#75715e">//将日历时间转化为本地时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">sprintf</span>(writebuf,<span style="color:#e6db74">&#34;%d-%d-%d %d:%d:%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,t<span style="color:#f92672">-&gt;</span>tm_year<span style="color:#f92672">+</span><span style="color:#ae81ff">1900</span>,t<span style="color:#f92672">-&gt;</span>tm_mon<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,t<span style="color:#f92672">-&gt;</span>tm_mday,t<span style="color:#f92672">-&gt;</span>tm_hour,t<span style="color:#f92672">-&gt;</span>tm_min,t<span style="color:#f92672">-&gt;</span>tm_sec);   <span style="color:#75715e">//按指定格式保存时间        
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">/*打开文件，如果文件不存在，则会创建文件*/</span>
</span></span><span style="display:flex;"><span>        fd <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;time.txt&#34;</span>, O_RDWR <span style="color:#f92672">|</span> O_CREAT);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*向文件写入字符串*/</span> 
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">write</span>(fd, writebuf, <span style="color:#a6e22e">strlen</span>(writebuf));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (ret <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">perror</span>(<span style="color:#e6db74">&#34;Write Error!&#34;</span>); <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;write %d characters!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ret);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*关闭时，会自动保存文件*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">close</span>(fd);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h3 id="多线程编程">多线程编程</h3>
<h4 id="基本用法">基本用法</h4>
<p>使用到pthread_createh头文件，以及libpthread.so和libpthread.a库文件；</p>
<ul>
<li>pthread_create函数：创建线程</li>
<li>pthread_exit函数：退出线程</li>
<li>pthread_join函数：阻塞线程</li>
</ul>
<h3 id="互斥锁线程">互斥锁线程</h3>
<p>解决多个线程在一起执行的时候共享数据、资源的问题。在POSIX中有两种线程同步机制，分别为互斥锁和信号量</p>
<ul>
<li>pthread_mutex_init:初始化互斥锁</li>
<li>pthread_mutex_lock：互斥锁上锁</li>
<li>pthread_mutex_unlock：互斥锁释放</li>
</ul>
<h2 id="嵌入式开发交叉编译与系统移植">嵌入式开发交叉编译与系统移植</h2>
<h3 id="嵌入式软件调试方法">嵌入式软件调试方法</h3>
<ul>
<li>实时在线仿真</li>
<li>模拟调试</li>
<li>软件调试</li>
<li>片上调试</li>
</ul>
<h3 id="引导程序移植">引导程序移植</h3>
<p>操作系统运行前的一个程序，也就是启动程序。</p>
<ul>
<li>BoolLoader工作模式
<ul>
<li>启动加载模式</li>
<li>下载模式</li>
</ul>
</li>
<li>BoolLoader启动过程
<ul>
<li>第一阶段
<ul>
<li>主要依赖CPU的体系结构硬件初始化的代码，通常使用汇编语言编写。</li>
<li>这个阶段的功能主要有：
<ul>
<li>基本硬件设备初始化；</li>
<li>为第二阶段准备ARM空间；</li>
<li>复制BootLoader的第二阶段代码到RAM；</li>
<li>设置栈堆；</li>
<li>跳转到第二阶段的入口点；</li>
</ul>
</li>
</ul>
</li>
<li>第二阶段
<ul>
<li>通常使用C语言完成，以便实现更复杂的功能，使程序具有更好的可读性和可移植性。</li>
<li>这一阶段的主要任务是：
<ul>
<li>初始化这一阶段要使用的硬件设备;</li>
<li>检测系统内存映射；</li>
<li>将内核文件和根目录系统映像文件从Flash读到RAM；</li>
<li>为内核设置启动参数，</li>
<li>调用内核。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>常用的启动文件有很多，这里介绍Uboot。</p>
<p>Uboot是一个开源项目，最早是由德国登克斯（DENX）小组的开发，然后发布在网上，许多对这款软件感兴趣的开发人员共同来维护。</p>
<h4 id="bootloader的核心任务是什么">BootLoader的核心任务是什么？</h4>
<p>启动内核，向内核提供启动参数，完成系统软件的部署功能。</p>
<h4 id="系统加电后执行的第一段代码是什么">系统加电后执行的第一段代码是什么？</h4>
<p>BootLoader(引导程序)是系统上电后运行的第一段代码。</p>
<h4 id="u-boot命令和环境变量">U-Boot命令和环境变量</h4>
<p>U-Boot通常支持几十个常用命令，通过这些命令，可以对目标机进行调试，也可以引导Linux内核，还可以擦写Flash完成系统部署等功能。</p>
<ul>
<li>常用命令：
print: 通常用于打印信息或变量的值到控制台或终端。</li>
</ul>
<p>setenv: 设置环境变量。环境变量是在操作系统中存储的配置信息，可以影响程序的行为。</p>
<p>saveenv: 保存环境变量。这个命令通常用于将当前的环境变量设置保存到非易失性存储器，以便在系统重启后保持这些设置。</p>
<p>ping: 网络诊断工具，用于测试主机之间的网络连接是否可达。</p>
<p>tftp: Trivial File Transfer Protocol（简单文件传输协议）的缩写，用于在设备之间传输文件。</p>
<p>boot: 启动系统或加载执行程序。</p>
<ul>
<li>组合命令
<ul>
<li>movi read:用来读取iNand到DDR上</li>
<li>movi write:用来将DDR写到到iNand上</li>
</ul>
</li>
</ul>
<p><strong>注释</strong>：</p>
<ul>
<li>非易失性存储器 iNand</li>
<li>动态数据随机存取存储器 DDR</li>
</ul>
<h3 id="linux内核简介">linux内核简介</h3>
<p>Linux内核主要功能有：</p>
<ul>
<li>进程管理</li>
<li>内存管理</li>
<li>文件管理</li>
<li>设备管理</li>
<li>网络管理</li>
</ul>
<p>Linux内核源代码非常庞大，它使用目录树结构，内核源码的顶层有许多子目录,分别组织存放各种内核子系统或者文件,如下表：
<a href="#R-image-8c2c57ca5abbbea86716301ed8f79e93" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c2c57ca5abbbea86716301ed8f79e93"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="1" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="linux内核移植">Linux内核移植</h3>
<p>Linux内核支持多种处理器，如果目标机使用的是ARM处理器核，使用的交叉编译工具链是arm-linux-，内核移植时要指定处理器的类型以及使用的交叉编译工具链，简述具体操作方法。</p>
<p>具体操作如下。
打开内核顶层目录下的Makefile文件，在文件中找到如下内容。
ARCH？=$(SUBARCH)
CROSS_COMPILE?=$(CONFIG_CROSS_COMPILE:“%”=%)
将找到的以上代码修改为如下内容。
ARCH？=arm
CROSS_COMPILE?=arm-none-linux-gnueabi-
其中，ARCH是CPU架构变量；CROSS_COMPILE是交叉编译工具链变量。修改完成后，保存文件退出。</p>
<h2 id="驱动程序">驱动程序</h2>
<h3 id="驱动程序的功能">驱动程序的功能</h3>
<ul>
<li>对设备初始化和释放</li>
<li>数据传输:把数据从内核传送到硬件和从硬件读取数据,读取应用程序传送给设备文件的数据和回送应用程序请求的数据.</li>
<li>检测和处理设备出现的错误</li>
</ul>
<h4 id="open入口点">Open入口点</h4>
<p>对象：字符设备文件；
特点：字符设备文件都需要经过open入口点调用
open子程序功能：为I/O口作必要的准备工作
同一时刻只能有一个程序访问此设备（即设备是独占的）,则 open子程序必须设置一些标志以表示设备处于忙碌状态。open子程序的调用格式如下。
int open(char  * filename,int acess)</p>
<h4 id="第一个功能中">第一个功能中</h4>
<p>打开设备是由调用定义在incliude/linux/fs.h中的file_operations结构体中的 open()函数完成的。open()函数主要完成的主要工作：</p>
<p>1.若是首次打开，先初始化
2.增加设备的使用计数
3.检测设备是否异常，及时发现设备相关错误
4.读取设备次设备号。</p>
<h3 id="驱动程序的主要组成部分">驱动程序的主要组成部分</h3>
<ul>
<li>自动配置和初始化子程序：检测驱动的硬件设备是否正常，能否正常工作</li>
<li>服务子程序和中断服务程序:这两者分别是驱动程序的上下两部分。
<ul>
<li>驱动上部分，即设备服务子程序，它是系统调用的结果，并且伴随着用户态向核心态的演变，在此过程中还可以调用与进程运行环境有关的函数，比如 sleep()函数。</li>
<li>驱动程序的下半部分，即中断服务子程序</li>
</ul>
</li>
</ul>
<h3 id="linux设备分类-用c表示设备">Linux设备分类 （用C表示设备）</h3>
<ul>
<li>字符设备</li>
<li>块设备</li>
<li>网络设备</li>
</ul>
<p>应用程序操作设备框图
<a href="#R-image-e84f5fa7630012610c3f02ce062fdecf" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e84f5fa7630012610c3f02ce062fdecf"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="2" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="简述驱动程序和应用程序的区别">简述驱动程序和应用程序的区别</h3>
<p>第一，应用程序一般有一个main函数，并从头到尾执行一个任务；驱动程序没有main函数，它在加载时，通过调用module_init宏，完成驱动设备的初始化和注册工作之后便停止工作，并等待被应用程序调用。</p>
<p>第二，应用程序可以和GLIBC库连接，因此可以包含标准的头文件；驱动程序不能使用标准的C库，因此不能调用所有的C库函数，比如输出函数不能使用printf，只能用内核的printk，包含的头文件只能是内核的头文件，比如Linux/module.h。</p>
<p>第三，驱动程序运行在内核空间（又称内核态）比应用程序执行的优先级要高很多。应用程序则运行在最低级别的用户空间（又称用户态），在这一级别禁止对硬件的直接访问和对内存的未授权访问。</p>
<p>应用程序一般有一个main函数,并从头到尾执行一个任务；
应用程序可以和 GLIBC 库连接,因此可以包含标准的头文件；
驱动程序运行在内核空间(又称内核态),比应用程序执行的优先级要高很多。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
      <li><a href="./branch-bundle-1/1.%e5%85%b6%e4%bb%96%e6%96%87%e7%ab%a0/12.%e5%b5%8c%e5%85%a5%e5%bc%8f%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1/index.files/%e5%b5%8c%e5%85%a5%e5%bc%8f%e5%a4%8d%e4%b9%a0PPT.pptx">嵌入式复习PPT.pptx</a> (659 KB)</li>
      <li><a href="./branch-bundle-1/1.%e5%85%b6%e4%bb%96%e6%96%87%e7%ab%a0/12.%e5%b5%8c%e5%85%a5%e5%bc%8f%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1/index.files/%e5%b5%8c%e5%85%a5%e5%bc%8f%e4%bd%9c%e4%b8%9a.docx">嵌入式作业.docx</a> (52 KB)</li>
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0/">F1-复习</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/esp8266/">ESP8266</a></li>
    <li><a class="term-link" href="./tags/stm32/">STM32</a></li>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91/">物联网</a></li>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">物联网应用系统设计</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网应用系统设计">物联网应用系统设计</h1>

<p>物联网结构系统与传统网路系统的区别</p>
<p><a href="#R-image-f7f69f26846681b5ed43ff20487b6328" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688211399.png" alt="1716688211399" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f7f69f26846681b5ed43ff20487b6328"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688211399.png" alt="1716688211399" class="lightbox-image        " loading="lazy"></a></p>
<p>前者由三个部分构成</p>
<ul>
<li>信息物品</li>
<li>自主网络</li>
<li>智能应用</li>
</ul>
<h2 id="需求分析">需求分析</h2>
<h3 id="基本概念">基本概念</h3>
<p><a href="#R-image-da3b98686e84fe145518e3c4cd9e0188" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688246145.png" alt="1716688246145" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-da3b98686e84fe145518e3c4cd9e0188"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688246145.png" alt="1716688246145" class="lightbox-image        " loading="lazy"></a></p>
<p>需求规格说明：开发、测试、质量保证、项目管理以及相关的项目功能等地方都有重要的作用</p>
<p>需求：功能、性能 、行为、设计约束等方面的期望</p>
<p>需求分析：对要解决的问题的详细分析说明，弄清问题的需求</p>
<h3 id="需求分析过程">需求分析过程</h3>
<p>获取用户需求——分析用户需求——编写需求文档——评审需求分析</p>
<h3 id="需求管理">需求管理</h3>
<p>一、需求管理开发与需求管理的界限</p>
<p><a href="#R-image-b30f2d8253de831369bf3fdd33648c48" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688269268.png" alt="1716688269268" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b30f2d8253de831369bf3fdd33648c48"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688269268.png" alt="1716688269268" class="lightbox-image        " loading="lazy"></a></p>
<p>需求开发中编写的需求文档数据来自于市场、用户、管理，以基准需求说明为界限，需求管理从这个文档中获取开发信息，通过市场等变动修改这个文档。</p>
<h2 id="需求分析任务">需求分析任务</h2>
<p>1。确定系统运行环境</p>
<p>硬件环境的要求：外存种类、数据的输入方式、数据通信接口；</p>
<p>软件环境的需求：哪一种操作系统、数据库系统；</p>
<p>2。系统性能需求</p>
<p>数据输入系统后系统多久可以可以做出反应；</p>
<p>3。系统功能</p>
<p>确定目标系统的所有功能</p>
<h2 id="设计概要">设计概要</h2>
<h3 id="任务">任务</h3>
<p>根据需求文档确定系统的整体结构，设计其中硬件结构、软件结构和数据结构</p>
<ul>
<li>硬件结构：确定系统功能对应的硬件环境，以及硬件之间的关系；</li>
<li>软件结构：将一个复杂系统按照功能进行模块划分，建立模块的层次结构以及调用关系，确定模块之间的接口以及人机界面</li>
<li>数据结构：数据特征描述、确定数据结构特点何人数据库的设计</li>
</ul>
<h3 id="概要设计原则">概要设计原则</h3>
<p>抽象： <strong>抽象就是抽出事物的本质特征，而暂时不考虑细节。它允许我们定义一个操作的步骤，而不需要立即知道这些步骤是如何执行的。</strong></p>
<p>抽样方法：</p>
<ul>
<li>（1）过程抽象</li>
</ul>
<p>过程抽象关注的是操作的序列，而不是具体实现的细节。它允许我们定义一个操作的步骤，而不需要立即知道这些步骤是如何执行的。</p>
<p><strong>举例</strong>： 假设我们要设计一个软件来管理图书馆的借书和还书过程。过程抽象可能包括以下步骤：</p>
<ul>
<li>用户登录</li>
<li>查询书籍</li>
<li>借书</li>
<li>还书</li>
<li>用户登出</li>
</ul>
<p>在这个抽象级别，我们不需要知道用户如何登录（比如是通过用户名和密码，还是通过社交媒体账号），也不需要知道查询书籍的具体算法。我们只是定义了需要执行的操作序列。</p>
<ul>
<li>（2）数据抽象</li>
</ul>
<p>数据抽象关注的是数据的结构和行为，而不是数据的具体表示。它允许我们定义数据类型和操作，而隐藏了数据的内部细节。</p>
<p><strong>举例</strong>： 考虑一个银行账户系统。数据抽象可能包括以下定义：</p>
<ul>
<li>账户类型（如储蓄账户、支票账户）</li>
<li>账户操作（如存款、取款、转账）</li>
<li>账户属性（如账户号码、账户余额、账户持有人）</li>
</ul>
<p>在这个抽象级别，我们定义了账户是什么以及可以对账户执行哪些操作，但我们不需要知道账户数据是如何存储的（比如是在数据库中，还是在内存中）。</p>
<ul>
<li>（3）控制抽象</li>
</ul>
<p>控制抽象关注的是程序的控制流，而不是具体的控制机制。它允许我们定义程序的执行路径，而不需要立即知道控制流的具体实现。</p>
<p><strong>举例</strong>： 假设我们正在设计一个交通信号灯控制系统。控制抽象可能包括以下逻辑：</p>
<ul>
<li>红灯亮起</li>
<li>等待一定时间</li>
<li>黄灯闪烁</li>
<li>绿灯亮起</li>
<li>等待一定时间后返回到红灯</li>
</ul>
<p>在这个抽象级别，我们定义了信号灯变化的顺序，但我们不需要知道具体的计时机制或者信号灯是如何被激活的。控制抽象允许我们专注于信号灯变化的逻辑，而不是实现细节。</p>
<h2 id="网络结构的基本拓扑结构">网络结构的基本拓扑结构</h2>
<h3 id="拓扑结构的类型和使用选择">拓扑结构的类型和使用选择</h3>
<p>按照组网方式和组网形态：</p>
<ul>
<li>集中式</li>
<li>分布式</li>
<li>混合式</li>
<li>网状式</li>
</ul>
<p>按照节点和结构层次</p>
<ul>
<li>平面网络结构</li>
<li>分级网络结构</li>
<li>混合网络结构</li>
<li>Mesh网络结构</li>
</ul>
<h2 id="表示工具">表示工具</h2>
<h3 id="流程图">流程图</h3>
<ol>
<li>
<p>基本成分</p>
<ul>
<li>处理；</li>
<li>判断条件；</li>
<li>控制流。</li>
</ul>
</li>
<li>
<p>基本的控制结构</p>
<ul>
<li>顺序型；</li>
<li>选择型；</li>
<li>先判断（While）型循环；</li>
<li>后判断（Until）型循环；</li>
<li>多情况（Case）选择型。</li>
</ul>
</li>
<li>
<p>优点
对控制流程的描绘直观、清晰，易于学习掌握。</p>
</li>
<li>
<p>缺点</p>
<ul>
<li>诱使程序员过早地考虑程序的控制流程，而不去考虑程序的全局结构；</li>
<li>用箭头代表控制流，可以完全不顾结构程序设计的思想，随意转移控制；</li>
<li>不易表示数据结构；</li>
<li>修改麻烦。</li>
</ul>
</li>
</ol>
<h3 id="问题分析图">问题分析图</h3>
<p><a href="#R-image-71d4ce74603a89ebc57e28b12625584a" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690626234.png" alt="1716690626234" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-71d4ce74603a89ebc57e28b12625584a"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690626234.png" alt="1716690626234" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="合图">合图</h3>
<p><a href="#R-image-7da0af95fdf6b84226430d916d5958ef" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690895413.png" alt="1716690895413" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7da0af95fdf6b84226430d916d5958ef"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690895413.png" alt="1716690895413" class="lightbox-image        " loading="lazy"></a></p>
<p>优点</p>
<ul>
<li>功能明确，可以一眼看出来；</li>
<li>没有箭头，无法随意转移控制；</li>
<li>很容易确定局部和全局的作用域；</li>
<li>很容易表示嵌套关系，也可以表示模块的参差结构</li>
<li>强制让设计人员按照结程序设计描述方案；</li>
<li>图形直观。容易理解设计意图</li>
</ul>
<p>缺点</p>
<ul>
<li>当分支嵌套较多时较麻烦，有时候在一页纸上很难画下来；</li>
<li>画图麻烦修改麻烦</li>
</ul>
<h3 id="层次图">层次图</h3>
<p><a href="#R-image-4280512cc13e18e3767d75fe3a3628c6" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="666" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4280512cc13e18e3767d75fe3a3628c6"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="666" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="概要设计与详细设计的区别">概要设计与详细设计的区别</h2>
<ul>
<li>概要设计通常得到软件结构图</li>
<li>详细设计常用的描述方式（常用的图）：
<ul>
<li><a href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E5%9B%BE">流程图</a>、</li>
<li><a href="#%E5%90%88%E5%9B%BE">N-S图</a>、</li>
<li><a href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E5%9B%BE">PAD图</a>、</li>
<li>过程设计语言（PLD），又称伪代码。</li>
</ul>
</li>
</ul>
<p>注：伪代码——伪代码是一种非正式的、类似编程语言的描述方式，它用于描述算法的逻辑流程而不涉及具体的编程语言细节。伪代码使得设计者可以在不编写实际代码的情况下表达算法和程序结构。</p>
<h2 id="接口设计">接口设计</h2>
<p>外部接口：外部用户、软/硬环境与软件系统的接口；
内部系统：已划分出的模块间接口。</p>
<h2 id="工厂方法模式">工厂方法模式</h2>
<p>为创建对象提供过度接口，以便将创建对象的具体过程屏蔽隔离起来，达到提高灵活性的目的</p>
<p>工厂模式在《java与模式》中分为：</p>
<ul>
<li>简单工厂模式</li>
<li>工厂方法模式</li>
<li>抽象工厂模式</li>
</ul>
<h2 id="拓扑控制中考虑的设计目标和相关概念-覆盖">拓扑控制中考虑的设计目标和相关概念-覆盖</h2>
<p>覆盖可以理解为对传感器网络质量的度量
覆盖可以分为：</p>
<ul>
<li>区域覆盖：研究对目标区域的覆盖（监测）问题；</li>
<li>点覆盖：研究离散的目标覆盖问题；</li>
<li>栅栏覆盖：研究运动穿过网络部署区域被发现的概率问题。</li>
</ul>
<h2 id="manet路由协议按需路由协议也是一种算法">MANET路由协议——按需路由协议（也是一种算法）</h2>
<p>TORA(temporally ordered routing alorithm)协议是临时按需路由协议，是一种有向环基础上提出的基于路由反转的自适应分布式路由算法。</p>
<p>作为一个有源端发起的按需路由，它可以找到从源头到目的节点的多条路由，当网络拓扑发生改变时，控制消息在改变的拓扑结构范围内传播，节点只需要维护相邻节点的路由信息；</p>
<p>协议由路由建立、路由维护、路由拆除三部分组成。</p>
<h2 id="无线传感网络选择">无线传感网络选择</h2>
<ul>
<li>选择有线还是无线</li>
<li>选择专利还是标准化无线方案</li>
<li>无线标准
<ul>
<li>GPRS</li>
<li>Wi-Fi</li>
<li>蓝牙</li>
<li>ZigBee</li>
</ul>
</li>
<li>无线网络拓扑结构</li>
</ul>
<h2 id="无线体域网">无线体域网</h2>
<p>WBAN由三部分组成：</p>
<ul>
<li>植入或佩戴于人体的<strong>网络神经</strong>，</li>
<li>作为通信枢纽的<strong>汇聚节点</strong>，</li>
<li>负责信息处理和控制整个网络的<strong>上位机监控系统</strong>。</li>
</ul>
<h3 id="wban采集人体生理信息的过程">WBAN采集人体生理信息的过程</h3>
<ol>
<li>某一种生理信号传感器和无线收发装置能够构成一个网络节点，各个节点分布式的分布在人体上，构成局域网。</li>
<li>网络节点在上位机电脑和汇聚节点的指令下收集人体生理信息，将收集到的信息通过汇聚节点传输到上位机电脑。</li>
</ol>
<h2 id="系统集成">系统集成</h2>
<ul>
<li>
<p>系统集成式指综合分布先系统和计算机网络技术，将各个分离的设备、功能和信息等集成到相互关联、统一和协调的系统之中，以达到资源充分共享，实现集中、高效、便利的管理。</p>
</li>
<li>
<p>系统集成采用功能集成、网络集成、软件界面集成等多种集成技术；</p>
</li>
<li>
<p>系统集成的关键在于解决系统之间互联和互操作性的问题，它是一个对厂商、多协议和面向各种应用的结构系统</p>
</li>
</ul>
<p>简而言之，就是把分散的东西集成到一起，使得它们之间可以相互通信共享数据的一种技术。</p>
<h2 id="软件测试的方法">软件测试的方法</h2>
<ul>
<li>黑盒测试，</li>
<li>白盒测试</li>
<li>灰盒测试。</li>
</ul>
<h2 id="静态测试">静态测试</h2>
<p>不执行代码。主要对编程格式、结构等方面进行评估并发现存在的错误。</p>
<p>优点：</p>
<ul>
<li>不必动态地运行代码，不必设计测试用例，不用判断测试结果；</li>
<li><strong>可以由人工进行，充分发挥人的逻辑思维优势，检查出错误的水平很高</strong>；</li>
<li>不需要特别条件，容易开展。</li>
</ul>
<p>具体步骤：</p>
<ul>
<li>代码审查</li>
<li>代码走查</li>
<li>桌面检查</li>
</ul>
<p>其他步骤（查看PPT）</p>
<p><a href="#R-image-4097814f71a98fe7b9955987ce9b44ef" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4097814f71a98fe7b9955987ce9b44ef"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="动态测试">动态测试</h2>
<p>通过运行软件来检查软件的动态行为和运行结果是否正确的方法。</p>
<p>特点：</p>
<ul>
<li>运行被测程序，取得程序运行的真实情况和动态情况，在进行打分；</li>
<li><strong>必须生成测试数据来运行程序，测试质量依赖于测试数据</strong>；</li>
<li>生成测试数据、分析测试结果的工作量大，展开测试费时、费力；</li>
<li><strong>动态测试中涉及多方面的工作，人员多、设备多、数据多、要求有较好的管理和工程规划</strong>；</li>
</ul>
<p>（1） 功能确认与接口测试
（2） 覆盖率分析
（3） 性能分析
（4） 内存分析</p>
<h2 id="集成测试">集成测试</h2>
<p>集成测试也称为组装测试或综合测试，在单元测试的基础上，将模块按照设计要求组装成子系统或系统，进行集成测试。</p>
<p>制定集成测试计划——设计集成测试——实施集成测试——评估集成模块</p>
<p>集成测试完成标准：</p>
<ul>
<li>成功执行了测试计划中规定的所有集成测试；</li>
<li><strong>修整了发现的错误；</strong></li>
<li>测试结果通过了专门小组的评审。</li>
</ul>
<hr>
<p><strong>MQTT和HTTP的底层都是TCP/IP，也就是物联网装置可以沿用既有的网路架构和设备，只是在网路上流通的「讯息格式」以及应用程式的处理机制不同.</strong></p>
<hr>
<h2 id="mqtt协议概述">MQTT协议概述</h2>
<p><a href="#R-image-c5aef7b83e0f25d88bc2a629142e0ee8" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c5aef7b83e0f25d88bc2a629142e0ee8"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
MQTT不同于HTTP标头采用文字描述，而是采用数字编码，整个长度只占2位元组，等同两个字元，后面跟着讯息的主题（topic）和内容（payload），格式如下：</p>
<table>
   <tr>
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td>
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td>
   </tr>
    <tr>
        <td colspan="4">讯息类型</td> 
        <td colspan="1">DUP(是否为副本)</td> 
        <td colspan="2">QoP(传输品质)</td> 
        <td colspan="1">R(是否保留)</td>
   </tr>
   <tr>
        <td>0</td> 
        <td>0</td> 
        <td>1</td> 
        <td>1</td>
        <td>0</td> 
        <td>0</td> 
        <td>0</td> 
        <td>0</td>
   </tr>
    <tr>
      <td colspan="8">剩余资料长度</td>    
    </tr>
</table>
<p><a href="#R-image-d76646c1674f90c4b31c89282de64487" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d76646c1674f90c4b31c89282de64487"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-3edc83d6845c60c8710d63e7df72e50e" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3edc83d6845c60c8710d63e7df72e50e"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="传输品质qos">传输品质QoS</h2>
<p>传输品质QoS表示发布者与代理人（订阅者）之间数据传输的品质。</p>
<table>
<thead>
<tr>
<th>传输品质 QoS</th>
<th>说明</th>
<th>阿里云IOT</th>
</tr>
</thead>
<tbody>
<tr>
<td>QoS=0</td>
<td>最多传输一次，可能收不到</td>
<td>支持</td>
</tr>
<tr>
<td>QoS=1</td>
<td>最少传输一次可能会重传</td>
<td>支持</td>
</tr>
<tr>
<td>QoS=2</td>
<td>有且仅有一次传输</td>
<td>不支持</td>
</tr>
</tbody>
</table>
<p>注：<strong>MosQuito全都支持</strong></p>
<h2 id="mqttlens订阅以及发布消息">MQTTLens订阅以及发布消息</h2>
<p>订阅者可以透过下列三个叙述订阅多个主题：
<a href="#R-image-f11740c67d6e33d6148023fb6fdfbaea" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f11740c67d6e33d6148023fb6fdfbaea"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
结合上面这张图来理解</p>
<p>1.假设订阅者要订阅温度，温度可以来自主题A（yard），主题B(soil)，主题C（Tool）。</p>
<p>订阅某个属性的信息</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>   home<span style="color:#f92672">/+/</span>DHT11
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">号内容可以是</span>yard<span style="color:#960050;background-color:#1e0010">，</span>soil可以写为
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>soil<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">但不可以写为：</span>
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>pond<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>soil<span style="color:#f92672">/</span>DHT11<span style="color:#f92672">/</span>Temp</span></span></code></pre></div><p>订阅三个主题</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>   home<span style="color:#f92672">/+/+</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">包含三个主题，具体如下</span>
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>soil<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>Tool<span style="color:#f92672">/</span>RID</span></span></code></pre></div><p>订阅某个主题的所有属性</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">包含三个主题，具体如下</span>
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>pond<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11<span style="color:#f92672">/</span>temp
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11<span style="color:#f92672">/</span>humi</span></span></code></pre></div><p>在上面的代码中所写的#号表示订阅所有的主题，在使用时注意下面的写法是无效的：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>home<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#f92672">/</span>DHT11 <span style="color:#75715e">//无效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>home<span style="color:#f92672">/</span>yard<span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#75715e">//无效
</span></span></span></code></pre></div><h2 id="综合实验局域网内手机通信">综合实验——局域网内手机通信</h2>
<p>创建AP接入点、TCP服务器，通过手机连接ESP8266模块控制STM32开发板上的LED和蜂鸣器；</p>
<h3 id="实现的功能">实现的功能</h3>
<p>(1)STM32控制ESP8266模块创建AP接入点。</p>
<p>(2)STM32控制ESP8266创建TCP服务器。</p>
<p>(3)通过手机的软件连接ESP8266模块的TCP服务器。</p>
<p>(4)手机上可以通过WIFI模块控制STM32开发板的LED1、LED2、LED3和蜂鸣器。</p>
<p>(5)手机上可以看到STM32上传的温度和湿度。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//ESP8266初始化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//Esp8266Mode:WIFI模块的工作模式，STA和AP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//ssid:要生成或者接入的SSID名字，如果已经一键配网，要写NULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//password:对应SSID的密码，如果已经一键配网，要写NULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//ip:如果要设置静态IP，要写对应的IP，否则写NULL。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>u8 <span style="color:#a6e22e">ESP8266_init</span>(u8 Esp8266Mode, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ssid,<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>password, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ip)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    u8 i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.sta_ip,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.ap_ip,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(Esp8266Mode<span style="color:#f92672">==</span>ESP8266_MODE_STA)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        esp8266.mode<span style="color:#f92672">=</span>ESP8266_MODE_STA;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//STA模式有可能通过了一键配网模式得到了SSID和PSW
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(ssid<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.sta_ssid, <span style="color:#e6db74">&#34;%s&#34;</span>, ssid);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(password<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.sta_password, <span style="color:#e6db74">&#34;%s&#34;</span>, password);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ip<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.sta_ip, <span style="color:#e6db74">&#34;%s&#34;</span>, ip);<span style="color:#75715e">//设置STA模式静态IP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ESP8266_Printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">STA ssid:%s, psw:%s</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, esp8266.sta_ssid, esp8266.sta_password);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        esp8266.ap_chl<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;<span style="color:#75715e">//通道号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        esp8266.ap_ecn<span style="color:#f92672">=</span>ESP8266_ECN_WPA_PSK;<span style="color:#75715e">//加密方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        esp8266.mode<span style="color:#f92672">=</span>ESP8266_MODE_AP;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(esp8266.ap_ssid, <span style="color:#e6db74">&#34;%s&#34;</span>, ssid);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(esp8266.ap_password, <span style="color:#e6db74">&#34;%s&#34;</span>, password);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ip<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.ap_ip, <span style="color:#e6db74">&#34;%s&#34;</span>, ip);<span style="color:#75715e">//设置AP模式静态IP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ESP8266_Printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">AP ssid:%s, psw:%s</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, esp8266.ap_ssid, esp8266.ap_password);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    esp8266.smartconfig<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_reset</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_SendAT</span>(<span style="color:#e6db74">&#34;ATE0</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#ae81ff">1</span>);<span style="color:#75715e">//关回显
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//AP模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_AP<span style="color:#f92672">||</span>esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_AP_STA)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SetWiFiWorkMode</span>(esp8266.mode);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SoftAp</span>(esp8266.ap_ssid, esp8266.ap_password, esp8266.ap_chl, esp8266.ap_ecn);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SoftAp_staticIp</span>(esp8266.ap_ip);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//STA模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_STA<span style="color:#f92672">||</span>esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_AP_STA)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SetWiFiWorkMode</span>(esp8266.mode);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_ConnectAp</span>(esp8266.sta_ssid, esp8266.sta_password, NULL);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_Station_staticIp</span>(esp8266.sta_ip);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//启动DHCP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ESP8266_SetDhcp</span>(esp8266.mode, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_SendAT</span>(<span style="color:#e6db74">&#34;AT+CWLAPOPT=1,2047</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//设置WIFI工作的传输模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//transportProtocol：UDP，TCPservice,tcp_client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//localPort:本地端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//remoteIp：远端的IP，如果是TCPservice模式，请写NULL或者&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//remotePort：远端端口号的PORT
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>u8 <span style="color:#a6e22e">ESP8266_SetWorkMode</span>(u8 transportProtocol, u16 localPort, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>remoteIp, u16 remotePort)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    u8 i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    esp8266.localPort<span style="color:#f92672">=</span>localPort;
</span></span><span style="display:flex;"><span>    esp8266.isConnect<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//连接是否创建　　1：已经创建
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ID为无效的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    esp8266.clientId[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    esp8266.clientId[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    esp8266.clientId[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    esp8266.clientId[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.sta_mac,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">30</span>);
</span></span><span style="display:flex;"><span>    esp8266.curLen<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    esp8266.data_len<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.remoteIp,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ESP8266_TCP_SERVICE<span style="color:#f92672">==</span>transportProtocol)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.connectMode<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#75715e">//1：TCP service  2:TCP client   3:UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(remoteIp<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.remoteIp, <span style="color:#e6db74">&#34;%s&#34;</span>, remoteIp);
</span></span><span style="display:flex;"><span>      esp8266.remotePort<span style="color:#f92672">=</span>remotePort;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(ESP8266_TCP_CLIENT<span style="color:#f92672">==</span>transportProtocol)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.connectMode<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;<span style="color:#75715e">//1：TCP service  2:TCP client   3:UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(remoteIp<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.remoteIp, <span style="color:#e6db74">&#34;%s&#34;</span>, remoteIp);
</span></span><span style="display:flex;"><span>      esp8266.remotePort<span style="color:#f92672">=</span>remotePort;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(ESP8266_UDP<span style="color:#f92672">==</span>transportProtocol)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.connectMode<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;<span style="color:#75715e">//1：TCP service  2:TCP client   3:UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(remoteIp<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.remoteIp, <span style="color:#e6db74">&#34;%s&#34;</span>, remoteIp);
</span></span><span style="display:flex;"><span>      esp8266.remotePort<span style="color:#f92672">=</span>remotePort;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_Printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">connectMode:%d, ip:%s, port:%d</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, esp8266.connectMode, esp8266.remoteIp,esp8266.remotePort);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  <span style="color:#75715e">//收到数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  ptr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">strstr</span>((<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)cmd,(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#e6db74">&#34;+IPD,&#34;</span>); <span style="color:#75715e">//接收到+IPD开头，说明接收到数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span>(ptr<span style="color:#f92672">!=</span>NULL)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    u8 id<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//+IPD,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ptr<span style="color:#f92672">+=</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ptr<span style="color:#f92672">==</span>NULL) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//如果是TCP服务器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//格式会多一个id
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.connectMode<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//如果是TCP服务器，找出&lt;link ID &gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//TCP服务的处理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      id<span style="color:#f92672">=</span><span style="color:#a6e22e">atoi</span>(ptr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span>(ptr<span style="color:#f92672">!=</span>NULL <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">*</span>ptr<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;,&#39;</span>) ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>      ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    esp8266.data_len<span style="color:#f92672">=</span><span style="color:#a6e22e">atoi</span>(ptr);<span style="color:#75715e">//读出接收到的数据长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(ptr<span style="color:#f92672">!=</span>NULL <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">*</span>ptr<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;:&#39;</span>) ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.data, <span style="color:#ae81ff">0</span>, MAX_WIFI_RX_LEN);
</span></span><span style="display:flex;"><span>    esp8266.curLen<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//读出收到的数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(esp8266.curLen<span style="color:#f92672">&lt;</span>MAX_WIFI_RX_LEN <span style="color:#f92672">&amp;&amp;</span> esp8266.curLen<span style="color:#f92672">&lt;</span>esp8266.data_len <span style="color:#f92672">&amp;&amp;</span> ptr<span style="color:#f92672">!=</span>NULL <span style="color:#f92672">&amp;&amp;</span> ((ptr<span style="color:#f92672">-</span>cmd)<span style="color:#f92672">&lt;=</span>len))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.data[esp8266.curLen]<span style="color:#f92672">=*</span>ptr;<span style="color:#75715e">//数据存储
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>      esp8266.curLen<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//一次性把数据接收全
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.curLen<span style="color:#f92672">&gt;=</span>esp8266.data_len)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>	   <span style="color:#75715e">//对接收到的数据进行处理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">ESP8266_RxData</span>(esp8266.data, esp8266.curLen);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      esp8266.curLen<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>      esp8266.data_len<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    re<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  }</span></span></code></pre></div><h2 id="实验三">实验三</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">//以下是启动AP模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ESP8266_init</span>(ESP8266_MODE_AP, WIFI_SSID, WIFI_PASSWORD, WIFI_IP);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//配置协议模式：TCP服务器、TCP客户端或者UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//配置要连接的IP和端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//注意！！注意！！注意！！以下二个配置参数只能打开其中一个。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//配置TCP服务器参数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//ESP8266_SetWorkMode(ESP8266_TCP_SERVICE, WIFI_PORT, NULL, 10000);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>     <span style="color:#75715e">//ESP8266_SetWorkMode(ESP8266_TCP_CLIENT, WIFI_PORT, ROMOTE_IP, ROMOTE_PORT);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//配置UDP的参数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//这里的IP&#34;192.168.1.90&#34;为UDP服务器所在的电脑IP，根据实际情况修改
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ESP8266_SetWorkMode</span>(ESP8266_UDP, WIFI_PORT, <span style="color:#e6db74">&#34;192.168.1.2&#34;</span>, <span style="color:#ae81ff">10000</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>((count<span style="color:#f92672">%</span><span style="color:#ae81ff">20</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>  					<span style="color:#a6e22e">ESP8266_run</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//3秒采集温湿度一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>((count<span style="color:#f92672">%</span><span style="color:#ae81ff">300</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//300次累加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">DHT11</span>(<span style="color:#f92672">&amp;</span>t, <span style="color:#f92672">&amp;</span>h);<span style="color:#75715e">//采集温湿度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">sprintf</span>(buff, <span style="color:#e6db74">&#34;温度:%02d,湿度:%02d.</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, t,h);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Gui_DrawFont_GBK16_line</span>(HAL_LCD_LINE_8,RED,WHITE,buff);<span style="color:#75715e">//发送温度值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">ESP8266_SendData</span>(buff, <span style="color:#a6e22e">strlen</span>(buff));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay_ms</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//闪灯表示程序活着
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>((count<span style="color:#f92672">%</span><span style="color:#ae81ff">20</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>) LED1<span style="color:#f92672">=!</span>LED1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="实验十">实验十</h2>
<p><a href="#R-image-b1020c341782241d4a0d4ef5fbe058e2" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-6.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b1020c341782241d4a0d4ef5fbe058e2"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-6.png" alt="1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-27a97a34ca2f6d41ea2c4d4762e1d8a0" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-7.png" alt="2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-27a97a34ca2f6d41ea2c4d4762e1d8a0"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-7.png" alt="2" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-8202f140bdc9beb6e8e84d33c06cb07b" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-8.png" alt="3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8202f140bdc9beb6e8e84d33c06cb07b"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-8.png" alt="3" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-7ba660c3fcf7804b75844e747dbab905" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-9.png" alt="4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7ba660c3fcf7804b75844e747dbab905"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-9.png" alt="4" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5e855ea64e411c01474b26c9319a4bfa" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-10.png" alt="5" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5e855ea64e411c01474b26c9319a4bfa"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-10.png" alt="5" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-449606348c729a925900819e4881d992" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-11.png" alt="6" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-449606348c729a925900819e4881d992"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-11.png" alt="6" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-901177201cc0160b6292d8a569962793" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-12.png" alt="7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-901177201cc0160b6292d8a569962793"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-12.png" alt="7" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-ea1f20920ab3a165beb827db4313328d" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-13.png" alt="8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ea1f20920ab3a165beb827db4313328d"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-13.png" alt="8" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="关于stm32工程代码的几点说明">关于STM32工程代码的几点说明</h2>
<p>Define 是C语言中的宏定义，可以提高代码的可读性为编程提供方便。</p>
<p>STM32开发板的下载方式是串口；</p>
<p>函数定义的静态变量可以不赋初值，因为程序会分配存储空间；</p>
<h2 id="温度读取流程">温度读取流程</h2>
<ul>
<li>判断传感器相应是否正确；</li>
<li>安慰读取数值；</li>
<li>判断检验和是否正确；</li>
<li>提取温度值</li>
</ul>
<h2 id="在智慧大棚中采集温度值或者是光照值应该">在智慧大棚中采集温度值或者是光照值应该</h2>
<ul>
<li>在STM32开发板上搭建TCP服务器；</li>
<li>在不同区域放置若干WiFi模块，采集DHT11温湿度传感器；</li>
<li>WiFi模块和STM32模块连到同一个无线路由</li>
<li>WIFI模块通过TCP协议将传感器温湿度值传到服务器</li>
<li>传感器将接收到的数据存储在数据库中。</li>
</ul>
<h2 id="根据土壤情况进行自动灌溉">根据土壤情况进行自动灌溉</h2>
<ul>
<li>在STM32板子上搭建TCP服务器；</li>
<li>在大棚的不同区域放置若干WIFI模块，采集土壤湿度信息；</li>
<li>WiFi模块和STM32板子连接到同一个路由器；</li>
<li>WiFi模块通过TCP通信协议将土壤湿度信息传到服务器；</li>
<li>服务器更具当前的温湿度信息和阈值，启动和停止水泵。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></li>
</ul>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0/">F1-复习</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/arkts/">ArkTS</a></li>
    <li><a class="term-link" href="./tags/harmonyos/">HarmonyOS</a></li>
    <li><a class="term-link" href="./tags/openharmony/">OpenHarmony</a></li>
    <li><a class="term-link" href="./tags/%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96/">云端一体化</a></li>
  </ul>
</div>
            </header>
<h1 id="10云端一体化的环境变量问题">10.云端一体化的环境变量问题</h1>

<p>参数<strong>context</strong> 与环境变量有关，不管是系统还是用户自定义的都用这个来获取，获取方式：context.env</p>
<ul>
<li>先部署云函数到远端，然后在去远端添加环境变量，然后在本地运行虚拟机查看。</li>
</ul>
<p>负载均衡的四种方式</p>
<ul>
<li>随机</li>
<li>轮询</li>
<li>最少连接数</li>
<li>最短响应时间</li>
</ul>
<p>延迟时长的重试策略</p>
<ul>
<li>zero:一旦云函数调用失败，则调用，中间不等待</li>
<li>constant：调用失败等一段时间</li>
<li>jittered:调用失败等一段时间，再次调用，如果失败等待时间以指数增长</li>
</ul>
<p>熔断</p>
<p>设置一定的条件，满足条件后会执行熔断。熔断后云函数不在提供服务。</p>
<p><a href="#R-image-3d5263d4e61c6b2141764d8ae2290100" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/./log.JPG" alt="e" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3d5263d4e61c6b2141764d8ae2290100"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/./log.JPG" alt="e" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">应用开发</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/arkts/">ArkTS</a></li>
    <li><a class="term-link" href="./tags/harmonyos/">HarmonyOS</a></li>
    <li><a class="term-link" href="./tags/openharmony/">OpenHarmony</a></li>
    <li><a class="term-link" href="./tags/%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96/">云端一体化</a></li>
  </ul>
</div>
            </header>
<h1 id="9云端一体化如何查看云函数日志">9.云端一体化如何查看云函数日志？</h1>

<p>调用云函数的时候我们总有输入输出结果不符合自己预期的时候，这个时候查看日志很重要！！在云端一体化开发过程中，我们可以通过下面的方式解决这一问题：</p>
<p>首先参数event的输出以JSON格式输出，这样方便阅读，下面有一段代码，</p>
<p>云函数代码如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">stringify</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;querystring&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">myHandler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">callback</span>, <span style="color:#a6e22e">logger</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">info</span>(<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">event</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">callback</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">code</span>: <span style="color:#66d9ef">200</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.`</span>
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> { <span style="color:#a6e22e">myHandler</span> };</span></span></code></pre></div><p>获取信息的ets文件如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyIndex</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">message</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;请输入姓名&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;使用云端一体化&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">callFunction</span>({
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;login&#39;</span>,<span style="color:#75715e">//云函数的名字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#a6e22e">version</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;$latest&#39;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span>{<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">this.name</span>}
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span><span style="color:#f92672">=</span><span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">getValue</span>().<span style="color:#a6e22e">message</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Text</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontWeight</span>(<span style="color:#a6e22e">FontWeight</span>.<span style="color:#a6e22e">Bold</span>)
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p><strong>function函数的说明：</strong></p>
<ul>
<li>触发条件：
<ul>
<li>HTTP请求，</li>
<li>云数据库插入，</li>
<li>云存储</li>
</ul>
</li>
<li>参数含义：
<ul>
<li>输入信息（），</li>
<li>执行时上下文信息（环境变量），</li>
<li>输出（返回结果给调用者），</li>
<li>记录日志（）</li>
</ul>
</li>
</ul>
<p>此处做了这样的处理使得日志输出以JSON格式输出：</p>
<hr>
<pre><code>logger.info(JSON.stringify(event))
</code></pre>
<hr>
<p>当遇到问题时，去官方的开发论坛搜索相关内容，
此处我想实现输入一个名字，然后让云端函数以不同的方式输出，比如：</p>
<hr>
<p>你好，张三</p>
<p>你好，李四</p>
<hr>
<p>但是现在输出的是：<strong>你好，%&amp;*%%</strong></p>
<p>解决办法：</p>
<p><a href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-cloudfunction-appx-event-0000001620581529" target="_blank">查看event参数说明</a></p>
<p><a href="#R-image-7731ad9fecad92a816468a2e4e59ee2c" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image.png" alt="jietu1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7731ad9fecad92a816468a2e4e59ee2c"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image.png" alt="jietu1" class="lightbox-image        " loading="lazy"></a></p>
<p>再去CAG官网选择云监控&mdash;&gt;日志服务</p>
<p><a href="#R-image-7611465673edf03bc7f5adc6f567384a" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-1.png" alt="截图2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7611465673edf03bc7f5adc6f567384a"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-1.png" alt="截图2" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制右边的内容,放到一个json文件夹，用编译器（比如VScode）打开，并调整格式(如果用的是VScode，请使用<strong>shift+alt+F</strong>调整json格式)如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-jsonyouweishengke" data-lang="jsonyouweishengke">{
    &#34;path&#34;: &#34;login-$latest&#34;,
    &#34;httpMethod&#34;: &#34;POST&#34;,

    &#34;headers&#34;: 
    {
        &#34;user-agent&#34;: &#34;libcurl-agent/1.0&#34;,
        &#34;x-forwarded-for&#34;: &#34;115.46.239.151, 10.135.135.154, 10.134.64.11&#34;,
        &#34;x-forwarded-port&#34;: &#34;443&#34;,
        &#34;accept&#34;: &#34;*/*&#34;,
        &#34;accept-encoding&#34;: &#34;gzip&#34;,
        &#34;agcgw-trigger-authtype&#34;: &#34;apigw-client&#34;,
        &#34;host&#34;: &#34;10.14.4.31&#34;,
        &#34;content-type&#34;: &#34;application/json;charset=UTF-8&#34;,
        &#34;packagename&#34;: &#34;com.itwcx.test&#34;,
        &#34;appid&#34;: &#34;5765880207853994135&#34;,
        &#34;authorization&#34;: &#34;SDK-HMAC-SHA256 containPath=false,containBody=false,containQuery=false,accessId=m7rTGQ2uNvyq1AGfJFLo,timestamp=1711175951586,signedHeaders=appid;productid,signature=44fe3b4da7d80ec9dfee07ca3747c448e94254b5454fef87f468150089f38623&#34;,
        &#34;x-forwarded-host&#34;: &#34;10.14.4.31&#34;,
        &#34;appversion&#34;: &#34;1.0.0&#34;,
        &#34;sdkplatformversion&#34;: &#34;3.2.0.0&#34;,
        &#34;sdktype&#34;: &#34;TS&#34;,
        &#34;content-length&#34;: &#34;19&#34;,
        &#34;x-real-ip&#34;: &#34;10.134.64.11&#34;,
        &#34;sdkversion&#34;: &#34;1.0.0&#34;,
        &#34;x-forwarded-proto&#34;: &#34;https&#34;,
        &#34;sdkservicename&#34;: &#34;agconnect-cloud&#34;,
        &#34;x-trace-id&#34;: &#34;f09f1070-6d7b-46a9-875d-bfb2bc4bfdb9&#34;,
        &#34;productid&#34;: &#34;388421841222044287&#34;,
        &#34;sdkplatform&#34;: &#34;OpenHarmony&#34;
    },

    &#34;queryStringParameters&#34;: &#34;&#34;,
    &#34;queryParameters&#34;: null,
    &#34;body&#34;: &#34;{\&#34;name\&#34;:\&#34;zhangsan\&#34;}&#34;,
    &#34;isBase64Encoded&#34;: false,
    &#34;pathVariable&#34;: null
}</code></pre></div><p>此处我们只查看参数event的HTTP请求的相关说明：</p>
<p>比较官网的event参数格式与自己日志打印的格式，看看有什么不同</p>
<p><a href="#R-image-870261d3825c4a4b593d2c402bd0bc24" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-2.png" alt="截图3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-870261d3825c4a4b593d2c402bd0bc24"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-2.png" alt="截图3" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-83b8961c9b3ec2720b8b6faaac9d667c" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-3.png" alt="截图4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-83b8961c9b3ec2720b8b6faaac9d667c"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-3.png" alt="截图4" class="lightbox-image        " loading="lazy"></a></p>
<p>观察可知问题出在body这个参数，参数是json格式，而日志打印的是字符格式，我们需要把字符格式转换成json格式，做如下操作：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TS" data-lang="TS"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">stringify</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;querystring&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">myHandler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">callback</span>, <span style="color:#a6e22e">logger</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">info</span>(<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">event</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">body</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">callback</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">code</span>: <span style="color:#66d9ef">200</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.`</span>
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> { <span style="color:#a6e22e">myHandler</span> };</span></span></code></pre></div><p>上面的代码中</p>
<hr>
<pre><code>const obj = JSON.parse(event.body)
const name = obj.name
</code></pre>
<hr>
<p>就是转换操作。</p>
<h2 id="认证服务">认证服务</h2>
<h3 id="登录页面的实现">登录页面的实现</h3>
<p><a href="#R-image-f19ee4ffd5a61e42e9554738a8d98ad1" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-4.png" alt="截图7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f19ee4ffd5a61e42e9554738a8d98ad1"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-4.png" alt="截图7" class="lightbox-image        " loading="lazy"></a></p>
<p>登录验证代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AuthMode</span>,<span style="color:#a6e22e">Login</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/auth-component&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AuthUser</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLogin</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">message</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Hello World&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Login</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">modes</span><span style="color:#f92672">:</span>[<span style="color:#a6e22e">AuthMode</span>.<span style="color:#a6e22e">PHONE_VERIFY_CODE</span>],
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">onSuccess</span><span style="color:#f92672">:</span>(<span style="color:#a6e22e">usr</span>:<span style="color:#66d9ef">AuthUser</span>) <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">pushUrl</span>({<span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;page/MyWelcome&#39;</span>})
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }){
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登录&#39;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p><a href="#R-image-15e05e55bbace0af28fdeeb5d9c6315b" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-5.png" alt="12" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-15e05e55bbace0af28fdeeb5d9c6315b"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-5.png" alt="12" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="页面登录获取验证码">页面登录获取验证码</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Auth</span>, <span style="color:#a6e22e">VerifyCodeAction</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLogin</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">countDown</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//用一个变量来获取setinterval的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">intervalId</span>:<span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">//因为这个变量与页面显示无关所以不用@State注释
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonEnable</span>:<span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonText</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;获取验证码&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCode</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;输入验证码&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//定时器代码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">waiting</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//在一点击时，就显示10S
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(() <span style="color:#f92672">=&gt;</span> { <span style="color:#75715e">//要知道定时器结束没有需要知道它的返回结果，这个结果可以通过setinterval的ID获取。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//将倒计时显示出来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//如果减到0，清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span>)<span style="color:#75715e">//得到返回结果后清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;获取验证码&#39;</span><span style="color:#75715e">//倒计时结束时回复
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#75715e">//当点击时按键不可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#75715e">//不需要再往下继续执行了，所以return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#f92672">--</span>
</span></span><span style="display:flex;"><span>    },<span style="color:#ae81ff">1000</span>)<span style="color:#75715e">//每隔1秒减一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">judgement</span>(){
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span>){
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>     }<span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">sending_verifyCode</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> { <span style="color:#75715e">//调用方式异步调用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">requestVerifyCode</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">verifyCodeType</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">action</span>: <span style="color:#66d9ef">VerifyCodeAction.REGISTER_LOGIN</span>, <span style="color:#75715e">//验证的方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">lang</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zh_CN&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sendInterval</span>: <span style="color:#66d9ef">10</span>
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({ <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;错误&#39;</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;验证码失败&#39;</span> })<span style="color:#75715e">//弹窗内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">login_verify</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span>  <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signIn</span>({ <span style="color:#75715e">//定义一个变量来接收它的返回结果,返回的是result，在通过result.gitUsr获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">credentialInfo</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">verifyCode</span>: <span style="color:#66d9ef">this.verifyCode</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">getUser</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AppStorage</span>.<span style="color:#a6e22e">SetOrCreate</span>(<span style="color:#e6db74">&#39;user&#39;</span>,<span style="color:#a6e22e">user</span>)<span style="color:#75715e">//存储用户到 AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;pages/MyLoginLignOut&#39;</span> })
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({<span style="color:#a6e22e">title</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;错误&#39;</span>,<span style="color:#a6e22e">message</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;登陆失败&#39;</span>})
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;请输入手机号&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#66d9ef">type</span>(<span style="color:#a6e22e">InputType</span>.Number)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">values</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">values</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">judgement</span>()<span style="color:#75715e">//点击获取验证码时，判断按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        })
</span></span><span style="display:flex;"><span>       <span style="color:#a6e22e">Row</span>(){
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;验证码&#39;</span>})
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;70%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span><span style="color:#f92672">=</span><span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">Button</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;30%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span>)<span style="color:#75715e">//该属性是控制按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span>{ <span style="color:#75715e">//所在方法加async
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waiting</span>()
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sending_verifyCode</span>()
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登录&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">6</span>)<span style="color:#75715e">//手机号11位，且验证码六位时点击登录才有效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">login_verify</span>()
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>登录后跳转到的页面：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> ,{<span style="color:#a6e22e">AuthUser</span>}<span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;@hw-agconnect/cloud&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLoginLignOut</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">photoUrl</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储头像路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">displayName</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储用户昵称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@StorageLink</span>(<span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#a6e22e">user</span>:<span style="color:#66d9ef">AuthUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">//定义一个AuthUser的类型来获取用户存的值，(&#39;user&#39;)叫存储对象名，是在另一个页面定义的名字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">aboutToAppear</span>(){<span style="color:#75715e">//build渲染前就运行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//1.cloud.auth().getCurrentUser()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//2.appStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getDisplayName</span>()<span style="color:#75715e">//获取用户，间接通过用户拿到用户头像等数据。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getPhotoUrl</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Row</span>(){
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">Image</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl?this.photoUrl</span>:<span style="color:#66d9ef">$r</span>(<span style="color:#e6db74">&#39;app.media.app_icon&#39;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">onClick</span>(()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://img.btstu.cn/api/images/5a2a5d5560223.jpg&#39;</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        }.<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">justifyContent</span>(<span style="color:#a6e22e">FlexAlign</span>.<span style="color:#a6e22e">Center</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">padding</span>({<span style="color:#a6e22e">bottom</span>:<span style="color:#66d9ef">70</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;设置昵称&#39;</span>,<span style="color:#a6e22e">text</span>:<span style="color:#66d9ef">this.displayName</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">25</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontWeight</span>(<span style="color:#a6e22e">FontWeight</span>.<span style="color:#a6e22e">Bold</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;保存&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">margin</span>({<span style="color:#a6e22e">top</span>:<span style="color:#66d9ef">10</span>,<span style="color:#a6e22e">bottom</span>:<span style="color:#66d9ef">10</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{<span style="color:#75715e">//保存图片与用户名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">updateProfile</span>({<span style="color:#75715e">//保存头像、用户名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">displayName</span>: <span style="color:#66d9ef">this.displayName</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">photoUrl</span>: <span style="color:#66d9ef">this.photoUrl</span>
</span></span><span style="display:flex;"><span>              })
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;updateProfile&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;updateProfile&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登出&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">margin</span>({<span style="color:#a6e22e">top</span>:<span style="color:#66d9ef">10</span>,<span style="color:#a6e22e">bottom</span>:<span style="color:#66d9ef">10</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signOut</span>()
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;SignOut&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({<span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;pages/MyLogin&#39;</span>})
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;SignOut&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h3 id="个人设置中心">个人设置中心</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span>, { <span style="color:#a6e22e">AuthUser</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">picker</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.file.picker&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyIndex</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">photoUrl</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储头像路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">displayName</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储用户昵称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@StorageLink</span>(<span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#a6e22e">user</span>: <span style="color:#66d9ef">AuthUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">//定义一个AuthUser的类型来获取用户存的值，(&#39;user&#39;)叫存储对象名，是在另一个页面定义的名字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">uploading</span>: <span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#75715e">//用户控制图片是否可以点击，上传时不可以点击
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">uploadingText</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0%&#39;</span><span style="color:#75715e">//上传进度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">aboutToAppear() {</span>  <span style="color:#75715e">//build渲染前就运行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// 1. cloud.auth().getCurrentUser()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// 2. AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span><span style="color:#f92672">?</span>.<span style="color:#a6e22e">getDisplayName</span>()<span style="color:#75715e">//获取用户，间接通过用户拿到用户头像等数据。加问号是因为在aboutToAppear运行时是无法获取用户名或图片等信息的
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span><span style="color:#f92672">?</span>.<span style="color:#a6e22e">getPhotoUrl</span>()
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column</span>({ <span style="color:#a6e22e">space</span>: <span style="color:#66d9ef">10</span> }) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Stack() {</span><span style="color:#75715e">//Stack该属性让它所包含的组件重叠
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          <span style="color:#a6e22e">Image</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> : <span style="color:#66d9ef">$r</span>(<span style="color:#e6db74">&#39;app.media.user_dark&#39;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">borderRadius</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">enabled</span>(<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">onComplete</span>(()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#75715e">// this.photoUrl = &#39;网络图片的地址&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 1. 从相簿中选照片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">picker</span>.<span style="color:#a6e22e">PhotoSelectOptions</span>()
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">MIMEType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">picker</span>.<span style="color:#a6e22e">PhotoViewMIMETypes</span>.<span style="color:#a6e22e">IMAGE_TYPE</span><span style="color:#75715e">//媒体类型：视频还是图片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">maxSelectNumber</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#75715e">//最大选择个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">picker</span>.<span style="color:#a6e22e">PhotoViewPicker</span>().<span style="color:#a6e22e">select</span>(<span style="color:#a6e22e">options</span>)<span style="color:#75715e">//把参数传给下面的方法，把结果传给result
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#e6db74">`Picker Success </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">photoUris</span>[<span style="color:#ae81ff">0</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 2. 调云存储 api 上传照片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">storage</span>().<span style="color:#a6e22e">upload</span>({
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">localPath</span>: <span style="color:#66d9ef">result.photoUris</span>[<span style="color:#ae81ff">0</span>],<span style="color:#75715e">//本地图片路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">cloudPath</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`test/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getUid</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">.jpg`</span>,<span style="color:#75715e">//云存储那边存储的路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">onUploadProgress</span>: <span style="color:#66d9ef">event</span> <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">percent</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">loaded</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">total</span>)<span style="color:#75715e">//获取上传的百分比，event.loaded：已上传的自己数，event.total：总的自己数，Math.floor：舍弃小数点
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploadingText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">percent</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%`</span>  <span style="color:#75715e">//数值更新到uploadingText
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  }
</span></span><span style="display:flex;"><span>                })
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#e6db74">&#39;Upload Success&#39;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 3. 获取上传照片的网络地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">url</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">storage</span>().<span style="color:#a6e22e">getDownloadURL</span>(<span style="color:#e6db74">`test/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getUid</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">.jpg`</span>)<span style="color:#75715e">//获取公网地址，拿到图片在网络上的地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">url</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&amp;ts=</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getTime</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span><span style="color:#75715e">//这个里做这个处理是因为，图片被缓存起来了，上传的时候如果只是给云存储的地址，那么在传第二张图片到云存储后，photoUrl再获取时，因为图片地址不变照片也不会改变，它会缓存起来，而在图片后面加上一个时间图片就不在被缓存。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// this.uploading = false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#e6db74">`url: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">url</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>              } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>              }
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 显示上传进度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">Text</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploadingText</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">borderRadius</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">fontColor</span>(<span style="color:#e6db74">&#39;white&#39;</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">backgroundColor</span>(<span style="color:#e6db74">&#39;black&#39;</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">opacity</span>(<span style="color:#ae81ff">0.6</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">24</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">fontWeight</span>(<span style="color:#a6e22e">FontWeight</span>.<span style="color:#a6e22e">Bolder</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">textAlign</span>(<span style="color:#a6e22e">TextAlign</span>.<span style="color:#a6e22e">Center</span>)<span style="color:#75715e">//文字对齐方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({ <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请设置昵称&#39;</span>, <span style="color:#a6e22e">text</span>: <span style="color:#66d9ef">this.displayName</span> })
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;50%&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">`保存`</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">updateProfile</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">displayName</span>: <span style="color:#66d9ef">this.displayName</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">photoUrl</span>: <span style="color:#66d9ef">this.photoUrl</span>
</span></span><span style="display:flex;"><span>              })
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;updateProfile&#39;</span>, <span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;updateProfile&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">`登出`</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signOut</span>()
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;SignOut&#39;</span>, <span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;pages/MyLoginCustom&#39;</span> })
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;SignOut&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="登录页面">登录页面</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Auth</span>, <span style="color:#a6e22e">VerifyCodeAction</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLogin</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">countDown</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//用一个变量来获取setinterval的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">intervalId</span>:<span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">//因为这个变量与页面显示无关所以不用@State注释
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonEnable</span>:<span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonText</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;获取验证码&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCode</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;输入验证码&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">mainPage</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`pages/StudentPage`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">aboutToAppear() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">getCurrentUser</span>()<span style="color:#75715e">//获取当前认证用户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">user</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {<span style="color:#75715e">//获取用户是否为空，如果用户已经断开会话，则下一次进入时间走时登录流程
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">AppStorage</span>.<span style="color:#a6e22e">SetOrCreate</span>(<span style="color:#e6db74">&#39;user&#39;</span>, <span style="color:#a6e22e">user</span>) <span style="color:#75715e">// 如果会话未断开，不走登录流程，而是吧用户数据存到AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span>: <span style="color:#66d9ef">this.mainPage</span> })
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Login&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//定时器代码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">waiting</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//在一点击时，就显示10S
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(() <span style="color:#f92672">=&gt;</span> { <span style="color:#75715e">//要知道定时器结束没有需要知道它的返回结果，这个结果可以通过setinterval的ID获取。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//将倒计时显示出来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//如果减到0，清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span>)<span style="color:#75715e">//得到返回结果后清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;获取验证码&#39;</span><span style="color:#75715e">//倒计时结束时回复
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#75715e">//当点击时按键不可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#75715e">//不需要再往下继续执行了，所以return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#f92672">--</span>
</span></span><span style="display:flex;"><span>    },<span style="color:#ae81ff">1000</span>)<span style="color:#75715e">//每隔1秒减一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">judgement</span>(){
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span>){
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>     }<span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">sending_verifyCode</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> { <span style="color:#75715e">//调用方式异步调用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">requestVerifyCode</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">verifyCodeType</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">action</span>: <span style="color:#66d9ef">VerifyCodeAction.REGISTER_LOGIN</span>, <span style="color:#75715e">//验证的方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">lang</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zh_CN&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sendInterval</span>: <span style="color:#66d9ef">10</span>
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({ <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;错误&#39;</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;验证码失败&#39;</span> })<span style="color:#75715e">//弹窗内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">login_verify</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span>  <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signIn</span>({ <span style="color:#75715e">//定义一个变量来接收它的返回结果,返回的是result，在通过result.gitUsr获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">credentialInfo</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">verifyCode</span>: <span style="color:#66d9ef">this.verifyCode</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">getUser</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AppStorage</span>.<span style="color:#a6e22e">SetOrCreate</span>(<span style="color:#e6db74">&#39;user&#39;</span>,<span style="color:#a6e22e">user</span>)<span style="color:#75715e">//存储用户到 AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;pages/MyLoginLignOut&#39;</span> })
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({<span style="color:#a6e22e">title</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;错误&#39;</span>,<span style="color:#a6e22e">message</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;登陆失败&#39;</span>})
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;请输入手机号&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#66d9ef">type</span>(<span style="color:#a6e22e">InputType</span>.Number)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">values</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">values</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">judgement</span>()<span style="color:#75715e">//点击获取验证码时，判断按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        })
</span></span><span style="display:flex;"><span>       <span style="color:#a6e22e">Row</span>(){
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;验证码&#39;</span>})
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;70%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span><span style="color:#f92672">=</span><span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">Button</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;30%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span>)<span style="color:#75715e">//该属性是控制按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span>{ <span style="color:#75715e">//所在方法加async
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waiting</span>()
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sending_verifyCode</span>()
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登录&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">6</span>)<span style="color:#75715e">//手机号11位，且验证码六位时点击登录才有效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">login_verify</span>()
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>希望文档对你有所帮助。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">应用开发</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/arkts%E8%AF%AD%E8%A8%80/">ArkTS语言</a></li>
    <li><a class="term-link" href="./tags/harmonyos/">HarmonyOS</a></li>
    <li><a class="term-link" href="./tags/openharmony/">OpenHarmony</a></li>
  </ul>
</div>
            </header>
<h1 id="8速通arkts语言">8.速通ArkTS语言</h1>

<h2 id="数据类型">数据类型</h2>
<p><a href="#R-image-b093c75d5f61decb379a0748c2ceefa2" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b093c75d5f61decb379a0748c2ceefa2"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="https://www.typescriptlang.org/play" target="_blank">练习网址：</a></p>
<h2 id="条件语句">条件语句</h2>
<p><a href="#R-image-0aaf28c2a28b89f5eaa05e547d57f800" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-1.png" alt="alt text1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0aaf28c2a28b89f5eaa05e547d57f800"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-1.png" alt="alt text1" class="lightbox-image        " loading="lazy"></a></p>
<p>拓展：for in与for of的使用</p>
<ul>
<li>for in ：遍历得到数组的角标，</li>
<li>for of ：直接得到元素。
<a href="#R-image-7953e68523110fccc77aad7a6b8106b6" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7953e68523110fccc77aad7a6b8106b6"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h2 id="函数">函数</h2>
<p>使用function关键字声明函数，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TS" data-lang="TS"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">outname</span>(<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span><span style="color:#66d9ef">void</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;你好&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">name</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//第二种写法：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">outname</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span>)<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;你好&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">name</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">outname</span>(<span style="color:#e6db74">&#39;lucy&#39;</span>)</span></span></code></pre></div><p>ts还提供了一种可传参数和不传参数也执行的函数的操作，写法如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TS" data-lang="TS"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">outname</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;张三&#39;</span>)<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;你好&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">name</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">outname</span>()</span></span></code></pre></div><h2 id="面向对象">面向对象</h2>
<h2 id="模块的导入导出">模块的导入导出</h2>
<p>提高代码的重复使用
<a href="#R-image-32875e285ef51c777ae6b70e1788074e" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-3.png" alt="alt text3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-32875e285ef51c777ae6b70e1788074e"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-3.png" alt="alt text3" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="组件的使用">组件的使用</h2>
<h3 id="image组件">image组件</h3>
<h3 id="textinput组件">textinput组件</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">text</span>:<span style="color:#66d9ef">this.imagewidth.toFixed</span>(<span style="color:#ae81ff">0</span>)})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">150</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">backgroundColor</span>(<span style="color:#e6db74">&#39;#36D00A&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#66d9ef">type</span>(<span style="color:#a6e22e">InputType</span>.Number)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>( <span style="color:#a6e22e">values</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">imagewidth</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">values</span>)
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;nihao&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">150</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">backgroundColor</span>(<span style="color:#e6db74">&#39;#4399&#39;</span>)</span></span></code></pre></div><p>效果如下图：
<a href="#R-image-2f900788503d2e6c00bb0b10c0eb321d" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-4.png" alt="效果1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2f900788503d2e6c00bb0b10c0eb321d"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-4.png" alt="效果1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-907e4db33e2eceabb5a7351601bdcc9a" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-5.png" alt="效果2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-907e4db33e2eceabb5a7351601bdcc9a"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-5.png" alt="效果2" class="lightbox-image        " loading="lazy"></a></p>
<p>文本框内输入的值是什么类型的数据呢？</p>
<p>从上面的代码可知是字符型的，此处我们用<code>parseInt</code>将一个变量转换成number类型，又用方法<code>.toFixed()</code>将一个number类型的变量转换成字符串型。</p>
<h3 id="按键组件">按键组件</h3>
<p><a href="#R-image-ad286b7cc206e02a2675fc4e4d961fab" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-6.png" alt="按键组件" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad286b7cc206e02a2675fc4e4d961fab"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-6.png" alt="按键组件" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="滑动条组件slider">滑动条组件（slider）</h3>
<p><a href="#R-image-97d188f2c060f91d8845531ff490c5f9" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-7.png" alt="Slider" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-97d188f2c060f91d8845531ff490c5f9"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-7.png" alt="Slider" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="页面布局">页面布局</h2>
<h3 id="线性布局">线性布局</h3>
<p><a href="#R-image-56fd16e97e5ef7d1f0e6a3beb08c3bd1" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-8.png" alt="垂直布局" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-56fd16e97e5ef7d1f0e6a3beb08c3bd1"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-8.png" alt="垂直布局" class="lightbox-image        " loading="lazy"></a></p>
<p>Row布局与Column布局类似，只是主轴方向不同
<a href="#R-image-96bebae8eccd63f5da0e556027320034" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-9.png" alt="水平分布" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-96bebae8eccd63f5da0e556027320034"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-9.png" alt="水平分布" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="循环控制foreach">循环控制ForEach</h3>
<h2 id="使用router进行页面跳转时用replaceurl与pushurl的区别">使用router进行页面跳转时用replaceUrl与pushUrl的区别</h2>
<p>后者会保留前一页信息，就是跳转后会返回上一页面，而后面的不会跳回上一页</p>
<p>11&ndash;t</p>
<p>f&ndash;!=11,运行时

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b5-%E7%BC%96%E7%A8%8B/">B5-编程</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/atomgit/">atomgit</a></li>
    <li><a class="term-link" href="./tags/gihub/">gihub</a></li>
  </ul>
</div>
            </header>
<h1 id="6github和atomgit的混合使用哪些是值得注意的">6.github和atomgit的混合使用，哪些是值得注意的？</h1>

<h2 id="一台电脑如何使用多个远程仓库">一台电脑如何使用多个远程仓库？</h2>
<ul>
<li>下载好git，并做好相关的配置</li>
<li>关联github仓库
<ul>
<li>创建github仓库</li>
<li>克隆仓库到本地</li>
</ul>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">  git clone &lt;你的远程仓库URL&gt;</code></pre></div><p>创建多个 SSH 密钥对涉及到在本地生成多个公钥和私钥文件，并将公钥添加到你想要访问的远程服务器上。以下是详细步骤：</p>
<p>打开终端：
打开你的终端（在 macOS 或 Linux 上）或 Git Bash（在 Windows 上）。</p>
<p>导航到 SSH 目录：
使用 cd 命令切换到你的 SSH 目录，通常是 ~/.ssh。</p>
<p><code>cd ~/.ssh</code>
生成新的 SSH 密钥对：
使用 ssh-keygen 命令生成新的密钥对。每次运行此命令时，你都可以指定不同的文件名，以便区分不同的密钥对。例如，为 GitHub 生成的密钥对可能命名为 id_rsa_github，为 GitLab 生成的密钥对可能命名为 id_rsa_gitlab。</p>
<p><code>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot; -f id_rsa_github</code>
重复上述步骤，为其他服务生成密钥对，只需更改文件名即可。例如：</p>
<p><code>ssh-keygen -t rsa -b 4096 -C &quot;another_email@example.com&quot; -f id_rsa_gitlab</code></p>
<p>-b是指密码的长度是4096，与加密有关，-f表示要创建的ssh有关文件名</p>
<p>在生成密钥时，系统会提示你输入一个文件名来保存新的密钥对。如果你直接按回车键，它将使用默认的文件名（如 id_rsa）。如果你想要为每个服务使用不同的文件名，确保在命令中指定 -f 选项后跟你想要的文件名。</p>
<p>将公钥添加到远程服务器：
生成密钥对后，你需要将公钥（文件名后缀为 .pub）添加到远程服务器的 SSH 密钥管理界面。例如，在 GitHub 上，你可以在 Settings &gt; SSH and GPG keys 部分添加新的公钥。</p>
<p>配置 SSH 配置文件：
为了确保 SSH 使用正确的密钥对连接到正确的服务器，你可以在 .ssh 目录下创建一个名为 config 的文件（如果该文件不存在的话），并为每个服务配置不同的设置。</p>
<p><code>touch ~/.ssh/config</code></p>
<p>然后编辑这个文件，添加以下内容：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>Host github.com
</span></span><span style="display:flex;"><span>  User git
</span></span><span style="display:flex;"><span>  IdentityFile <span style="color:#f92672">~/</span>.ssh<span style="color:#f92672">/</span>id_rsa_github
</span></span><span style="display:flex;"><span>  IdentitiesOnly yes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Host gitlab.com
</span></span><span style="display:flex;"><span>  User git
</span></span><span style="display:flex;"><span>  IdentityFile <span style="color:#f92672">~/</span>.ssh<span style="color:#f92672">/</span>id_rsa_gitlab
</span></span><span style="display:flex;"><span>  IdentitiesOnly yes</span></span></code></pre></div><p>这里的 Host 是你为每个服务设置的别名，User 是 Git 服务的默认用户名（通常是 git），IdentityFile 是你的私钥文件的路径。</p>
<p>测试 SSH 连接：
使用 ssh -T 命令测试与远程服务器的连接。例如：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>ssh <span style="color:#f92672">-</span>T git<span style="color:#960050;background-color:#1e0010">@</span>github.com
</span></span><span style="display:flex;"><span>ssh <span style="color:#f92672">-</span>T git<span style="color:#960050;background-color:#1e0010">@</span>gitlab.com</span></span></code></pre></div><p>如果一切设置正确，你应该会看到一条欢迎消息，表明你已经成功通过 SSH 密钥验证。</p>
<h2 id="当我有连个github账户时当我用同一台电脑推送的时候如何区分是那个推送的">当我有连个github账户时，当我用同一台电脑推送的时候如何区分是那个推送的</h2>
<p><a href="https://blog.csdn.net/Kingson_Wu/article/details/38960559" target="_blank">推荐文章</a></p>
<p>答案：</p>
<p>首先是克隆下来两个项目一个为test_A,一个为test_B，假设有一个账户是A，另一个是B，而且A账户的邮箱是设置为全局的，即用了这条命令：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>git config <span style="color:#f92672">--</span>global user.name <span style="color:#e6db74">&#34;A&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git config <span style="color:#f92672">--</span>global user.email A<span style="color:#960050;background-color:#1e0010">@</span>qq.com
</span></span><span style="display:flex;"><span><span style="color:#75715e">#假设这里的邮箱是QQ</span></span></span></code></pre></div><p>那么在在text_A中不作任何修改，在text_B中添加如下命令即可：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>git config  user.name <span style="color:#e6db74">&#34;B&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git config user.email B<span style="color:#960050;background-color:#1e0010">@</span>qq.com
</span></span><span style="display:flex;"><span><span style="color:#75715e">#假设这里的邮箱是QQ</span></span></span></code></pre></div><h2 id="遇到的一些问题">遇到的一些问题</h2>
<p>问题一</p>
<hr>
<p>解决Git上传代码error: failed to push some refs to ‘xxx‘hint:(e.g., ‘git pull &hellip;‘) before pushing again错误</p>
<hr>
<p><a href="https://blog.csdn.net/qq_43265673/article/details/107392047" target="_blank">推荐文章</a></p>
<p>问题二</p>
<hr>
<p>【Git】错误：权限被拒绝（公钥）(Permission denied (publickey).)</p>
<hr>
<p><a href="https://blog.csdn.net/weixin_42282187/article/details/124820546?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%25!E%28MISSING%29default%25!E%28MISSING%29CTRLIST%25!E%28MISSING%29Rate-2-124820546-blog-100894172.235%25!E%28MISSING%29v43%25!E%28MISSING%29pc_blog_bottom_relevance_base8&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%25!E%28MISSING%29default%25!E%28MISSING%29CTRLIST%25!E%28MISSING%29Rate-2-124820546-blog-100894172.235%25!E%28MISSING%29v43%25!E%28MISSING%29pc_blog_bottom_relevance_base8&amp;utm_relevant_index=5" target="_blank">推荐文章</a>2)</p>
<p>问题三</p>
<hr>
<p>解决Git上传代码error: failed to push some refs to ‘xxx‘hint:(e.g., ‘git pull &hellip;‘) before pushing again错误</p>
<hr>
<p><a href="https://blog.csdn.net/qq_43265673/article/details/107392047" target="_blank">推荐文章</a>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">B1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%96%87%E7%AB%A0/">文章</a></li>
  </ul>
</div>
            </header>
<h1 id="5自定义页面以康奈尔笔记格式输出">5.自定义页面以康奈尔笔记格式输出</h1>

<link rel="stylesheet" href="./css/cornell-notes.css"> <div class="cornell-notes"> <div class="cues">
<h2 id="cues">Cues</h2>
<ul>
<li><a href="#cues">Cues</a></li>
<li><a href="#notes">Notes</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BAcss%E6%96%87%E4%BB%B6">创建css文件</a></li>
<li><a href="#%E5%9C%A8hugo%E9%85%8D%E7%BD%AE%E4%B8%AD%E8%AE%BE%E7%BD%AE">在hugo配置中设置</a></li>
<li><a href="#%E5%9C%A8markdown%E6%96%87%E6%A1%A3%E4%B8%AD%E5%BC%95%E7%94%A8">在markdown文档中引用</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
<p><strong>标签/提示</strong> ：静态网页，康奈尔笔记，hugo，自定义页面输出格式。</p>
</div>
<div class="notes">
<h2 id="notes">Notes</h2>
<h3 id="创建css文件">创建css文件</h3>
<p>康奈尔笔记的布局，其中左侧是 &ldquo;Cues&rdquo;，右侧是 &ldquo;Notes&rdquo;，底部是 &ldquo;Summary&rdquo;，您可以使用 Flexbox 的 row 和 column 布局来实现。这里是一个 CSS 示例，它将创建一个两列的布局，左侧为 &ldquo;Cues&rdquo;，右侧为 &ldquo;Notes&rdquo;，然后在这两列下方是 &ldquo;Summary&rdquo;。</p>
<p>首先，创建一个名为 cornell-notes.css 的 CSS 文件，并添加以下样式代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>.cornell<span style="color:#f92672">-</span>notes {
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  border: <span style="color:#ae81ff">1</span>px solid <span style="color:#960050;background-color:#1e0010">#</span>ccc;
</span></span><span style="display:flex;"><span>  padding: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>  margin: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>  display: flex;
</span></span><span style="display:flex;"><span>  flex<span style="color:#f92672">-</span>wrap: wrap;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.cues {
</span></span><span style="display:flex;"><span>  background<span style="color:#f92672">-</span>image: <span style="color:#a6e22e">url</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>icon2.svg<span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  border<span style="color:#f92672">-</span>right: <span style="color:#ae81ff">1</span>px solid <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">080808</span>;
</span></span><span style="display:flex;"><span>  flex: <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  padding<span style="color:#f92672">-</span>right: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.notes {
</span></span><span style="display:flex;"><span>  background<span style="color:#f92672">-</span>image: <span style="color:#a6e22e">url</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>icon1.svg<span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  border<span style="color:#f92672">-</span>left: <span style="color:#ae81ff">1</span>px solid <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">080808</span>;
</span></span><span style="display:flex;"><span>  flex: <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>  padding<span style="color:#f92672">-</span>left: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.summary {
</span></span><span style="display:flex;"><span>  width: <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
</span></span><span style="display:flex;"><span>  clear: both; <span style="color:#75715e">/* 清除浮动，确保摘要部分在下方 */</span>
</span></span><span style="display:flex;"><span>  padding<span style="color:#f92672">-</span>top: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>  background<span style="color:#f92672">-</span>image:<span style="color:#a6e22e">url</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>wwwatercolor.jpg<span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  margin<span style="color:#f92672">-</span>top: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>在这个样式中，.cornell-notes 是整个康奈尔笔记的容器，我们使用 display: flex; 和 flex-wrap: wrap; 来创建一个 Flex 容器，允许子元素根据需要换行。.cues 和 .notes 分别设置为容器的子项，并通过 flex 属性来分配空间。.summary 部分使用 width: 100%; 来确保它在 .cues 和 .notes 下方显示，并使用 clear: both; 来清除之前的浮动。</p>
<p>此处分享一个免费的svg网站，<a href="https://fffuel.co/" target="_blank">bbburst：</a>
<a href="#R-image-2d28311d83dd104f09f3f2c993e433c3" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/image.png" alt="bbburst" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2d28311d83dd104f09f3f2c993e433c3"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/image.png" alt="bbburst" class="lightbox-image        " loading="lazy"></a>
在这个网站或许你可以找到适合你的背景图，用以装饰自己的康奈尔容器，此处的svg是放在css文件夹下的，所以是直接引用，如果你放在别的的放那么还请使用正确的的路径。</p>
<h3 id="在hugo配置中设置">在hugo配置中设置</h3>
<p>接下来，确保将 cornell-notes.css 文件放置在 Hugo 站点的 static/css 目录下。然后，在 Hugo 的配置文件 config.toml 中添加对 CSS 文件的引用：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e"># config.toml
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[Params]
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 其他参数...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>[markup]
</span></span><span style="display:flex;"><span>  [markup.goldmark]
</span></span><span style="display:flex;"><span>    [markup.goldmark.renderer]
</span></span><span style="display:flex;"><span>      unsafe <span style="color:#f92672">=</span> true  <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#960050;background-color:#1e0010">允许在</span> Markdown <span style="color:#960050;background-color:#1e0010">中使用</span> HTML <span style="color:#960050;background-color:#1e0010">和</span> CSS</span></span></code></pre></div><p>如果使用的是code打开的项目，那么可以先在code内搜索上面的配置是否已添加，因为部分hugo主题原来就添加了这一配置。</p>
<h3 id="在markdown文档中引用">在markdown文档中引用</h3>
<p>在 Markdown 文件中，你可以这样使用这些类：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">---</span>
</span></span><span style="display:flex;"><span>title: <span style="color:#e6db74">&#34;康奈尔笔记示例&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">---</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>link rel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/css/cornell-notes.css&#34;</span><span style="color:#f92672">&gt;</span>  <span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cornell-notes&#34;</span><span style="color:#f92672">&gt;</span>    <span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cues&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Cues
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">这里是关键词和提示。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;notes&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Notes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">这里是详细的笔记内容。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;summary&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Summary
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">这里是笔记的摘要。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span></span></span></code></pre></div><p>确保在 Markdown 文件中添加 <link> 标签来引入 CSS 文件，并为每个部分使用相应的类。这样，当你构建并查看 Hugo 站点时，康奈尔笔记将以正确的样式显示，其中 &ldquo;Cues&rdquo; 在左侧，&ldquo;Notes&rdquo; 在右侧，&ldquo;Summary&rdquo; 在底部。</p>
</div>
<div class="summary">
<h2 id="summary">Summary</h2>
<p>在上面我们学习了如何自定义hugo中页面的输出格式，在引用hugo主题情况下，自定义自己的页面输出格式只需要三点，即创建css文件，在config配置文件中配置相关信息，在markdown中引用。其实我们可以拓展，如果你想创建属于自己的笔记你可以参照上面的方法自制简单的笔记，希望本期内容对你有所帮助。</p>
</div>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/github/">github</a></li>
    <li><a class="term-link" href="./tags/%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2/">高级搜索</a></li>
  </ul>
</div>
            </header>
<h1 id="4如何在github上使用高级搜索搜出自己想要的项目">4.如何在github上使用高级搜索搜出自己想要的项目？</h1>

<p><a href="https://www.cnblogs.com/tntblog/p/13715084.html" target="_blank">原文章链接</a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="文章标题的多样设计">文章标题的多样设计</h1>

<p>在标题前面显示图标：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">+++</span>
</span></span><span style="display:flex;"><span>menuPre <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;i class=&#39;fab fa-github&#39;&gt;&lt;/i&gt; &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+++</span></span></span></code></pre></div><p>添加这个后的效果如下：</p>
<p><a href="#R-image-e421c3d960932c96ed5413a6f6b24b88" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/image.png" alt="效果图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e421c3d960932c96ed5413a6f6b24b88"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/image.png" alt="效果图" class="lightbox-image        " loading="lazy"></a>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E6%8B%93%E5%B1%95%E7%AC%94%E8%AE%B0/">B1-拓展笔记</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/git/">git</a></li>
    <li><a class="term-link" href="./tags/github/">github</a></li>
    <li><a class="term-link" href="./tags/%E6%8A%A5%E9%94%99%E4%B8%8E%E8%A7%A3%E5%86%B3/">报错与解决</a></li>
  </ul>
</div>
            </header>
<h1 id="常与问题总结">常与问题总结</h1>

<h2 id="1使用git-commi--m-时报错-your-branch-is-up-to-date-with-originmaster">1、使用git commi -m &ldquo;……&ldquo;时报错： Your branch is up to date with ‘origin/master‘</h2>
<p>今天在提交项目的时候报了这个错误，在网上查了解决办法，有的说创建新的分支可以解决，但我的不行。</p>
<p>最后我的解决办法是先退出git base here，再重新进入，下面是具体步骤：</p>
<ul>
<li>先使用<code>git add .</code>；</li>
<li>接着使用<code>git status -s</code>查看我更改的文件，也是我要推送的文件，如果前面的有M和??，那么久重新更新文件，然后重复上面的步骤；</li>
<li>发现前面的M是绿色的后就可以使用<code>git commit -m &quot;文件备注&quot;</code>；</li>
<li>然后推送就可以了<code>git push origin main</code>。</li>
</ul>
<h2 id="androidstudio中的grable下载很慢如何解决">AndroidStudio中的grable下载很慢，如何解决？</h2>
<p><a href="https://blog.csdn.net/BG1230521/article/details/136605382" target="_blank">参考地址</a></p>
<p>这里的关键命令是git status -s，我现在搞不懂这个错误产生的原因……</p>
<h2 id="虚拟机连接不上网络没有分配ens33">虚拟机连接不上网络，没有分配ENS33</h2>
<p><a href="https://blog.csdn.net/qq_44853430/article/details/109974779" target="_blank">参考链接</a></p>
<h2 id="浏览器突然无法访问某些网站之前可以突然不行">浏览器突然无法访问某些网站，之前可以突然不行。</h2>
<p>解决办法：
<a href="#R-image-d49b018ef6107a6ed263784ec61afd44" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/github%E5%B8%B8%E9%81%87%E9%97%AE%E9%A2%98/image.png" alt="11" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d49b018ef6107a6ed263784ec61afd44"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/github%E5%B8%B8%E9%81%87%E9%97%AE%E9%A2%98/image.png" alt="11" class="lightbox-image        " loading="lazy"></a></p>
<p>在浏览器中关闭，使用安全的 DNS 指定如何查找网站的网络地址，然后就可以访问了，原因我还没弄清楚。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%BB%9C/">网络</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="如何用旧电脑搭建自己的服务器">如何用旧电脑搭建自己的服务器？</h1>

<p>拥有一个属于自己的服务器个人感觉就很赞，我最初是在不买公网IP情况下，用一台电脑做服务器，然后另外一台电脑可以远程访问，部署网站，然后别人可以访问这个网站，这样一个功能。如果你也有这样的想法还请阅读下去，希望自己的经验对你有所帮助。</p>
<h2 id="所需设备">所需设备</h2>
<p>一台旧电脑，一台目前在使用的电脑。</p>
<h2 id="在旧电脑上安装natapp程序">在旧电脑上安装natapp程序</h2>
<p>在百度上搜索NATAPP，或点击这个链接:<a href="https://natapp.cn/" target="_blank">NATAPP</a>,</p>
<p><a href="#R-image-3a3e9258aa75e1c3bfac216bd1d1f774" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-02%20113627.png" alt="网站首页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3a3e9258aa75e1c3bfac216bd1d1f774"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-02%20113627.png" alt="网站首页面" class="lightbox-image        " loading="lazy"></a></p>
<p>进入网站后先简单注册一下用户,顺便实名认证一下，因为买隧道会提示需要实名，接着点击首页下载自己的电脑系统对应版本，我的是Windows（下面的测试也是基于Windows）</p>
<p><a href="#R-image-b16a1ee1eaba741ed24e32b744c67c33" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE1.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b16a1ee1eaba741ed24e32b744c67c33"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE1.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>下载好后解压文件，得到如下图程序：</p>
<p><a href="#R-image-62be077389ceeefad37d84610d526d60" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE2.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-62be077389ceeefad37d84610d526d60"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE2.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>在解压文件下新建一个文件： <code>config.ini</code>,做好这一步后我们去购买免费的隧道，如下图：</p>
<p><a href="#R-image-d9e640ed0fe5aec4cf75d322c9e75c49" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE3.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d9e640ed0fe5aec4cf75d322c9e75c49"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE3.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>点击网站的文档，然后点击教程/文档里的 <strong>使用本地配置文件config.ini</strong> 文章，</p>
<p><a href="#R-image-7a2663ea3e7885a761af631f538e0c56" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE6.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7a2663ea3e7885a761af631f538e0c56"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE6.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制里面的配置信息：</p>
<p><a href="#R-image-773f78f0af51c4fa5285cfcd0045ef61" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE7.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-773f78f0af51c4fa5285cfcd0045ef61"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE7.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-config.ini" data-lang="config.ini"><span style="display:flex;"><span><span style="color:#75715e">#将本文件放置于natapp同级目录 程序将读取 [default] 段</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在命令行参数模式如 natapp -authtoken=xxx 等相同参数将会覆盖掉此配置</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#命令行参数 -config= 可以指定任意config.ini文件</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[default]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authtoken</span><span style="color:#f92672">=</span>                      <span style="color:#e6db74">#对应一条隧道的authtoken</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clienttoken</span><span style="color:#f92672">=</span>                    <span style="color:#e6db74">#对应客户端的clienttoken,将会忽略authtoken,若无请留空,</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log</span><span style="color:#f92672">=</span><span style="color:#e6db74">none                        #log 日志文件,可指定本地文件, none=不做记录,stdout=直接屏幕输出 ,默认为none</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">loglevel</span><span style="color:#f92672">=</span><span style="color:#e6db74">ERROR                  #日志等级 DEBUG, INFO, WARNING, ERROR 默认为 DEBUG</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">http_proxy</span><span style="color:#f92672">=</span>                     <span style="color:#e6db74">#代理设置 如 http://10.123.10.10:3128 非代理上网用户请务必留空</span></span></span></code></pre></div><p>在字段<code>authtoken</code>后面值在我的隧道配置里可以找到，如下：</p>
<p><a href="#R-image-d968dcd4dcc7bb84a6ec09d5faf9bc67" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE4.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d968dcd4dcc7bb84a6ec09d5faf9bc67"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE4.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>复制下图<code>authtoken</code>的值填到config.ini文件里</p>
<p><a href="#R-image-8a5d855c40933770a55040369951687d" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8a5d855c40933770a55040369951687d"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>我这边演示的效果如下：</p>
<p><a href="#R-image-2de4043815bd866497f79af3cfef0700" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE8.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2de4043815bd866497f79af3cfef0700"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE8.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-852510a3a8e2b3bff2a2cb38bc8d27b7" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE9.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-852510a3a8e2b3bff2a2cb38bc8d27b7"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE9.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>完成上面的操作后，我们运行NATAPP程序，结果如下：</p>
<p><a href="#R-image-ad980c96ff471dd01543a2722a3c1082" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE10.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad980c96ff471dd01543a2722a3c1082"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE10.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>你会得到一个随机的网址，这个网址指向你的本地端口，当你有网站挂载到本地端口时，你就可以通过网址访问到你的本地端口网址，内网外网都可以，但是这个网址每一次运行都会不一样，这点需要注意，然后就是端口的设置，看下图：</p>
<p><a href="#R-image-fb9c230e72216ebd8887f430634ba3bd" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fb9c230e72216ebd8887f430634ba3bd"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>我这里写的的端口是1313，如果你网站运行后不在1313，例如你运行网站后，本地的网站启动端口是8080.那你就把这个地方的1313改为8080就可以了。</p>
<p>下面我们举个例子看看，假设我现在我需要外网的网友访问我挂在在自己电脑本地的网站，那们在做好上面的操作后我先去启动自己的网站，这里使用hugo的网站模版，用code程序打开网站模版，然后调出终端，在终端输入命令 <code>hugo server</code> ,表示启动网站，如下图：</p>
<p><a href="#R-image-12862be0e073426719b2b0ddac503db9" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE11.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-12862be0e073426719b2b0ddac503db9"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE11.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>然后去复制刚才运行NATAPP程序后的网站，在浏览器中打开，我们先试一下局域网能不能访问，结果如下：</p>
<p><a href="#R-image-c21ae795dac2c914999f359c389acfe3" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE12.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c21ae795dac2c914999f359c389acfe3"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE12.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>将网站发给自己的朋友，测试外网是否可以访问，</p>
<p><a href="#R-image-e9db5a48c7998b4d46adcf6a3e979ff4" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE13.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e9db5a48c7998b4d46adcf6a3e979ff4"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE13.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>结果是外网可以正常可以访问。</p>
<p><a href="#R-image-46cd13e46921b2f36a28c820af002b5b" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE14.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-46cd13e46921b2f36a28c820af002b5b"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE14.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>那么到这里你的电脑其实就充当了一台服务器，将网站放到了你电脑上，只要你的电脑保持开机状态那么别人就可以一直访问你的网站，或许NATAPP网站还有别的有趣功能，所以你不妨去摸索摸索，所不定可以找到多次启动NATAPP指向你本地的网址不变，你也就不用每次启动后都要发新的网址给对方了。</p>
<p>那么其实到这里就差不多了，但是我们还需要用一台电脑控制另一台电脑，简而言之就是电脑的远程登录，其实电脑远程登录有许多的方法，这里我需要借助一个来实现内网穿透，其实上面的旧电脑变服务器也是使用了内网穿透，

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="创建hugo静态网站的经历">创建hugo静态网站的经历</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<h2 id="一为什么要创建属于自己博客网站">一、为什么要创建属于自己博客网站</h2>
<p>自从进入大三的学习，自己接触了许多开发板、以及七七八八的软件，个人记忆力又不咋地，平时很容易把重要或者重复的知识忘记，所以我希望做一个网站记录自己所学的知识，方便查找，但我没学<strong>JS</strong>，深入学又耗费时间，如果你也有我的一些情况，想自己创建一个网站“玩玩”，那么请看下去，希望自己的一些分享能对想短期内创建静态网站、且没学过网站设计的朋友有所帮助。</p>
<h2 id="二选择静态网站布局工具以及远程仓库">二、选择静态网站布局工具以及远程仓库</h2>
<h3 id="1工具的选择">1、工具的选择</h3>
<p>在这里我就只推荐<strong>hugo</strong>，因为本人用的就是hugo，其他的并不是很了解（如果你有更好的方法还请通过留言告诉我，谢谢！），首先确定自己要装在哪个系统上，比如装在Windows、Linux或者Mac（苹果系统），确定好这个后你就去网上搜安装方法即可，一定要搜和自己电脑系统有关的安装方法，不然安装会走很多坑的。
<strong>Windows</strong>系统。我建议使用choco工具在终端上安装，如果电脑没安装choco工具，还请自行安装。
<strong>Linux</strong>系统。首先确定自己的Linux的发行版本，举个例子，像<strong>红帽公司</strong>的和ContentOS的，这两个发行版本使用的工具可能就不一样，像ContentOS使用的是工具Yum工具安装的，还请你在网上自行搜索。
<strong>Mac</strong>系统。使用<strong>brew</strong>工具进行安装，不知道怎么用brew还请网上搜一下。
下载好后使用如下命令检查是否安装成功。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">verser</span></span></span></code></pre></div><h3 id="2远程仓库的选择">2、远程仓库的选择</h3>
<p>因为要把网站的相关信息放到网上，一遍搜索查找，我们需要一个远程的仓库来装这些数据，无疑github是比较好的选择，当然Gitee、gitLab这些应该也可以（本人没有过）。至于为什么选github我想你只要稍微了解一点IT这行的，多少都知道其原因，不知道也没关系，只要能存放我们的网站数据就行。
首先你需要去注册一个github账号，并掌握在线创建、删除、导入和下载仓库，以及文件的上传、删除修改等操作，这些其实并不是很难，刚开始需要你换一点时间，详细请上网搜索。</p>
<p>当我们hugo下载好和仓库创建等操作都学会后我们就可以开始操作了。</p>
<h2 id="三仓库创建与静态网站布局">三、仓库创建与静态网站布局</h2>
<p>仓库创建最好是和自己github的账户名字一样，且都是小写，然后后面跟着
<strong>.github.io</strong>,例如：</p>
<hr>
<pre><code>wang32.github.io
</code></pre>
<p>这是比较稳妥的做法，如果你不想这么做还请自己花时间去琢磨别的方法。接着我么创建一个空项目，什么都不需要哦!</p>
<p>下一步是静态网站的部署，首先你需要下载一个hugo的主题，也就是用别人的网页主题作为自己网站的基础，这样呢我们及时没学过JS也可以部署自己的网站。
创建一个目录，比如<strong>myblog</strong>，接着用code打开这个目录，在code编译器中打开终端窗口监视器，在里面输入命令</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>   <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">new</span> <span style="color:#a6e22e">site</span></span></span></code></pre></div><p>这个时候myblog目录下会生成一个<strong>theme</strong>的目录，用来放主题，把下载好的hugo主题放在该目录下，在使用如下命令：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">hugo</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">theme</span>=&lt;<span style="color:#a6e22e">主题名字</span>&gt;  <span style="color:#f92672">--</span><span style="color:#a6e22e">baseURL</span>=<span style="color:#e6db74">&#34;&lt;你github仓库的路径&gt;&#34;</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">buildDrafts</span></span></span></code></pre></div><p>举个例子：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>   <span style="color:#a6e22e">hugo</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">theme</span>=<span style="color:#a6e22e">m10c</span>  <span style="color:#f92672">--</span><span style="color:#a6e22e">baseURL</span>=<span style="color:#e6db74">&#34;https://wung32.github.io/&#34;</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">buildDrafts</span></span></span></code></pre></div><p>上面m10c是主题的名字，也就是你下载的hugo主题名字，而https://wung32.github.io/仓库路径。</p>
<p>在这你需要注意：如果不是Windows系统这的<strong>baseURL</strong>可能写为<strong>baseUrl</strong>,要确定这件事就去看<strong>hugo.tolm</strong>文件，有的主题写为<strong>config.tolm</strong>,里面的第一二行就会提到baseURL，注意这里的要去主题目录里找。而不是在你创建的目录myblog下找。
运行上面的代码没问题就会在你创建的myblog目录下产生一个<strong>public</strong>的目录，里面装的就是你的网页信息。</p>
<p>接着使用git命令把这个文件推送到远程的仓库，一般的步骤如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">    git init #初始化：本地建库（即文件夹）
    git add  #添加到仓库：代码文件放入本地库，
    git commit -m “注释内容” #提交时要给注释
    git remote add origin https://github.com/xu-xiaoya/Elegent.git #远程仓库关联

    git push (-u) origin master #本地仓库的代码推送到远程仓库Github上</code></pre></div><p>如果报错：</p>
<hr>
<pre><code>error: RPC failed; HTTP 504 curl 18 HTTP/2 stream 7 was reset
send-pack: unexpected disconnect while reading sideband packet
fatal: the remote end hung up unexpectedly
Everything up-to-date
</code></pre>
<p>那么加一句：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">    git config --global http.postBuffer 524288000</code></pre></div><p>接着继续推送就是了。</p>
<p>然后去自己的仓库，点击设置，找到Page选项，有个<strong>Custom domain</strong>，在那里写上你的网站名称。</p>
<h2 id="四买一个域名">四、买一个域名</h2>
<p>我在没买之前网页一直加载不出来，自己也不知道为什么（如果你知道不用买域名也可以实现网站部署还请告诉我，谢谢啦！）。所以我自己是买了一个六块钱的域名的，试用期一年；当你买一个域名后要记得去解析域名，然后把解析的域名写到上面说的<strong>Custom domain</strong>那个地方，比如你解析得到的域名是：myblog.wang32.com,那么你就写这个上去。</p>
<p>如果不知道怎么买。怎么解析，那么——是的，一样上网查一下。</p>
<h2 id="五网站的优化">五、网站的优化</h2>
<p>这个我不建议你一个人慢慢磨，慢慢的去网上找方法，其实制作主题的作者已经把怎么基于他的主题做出自己的网站的方法了，所以你老老实实的跟着作者的文档走就是了，实在有些地方不懂的在查一查看。</p>
<h2 id="补充">补充</h2>
<h4 id="1为什么我插入的图片无法显示">1、为什么我插入的图片无法显示？</h4>
<p>图片的显示：首先要看你的主题是基于什么语言写的，比如我的是markdown,对于这个语言只需要使用：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-hugo" data-lang="hugo">    ![nihao](../../../public/webfonts/fa-brands-400.svg)</code></pre></div><p>上面的这个方法就可以让图片显示，但实际上不一定能可以，因为hugo有个目录创建规则——<strong>Page Bundles</strong>(连接：https://www.rectcircle.cn/series/hugo/content-management/page-bundles/)，如果不按照这个规则创建，那么你使用别人的主题，插入图片时可能无法显示。</p>
<p>光是上面这点我就搞了一个星期，所以还是希望你好好看一下Page Bundles文档。</p>
<p>今天先到这了……
2023年12月11日</p>
<hr>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化</a></li>
  </ul>
</div>
            </header>
<h1 id="网站内常用到的模版">网站内常用到的模版</h1>

<h2 id="代码分制表">代码分制表</h2>
<p>以<code>&lt; tabs title=&quot;file name&quot; &gt;，&lt; /tabs &gt;</code>结尾；
然后里面写以<code>% tab title=&quot;code name&quot; style=&quot;info&quot; color=&quot;blue &quot;  %，% /tab %</code>结尾
他们都需要用<code>{{}}</code>括起来

<div class="tab-panel" data-tab-group="shortcode-parameter">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('shortcode-parameter','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{&lt; <span style="color:#a6e22e">tabs</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;hello.&#34;</span> &gt;}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码块一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{{<span style="color:#f92672">%</span> <span style="color:#a6e22e">tab</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;py&#34;</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">```markdown
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    **这里写代码**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">%</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">tab</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码块二
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{{<span style="color:#f92672">%</span> <span style="color:#a6e22e">tab</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;sh&#34;</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">```markdown
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    **这里写代码**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">%</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">tab</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{&lt; <span style="color:#f92672">/</span><span style="color:#a6e22e">tabs</span> &gt;}}</span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<h2 id="附件">附件</h2>
<p>在双花括号里写：<code>attachments color=&quot;fuchsia&quot; icon=&quot;fab fa-hackerrank&quot;</code>，即可，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    {{<span style="color:#f92672">%</span> <span style="color:#a6e22e">attachments</span> <span style="color:#a6e22e">color</span>=<span style="color:#e6db74">&#34;fuchsia&#34;</span> <span style="color:#a6e22e">icon</span>=<span style="color:#e6db74">&#34;fab fa-hackerrank&#34;</span> <span style="color:#f92672">%</span>}}</span></span></code></pre></div><p>效果如下：

 <div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
   <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
   <ul class="box-content attachments-files">
   </ul>
 </div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化</a></li>
  </ul>
</div>
            </header>
<h1 id="网站的目录与子目录创建">网站的目录与子目录创建</h1>

<p>不论是创建首页页面，还是左边框的选项，归根结底它们都是“目录”，从根上说，你需要创建一个目录然后在目录里面创建一个.md文件来装这个目录或说显示这个目录的内容。</p>
<h2 id="首页的创建">首页的创建</h2>
<p>创建首页使用了命令</p>
<hr>
<blockquote>
<p>hugo new &ndash;kind home _index.md</p>
</blockquote>
<hr>
<p>而后产生的页面，它自动生成头文件</p>
<hr>
<pre><code>+++
archetype = &quot;home&quot;
title = &quot;&quot;
+++
</code></pre>
<hr>
<p>值得注意的是，如果你用命令</p>
<hr>
<blockquote>
<p>hugo new site myblog</p>
</blockquote>
<hr>
<p>创建了一个myblog的目录，那么你在里面操作
<a href="%22#ff4589%22">hugo new &ndash;kind home _index.md</a>
的时候,用于显示首页的文件<a href="%22#ff4589%22">_index.md</a>会自动产生在content文件里。</p>
<h2 id="创建章节的方法">创建章节的方法</h2>
<p>使用命令：</p>
<hr>
<pre><code>hugo new &lt;chapter&gt;/&lt;name&gt;/_index.md
</code></pre>
<hr>
<p>或者：</p>
<hr>
<pre><code>hugo new &lt;chapter&gt;/&lt;name&gt;.md
</code></pre>
<hr>
<p>在创建章节的时候需要加上<code>alwaysopen = false</code>,如下面的例子：</p>
<hr>
<pre><code>+++
alwaysopen = false
archetype = &quot;chapter&quot;
title = &quot;2.AndroidStudio&quot;
weight = 20
+++
</code></pre>
<hr>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 2</div>
<h1 id="2androidstudio">2.AndroidStudio</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/2.androidstudio/androidstudio%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">AndroidStudio</a><p>AndroidStudio简介 1.配置Android开发环境： 安装JDK： （1）下载JDK （2）配置环境变量； 安装Android Studio</p></li>
<li><a href="./branch-bundle-1/2.androidstudio/%E7%AC%94%E8%AE%B0/">AndroidStudio笔记</a><p>第一章 配置开发环境： 1.安装JDK &ldquo;安装连接&rdquo; 2.安装AndroidStudio &ldquo;安装连接&rdquo;</p></li>
<li><a href="./branch-bundle-1/2.androidstudio/toolbar/">2-1.Toolbar工具栏</a><p>Toolbar是什么？ 简单理解就是页面的上的菜单栏，或者叫工具栏，在AndroidStudio的页面布局中使用Toolbar， menu文件的</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">2.AndroidStudio 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="androidstudio">AndroidStudio</h1>

<h2 id="androidstudio简介">AndroidStudio简介</h2>
<p>1.配置Android开发环境：</p>
<ul>
<li>安装JDK：
（1）下载JDK
（2）配置环境变量；</li>
<li>安装Android Studio；</li>
<li>安装SDK。</li>
</ul>
<p>2.自动构建工具Gradle：</p>
<p>Gradle 是以 Groovy 语言为基础，面向Java应用为主，基于DSL（领域特定语言）语法的自动化构建工具。它可以自动化地进行软件构建、测试、发布、部署、软件打包，同时也可以完成项目相关功能，如生成静态网站、生成文档等。另外其集合了Ant的灵活性和强大功能，以及Maven的依赖管理和约定，从而创造了一个更有效的构建方式。凭借Groovy的DSL和创新打包方式，Gradle提供了一个可声明的方式，并在合理默认值的基础上描述所有类型的构建。Gradle目前已被选作许多开源项目的构建系统。</p>
<p>3.Logcat日志输出工具：使用 Logcat 查看日志</p>
<p>Android Studio 中的 Logcat 窗口会实时显示设备日志来帮助您调试应用，例如，使用 Log 类添加到应用的消息、在 Android 上运行的服务发出的消息或系统消息（例如在发生垃圾回收时）。如果应用抛出异常，Logcat 会显示一条消息，后跟相关联的堆栈轨迹，其中包含指向代码行的链接。</p>
<p>4.Android Studio中 <strong>Make Project</strong> 、<strong>Clean Project</strong> 、<strong>Rebuild Project</strong> 的作用</p>
<ul>
<li>Make Project：编译Project下所有Module（组件或模块），一般是自上次编译后Project下有更新的文件，增量编译，不生成Apk。</li>
<li>Clean Project：删除之前编译后的编译文件。部分版本的AS会自动重新编译整个Project，不生成Apk。</li>
<li>Rebuild Project：先执行Clean操作，删除之前编译的编译文件和可执行文件，然后重新编译新的编译文件，不生成Apk</li>
</ul>
<p>5.Run窗口：可以输出程序运行过程中出现的错误。
6.manifests文件夹（清单文件夹）：Android系统配置文件夹，包含一个AndroidManifest.xml文件（清单文件），可在此文件注册声明</p>
<ul>
<li><code>&lt;activity&gt;</code>页面、</li>
<li><code>&lt;service&gt;</code>服务、</li>
<li><code>&lt;receiver&gt;</code>接收器、</li>
<li><code>&lt;provider&gt;</code>提供者或提供程序、</li>
<li><code>&lt;uses-permission&gt;</code>使用权限等；</li>
</ul>
<p>7.java文件夹：存放Java代码的文件夹，新建项目时默认生成了三个文件夹，com.first.project文件夹用来存放Java文件，这里包含一个名为MainActivity的Java文件，是新建项目时默认生成的。
第二个和第三个文件为测试代码文件夹，不是十分常用。</p>
<ul>
<li>res文件夹：存放Android项目的资源文件，包含四个文件夹：</li>
<li>drawable（图片资源文件夹）、</li>
<li>layout（布局资源文件夹）、</li>
<li>mipmap（图片资源文件夹，存放项目图标）、</li>
<li>values（存放数值资源文件），</li>
<li>此外有menu文件（菜单资源文件）。</li>
</ul>
<p>8.Android系统体系结构四层，从上到下分别是</p>
<ul>
<li>应用程序层</li>
<li>应用程序框架层</li>
<li>系统运行库层</li>
<li>Linux内核层
每一层都是用其下面各层所提供的服务。</li>
</ul>
<p>应用程序层</p>
<p>Android平台包含了许多核心的应用程序，诸如Email客户端、SMS短消息程序、日历、地图、浏览器、联系人等应用程序。这些应用程序都是用Java语言编写的。开发人员可以灵活地根据需求替换这些自带的应用程序或者开发新的应用程序。</p>
<p>应用程序框架</p>
<p>开发者可以完全访问核心应用程序所使用的API框架。该层简化了组件的复用，使得开发人员可以直接使用系统提供的组件来进行快速地开发，也可以通过继承灵活地加以拓展。这些东西包括：</p>
<p>活动管理器（Activity Manager，管理各个应用程序的生命周期以及通常的导航回退功能）
视图系统（View System，构建应用程序的基本组件）
内容提供器（ContentProvider，使得不同的应用程序之间可以存取或者分享数据）
资源管理器（Resource Manager，提供应用程序使用的各种非代码资源，如本地化字符串、图片、布局文件等）
通知管理器（Notification Manager，使应用程序可以在状态栏中显示自定义的提示信息）等。</p>
<p>系统运行库层</p>
<p>包括系统库和Android Runtime，系统库是应用程序框架的支撑，是连接应用程序框架层与Linux内核层的重要纽带。程序在Android Runtime中执行，其运行时分为核心库和Dalvik虚拟机两部分。</p>
<p>Linux内核层</p>
<p>Android基于Linux2.6的内核，其核心系统服务如安全性、内存管理、进程管理、网络协议以及驱动模型都依赖于Linux内核，同时内核层也扮演了介于硬件层和软件栈之间的抽象层的角色。
Linux内核层和系统运行库层之间，从Linux操作系统的角度来看，是内核空间与用户空间的分界线，Linux层运行于内核空间，以上各层运行于用户空间。系统运行库层和应用框架层之间是本地代码层和Java代码层的接口。应用框架层和应用程序层是Android的系统API的接口，对于Android应用程序的开发，应用程序框架层以下的内容是不可见的，仅考虑系统API即可。</p>
<p>9.四大核心组件有：activity（活动或页面）、service（服务）、broadcast receiver（广播接收器）、content provider（内容提供者）</p>
<p>10.Activity介绍Android系统是通过任务栈来管理Activity的。当一个Activity启动时，会把Activity压入到堆栈中，当用户按返回键或者结束掉该Activity时，它会从堆栈中弹出。</p>
<p>11.Android为我们定义了四种加载方式</p>
<p>Standard 加载模式  ——标准模式/默认加载模式</p>
<p>标准模式：系统默认的Activity启动模式，当Intent欲打开Activity时，在该Activity不存在，存在于栈顶和存在于栈底三种情况下都会正常创建Activity，并压入任务栈栈顶；</p>
<p>SingleTop 加载模式  ——栈顶单例模式</p>
<p>栈顶单例模式：当启动一个Activity时，只有当该activity存在任务栈中且为栈顶，Intent才会通过onNewIntent()方法传递给在栈顶Activity实例；其他情况则正常创建Activity并压入任务栈；</p>
<p>SingleTask 加载模式  ——栈内单例模式</p>
<p>站内单例模式：当启动一个Activity时，系统会先检查任务栈内是否有该Activity，如果该Activity不存在则正常创建Activity实例，如果存在且在栈底则会将它上面的Activity弹出并销毁，使该Activity置于栈顶再调用onNewIntent()方法；</p>
<p>SingleInstence 加载模式  ——全局单例模式</p>
<p>与SingleTask模式基本一样，只是在这个模式下Activity所处的任务栈中只能有Activity这一个实例，不能有其他的实例。</p>
<p>12.Activity生命周期是指Activity从创建到销毁的过程，在这一过程中，Activity一般处于4种状态，即：Active/Running、Paused、Stop、Killed</p>
<p>（1）Active/Running   此时Activity一定处于屏幕的最前端，用户完全可以看得到，并且可以与用户进行交互。对于Activity栈来说，它处于栈顶；
（2）Paused  此时Activity在屏幕上仍然可见，但是它已经失去了焦点，用户不能与之进行交互。暂停状态的Activity是存活的，它仍然维持着其内部状态和信息，但是系统可能会在手机内存极低的情况下杀掉该Activity；
（3）Stop   此时Activity在屏幕上完全不能被用户看见，也就是说这个Activity已经完全被其他Activity所遮住。处于停止状态的Activity，系统仍然保留有其内部状态和成员信息，但是它经常会由于手机系统内存被征用而被系统杀死回收；
（4）Killed   Activity被系统杀死回收或者未启动。</p>
<p>13.为了能够让Android程序了解自身状态的变化，Android系统中具有很多事件回调函数，我们可以重载这些方法来实现自己的操作。Android生命周期的事件回调函数如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(Bundle savedInstanceState) 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStart</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onRestart</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResume</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPause</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStop</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onDestroy</span>()</span></span></code></pre></div><p>14.Activity生命周期</p>
<p>15.Fragment必须是依存于Activity而存在，因此Activity的生命周期会直接影响到Fragment的生命周期。图在课本第50页。</p>
<p>由图可以看到Fragment比Activity多了几个额外的生命周期回调函数：</p>
<p>onAttach(Activity)：当Fragment与Activity发生关联时调用。从该方法开始，就可以通过Fragment.getActivity方法获取与Fragment关联的窗口对象了，但在该方法中仍然无法操作Fragment中的控件。
onCreateView(LayoutInflater, ViewGroup, Bundle)：创建该Fragment的视图。onActivityCreated(Bundle)：当Activity的onCreate方法返回时调用。</p>
<p>onDestoryView():与onCreateView相对应，当该Fragment的视图被移除时调用。onDetach()：与onAttach相对应，当Fragment与Activity关联被取消时调用。</p>
<p>16.在使用Intent进行Activity之间的跳转时，我们通常有三种Intent跳转方式，即：不带参数的跳转、带参数的跳转以及带返回值的跳转，代码实现可参考实验报告或书本。</p>
<p>17.TextView常用的属性</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    android:id=&#34;@+id/textView1&#34;表示该控件的id，在布局文件中或者代码中被引用
</span></span><span style="display:flex;"><span>    android:textStyle=&#34;bold&#34;表示TextView里面的字加粗显示
</span></span><span style="display:flex;"><span>    android:layout_height=&#34;wrap_content&#34;表示该控件的高度为其包含内容的高度
</span></span><span style="display:flex;"><span>    android:layout_width=&#34;wrap_content&#34;表示该控件的宽度为其包含内容的宽度
</span></span><span style="display:flex;"><span>    android:text=&#34;@string/signin&#34; 显示的内容，这里表示存放在string.xml文件中name=signin的文本
</span></span><span style="display:flex;"><span>    android:layout_height=&#34;40dip&#34;设置具体的高度
</span></span><span style="display:flex;"><span>    android:textColor=&#34;#7089c0&#34;设置文本的颜色
</span></span><span style="display:flex;"><span>    android:textSize=&#34;18sp&#34;设置文本的大小
</span></span><span style="display:flex;"><span>    android:gravity=&#34;center_vertical&#34;设置文本垂直居中
</span></span><span style="display:flex;"><span>    android:paddingLeft=&#34;5dip&#34;设置内边距
</span></span><span style="display:flex;"><span>    android:layout_marginTop=&#34;5dip&#34;设置外边距</span></span></code></pre></div><p>18.LinearLayout线性布局、</p>
<ul>
<li>RelativeLayout相对布局、</li>
<li>FrameLayout帧布局、</li>
<li>TableLayout表格布局、</li>
<li>AbsoluteLayout绝对布局</li>
</ul>
<p>线性布局，是指该容器（LinearLayout）内子控件的摆放方式有两种：
第一种：垂直放置（VERTICAL），相对水平放置来讲，垂直放置就相当于一列，放置的控件或者容器只能在该列中的某个位置，两个控件之间只存在上下方向的关系，不存在其他方向上的关系。当这一列放满后，再添加的控件就至于屏幕之外存在，无法看见。
第二种：水平放置（HORIZONTAL），指的是该容器里面存放的控件或者容器只能以一行的形式出现，放置的控件只能是该行中的某个位置，两个控件或者容器之间只有左右关系没有其他方向上的关系，当放置水平方向满屏时不会自动换行，再放置的控件将在屏幕之外存在，无法看见。
在线性布局中重要的属性值对应表示</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    android:orientation	            //设置控件或者容器存放的方式
</span></span><span style="display:flex;"><span>    android:id	                    //设置控件id，方便在使用时找到其引用
</span></span><span style="display:flex;"><span>    android:layout_width	        //容器的宽度，该值必须设置
</span></span><span style="display:flex;"><span>    android:layout_height	        //容器的高度，该值必须设置
</span></span><span style="display:flex;"><span>    android:layout_weight	        //该属性针对其内的子控件，存放在LinearLayout中的控件都有这个属性，用来设置该控件或者容器占父控件或者容器的比例。</span></span></code></pre></div><p>相对布局，是指利用控件之间的相对位置关系来对布局进行放置。换句话说，在该容器中的控件与其他任何一个控件或者容器（包括父控件）有相对关系。</p>
<p>帧布局，是指该容器内放置的控件或者容器没有上下左右的关系，只有层叠前后的关系。放置在容器内的控件按放置的前后顺序逐一层叠摆放，自然地后面摆放的控件就将前面摆放的控件覆盖了，叠在它的上面了。对于放置前后的关系，在没有设置其他属性之前，Android系统采用的是叠放的原则，即后加入节点的层叠在上面。设置属性android：bringToFront=“true|false”将前面放置的控件提到最前面可见。</p>
<p>表格布局，指该容器是一个表格，放置控件时，控件的位置坐落在表格的某个位置上。其中TableRow是配合TableLayout使用的，目的是为了让TableLayout生成多个列，否则TableLayout中就只能存在一列元素，但可以有多行。</p>
<p>TableLayout的直接父类是LinearLayout，所以其具有LinearLayout的属性，TableLayout中的每一行用TableRow表示，每一列就是TableRow中的个数指定的。TableRow的直接父类是LinearLayout，但是其放置的方式只能水平放置。</p>
<p>绝对布局，是指以屏幕左上角为坐标原点（0,0），控件在容器中的位置以坐标的形式存在，可以随意指定控件的坐标位置，非常灵活。在开发过程中很少使用，原因是屏幕兼容性不好，不便控制两个控件之间的位置。其中控件或者容器放置的位置通过android:layout_x和android:layout_y这两个属性进行设置。</p>
<p>ConstraintLayout约束布局</p>
<p>优点：</p>
<p>ConstraintLayout之所以成为目前Android开发中主流的布局，除了官方建议使用ConstraintLayout外还有以下几个方面的优势
1.功能强大，ConstraintLayout几乎能实现其他布局所有的功能
2.能减少布局层次的嵌套，有性能的优势
3.可视化操作的增强，大部分界面用ConstraintLayout都能通过可视化编辑区域完成</p>
<p>19.对话框（Dialog）是Android系统在Activity或者其他组件运行过程中提供的一种资源消耗很小的提示机制，它可以帮助应用完成一些必要的提示功能，同时还提供一些用户交互的功能，包括简单的提示、等待、选择、展示等功能。操作简单，资源消耗较少。代码实现可参考实验报告或书本</p>
<p>1提示对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.alertdialog;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Toast;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultipleChoiceDialogBox</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">dialog_box_up</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(MultipleChoiceDialogBox.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setTitle</span>(<span style="color:#e6db74">&#34;这是一个简单的弹窗&#34;</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setIcon</span>(R.<span style="color:#a6e22e">mipmap</span>.<span style="color:#a6e22e">ic_launcher</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setMessage</span>(<span style="color:#e6db74">&#34;你学会了吗？&#34;</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;学会了&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;不会&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>2单选对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.alertdialog;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Toast;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultipleChoiceDialogBox</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView textView;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String sexx<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;男&#34;</span>,<span style="color:#e6db74">&#34;女&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> choiceWitch <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">dialog_box_up</span>);
</span></span><span style="display:flex;"><span>        textView<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">show_dialog_box_text</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(MultipleChoiceDialogBox.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setCancelable</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setSingleChoiceItems</span>(sexx, <span style="color:#f92672">-</span>1, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialog, <span style="color:#66d9ef">int</span> which) {
</span></span><span style="display:flex;"><span>                        choiceWitch<span style="color:#f92672">=</span>which;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;确定&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>                        textView.<span style="color:#a6e22e">setText</span>(sexx<span style="color:#f92672">[</span>choiceWitch<span style="color:#f92672">]</span>);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;取消&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>3多选对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.gpc.wzxapplicationwu1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.v7.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.v7.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AlertDialogActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView textView;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String sexx<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;a&#34;</span>,<span style="color:#e6db74">&#34;b&#34;</span>,<span style="color:#e6db74">&#34;c&#34;</span>,<span style="color:#e6db74">&#34;d&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">boolean</span> stu<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span> {<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> choiceWitch <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ArrayList<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> HashMap<span style="color:#f92672">&lt;</span>Integer,Integer<span style="color:#f92672">&gt;</span> map <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> <span style="color:#66d9ef">final</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">alert_dialog</span>);
</span></span><span style="display:flex;"><span>        textView <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">alert_dialog_textview</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">alert_dialog_button</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(AlertDialogActivity.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setMultiChoiceItems</span>(sexx, stu, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnMultiChoiceClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i, <span style="color:#66d9ef">boolean</span> b) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span>(b <span style="color:#f92672">==</span> <span style="color:#66d9ef">true</span>){
</span></span><span style="display:flex;"><span>                            map.<span style="color:#a6e22e">put</span>(i,i);
</span></span><span style="display:flex;"><span>                        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                            map.<span style="color:#a6e22e">remove</span>(i);
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;确定&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">for</span> (Integer j : map.<span style="color:#a6e22e">keySet</span>()){
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">int</span> z <span style="color:#f92672">=</span> map.<span style="color:#a6e22e">get</span>(j);
</span></span><span style="display:flex;"><span>                            str <span style="color:#f92672">=</span> str <span style="color:#f92672">+</span> sexx<span style="color:#f92672">[</span>z<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                        textView.<span style="color:#a6e22e">setText</span>(str);
</span></span><span style="display:flex;"><span>                        str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;取消&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>19.Android系统中的ContextMenu(上下文菜单)类似于PC中的右键弹出菜单，当一个视图注册了上下文菜单时，长按该视图对象将出现一个提供相关功能的浮动菜单。上下文菜单可以被注册到任何视图对象中，最常见的是用于列表视图中，但上下文菜单不支持图标和快捷键。</p>
<p>选项菜单
当Activity在前台运行时，如果用户按下微信消息列表页面右上角加号键，此时就会在屏幕右上角弹出相应的选项菜单。但这个功能需要开发人员编程来实现，如果在开发应用程序时没有实现该功能，那么程序运行时按下手机的meun键是不会起作用的。</p>
<p>下拉菜单
严格来讲Spinner不算是一个菜单，但是其操作和表现形式具有菜单的行为。Spinner的有效使用可以提高用户的体验。当用户需要选择的时候，可以提供一个下拉列表将所有可选的项列出来，供用户选择。</p>
<p>21.Toast（提示）的使用，代码实现可参考实验报告或书本。</p>
<p>Toast.makeText(MultipleChoiceDialogBox.this,&ldquo;nihao&rdquo;,Toast.LENGTH_LONG).show();</p>
<p>22.Notification表示通知，是可以显示在Android系统通知栏上的一种数据的封装形，运用Notification可以提高应用的交互性，带来良好的用户感受。
关于Notification，主要涉及到Notification类与NotificationManager类的使用。
Notification类的实例表示在通知栏显示的一个通知，该通知内容包括该通知的ID、时间、内容、标题、图标等。
NotificationManager实例用来将该通知发送到系统的通知栏上。</p>
<p>23.本地服务（Local Service）用于应用程序内部，可以实现应用程序自己的一些耗时任务，比如查询升级信息、网络传输，或者在一些场合需要在后台执行，比如播放音乐，并不占用应用程序比如Activity所属的线程，而是单开线程后台执行，这样用户体验比较好。</p>
<p>Service的两种启动方式
(1)通过bindService绑定：
绑定时，bindService -&gt; onCreate() –&gt; onBind()；
解绑定：unbindService –&gt;onUnbind() –&gt; onDestory()；
此时如果调用者（如Activity）直接退出，Service 由于与调用者绑定在一起，则Service随着调用者一同停止。</p>
<p>（2）通过startService绑定：
启动时，startService –&gt; onCreate() –&gt; onStart()；
停止时，stopService –&gt; onDestroy()；
此时，服务与调用者（如Activity）没有绝对关联，当调用者关闭后服务还会一直在后台运行。
服务的生命周期</p>
<p>23.在Android里面有各式各样的广播，比如：电池的状态变化、信号的强弱状态、电话的接听和短信的接收等等，本节将会介绍系统发送、监听这些广播的机制。</p>
<p>两种广播注册方法的区别
第一种不是常驻型广播，也就是说广播跟随程序的生命周期
第二种是常驻型，也就是说当应用程序关闭后，如果有信息广播过来，程序广播接收器也会被系统调用自动运行</p>
<p>25.作为一个完整的应用程序，数据的存储与操作是必不可少的。Android系统为我们提供了四种数据存储方式，分别是：Shared Preference、SQLite、File和ContentProvider。
SharedPreference：一种常用的数据存储方式，其本质就是基于xml文件存储键值对（key-value）数据，通常用来存储一些简单的配置信息。</p>
<p>SQLite：一个轻量级的数据库，支持基本SQL语法，是Android系统中常被采用的一种数据存储方式。Android为此数据库提供了一个名为SQLiteDatabase的类，封装了一些操作数据库的API。
文件储存：即常说的文件（I/O）存储方法，常用于存储数量比较大的数据，但缺点是更新数据将是一件困难的事情。
ContentProvider：它是Android系统中能实现应用程序之间数据共享的一种存储方式。由于Android系统中，数据基本都是私有的，存放于“data/data/程序包名（package name）”目录下，所以要实现数据共享，正确方式是使用ContentProvider。由于数据通常在各应用间是私密的，所以此存储方式较少使用，但是其又是必不可少的一种存储方式。如果应用程序有数据需要共享时，就需要使用ContentProvider为这些数据定义一个URI（包装成Uri对象），然后其他的应用程序就通过ContentResolver传入这个URI来对数据进行操作。</p>
<p>26.SharedPreferences对象的常用方法有以下几种：</p>
<p>27.Sqlite数据库的使用涉及到两个类：SQLiteDataBase和SQLiteOpenHelper</p>
<p>SQLiteDatabase具体方法：</p>
<p>SQLiteOpenHelper 具体方法</p>
<p>例：要得到一个可写数据库，首先创建一个类继承 SQLiteOpenHelper，重写 onCreate()方法并在该方法中创建表，然后使用创建出的 SQLiteOpenHelper 的子类对象的 getWritableDatabase()方法获得一个可读写的数据库对象。</p>
<p>28.网络状态</p>
<p>29.JSON数据解析
是一种轻量级的数据交换格式，它基于纯文本，采用完全独立于语言的文本格式来存储和传输数据。在编程环境中解析JSON数据意味着将JSON字符串转换为程序可以理解并操作的数据结构
JSON Object：JSON中对象(Object)以“{”开始, 以“}”结束。对象中的每一个item都是一个键值对，表现为“key:value”的形式, 键值对之间使用逗号分隔。如下代码所示：
{
&ldquo;name&rdquo;：&ldquo;coolxing&rdquo;，
&ldquo;age&rdquo;：24，
&ldquo;male&rdquo;：true，
&ldquo;address&rdquo;：{
&ldquo;street&rdquo;:&ldquo;huiLongGuan&rdquo;，
&ldquo;city&rdquo;:&ldquo;beijing&rdquo;，
&ldquo;country&rdquo;:&ldquo;china&rdquo;
}
}</p>
<p>JSONArray: JSON数组(Array)以&quot;[&ldquo;开始, 以&rdquo;]&ldquo;结束, 数组中的每一个元素可以是String,Number, Boolean, null, Object对象甚至是Array数组, 数组间的元素使用逗号分隔,如下代码所示：
[
&ldquo;coolxing&rdquo;, 24，
{
&ldquo;street&rdquo;:&ldquo;huiLongGuan&rdquo;，
&ldquo;city&rdquo;:&ldquo;beijing&rdquo;，
&ldquo;country&rdquo;:&ldquo;china&rdquo;
}
]</p>
<p>30.Webview
WebView 加载页面主要调用三个方法：LoadUrl、LoadData、LoadDataWithBaseURL.
LoadUrl  直接加载网页、图片并显示。
LoadData 显示文字与图片内容。(模拟器1.5、1.6)。
LoadDataWithBase 显示文字与图片内容 (支持多个模拟器版本)。
使用webview的websetting来设置，WebSetting websetting = webView.getSettings().
Websetting常用方法：</p>
<p>31.进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。它是操作系统动态执行的基本单元。
通俗地讲一个进程代表一个应用程序，该应用程序运行在自己的进程当中，使用系统为其分配的堆内存，不受其他应用程序或者是其他进程的影响，是独立运行的。当然一个进程中可以同时运行多个应用程序，这时堆内存是共享的。</p>
<p>Android系统为每个应用程序分配了一个进程，应用程序中组件（Activity，Service，BroadCast）的状态决定的一个进程的“重要性层次”，层次最低的属于旧进程。这个“重要性层次”有五个等级，也就是进程的生命周期，按最高层次到最低层次排列如下：
（1）前台进程
（2）可视进程
（3）服务进程
（4）背景进程
（5）空进程</p>
<p>一个Android应用只能存在一个进程，但是可以存在多个线程，也就是说，当应用启动后，系统分配了内存，这个进程的内存不被其他进程使用，但被进程中一个或多个线程共享。宏观地讲所有的进程是并发执行的，而进程中的多个线程同时执行但并不是并发的，系统的CPU会根据应用的线程数触发每个线程执行的时刻，当CPU时间轮到分配某个线程执行时刻时该线程开始执行，执行到下一个线程执行的时，依此轮询，直到线程执行结束。
在理解启动模式前，理解几个概念</p>
<ol>
<li>任务
用户尝试在您的应用中执行操作时与之互动的一系列 activity。这些 activity 按照每个 activity 的打开顺序排列在称为“返回堆栈”的堆栈中，也称为任务栈。</li>
<li>Activity：简单理解就是页面，下面介绍启动模式的时候我们都把它理解为“页面”；</li>
<li>Intent：教材一般叫意图，简单理解它就是带操作的信息，像指令一样，接收到Intent就类似接收到指令一样。</li>
<li>一个应用可以有多个任务栈，在考虑一个应用一个任务栈的情况下，两个页面如果在不同应用程序，那么在启动这两个页面的时候，他们会被压入各自的任务栈，所以两个不同应用程序的各自页面一般不会出现在同一个任务栈中；</li>
<li>onNewIntent() 方法的作用主要是允许已存在的 Activity 更新其状态以响应新的 Intent 数据。例如，在接收动态广播（如地理位置更新、消息通知等）或重新加载内容时，无需重启 Activity 就可以处理新的数据。开发者需要重写这个方法并在其中处理接收到的新 Intent 数据。</li>
</ol>
<p>四种启动模式：</p>
<p><strong>标准模式（standard）</strong></p>
<p>默认启动模式，如果任务栈中没有Activity则会实例化一个新的Activity，并将其压入当前任务栈的顶部。
如果同一个Activity已经存在栈顶，那么新的实例仍然会被创建并压入栈中，因此栈中可能包含多个该Activity实例。</p>
<p><strong>单例模式（singleTop）</strong></p>
<p>当一个新的Intent要启动已位于栈顶的Activity（与请求的Intent匹配的Activity）时，系统不会创建新的Activity实例，而是将intent通过onNewIntent()方法传递给现有的Activity实例；</p>
<ul>
<li>如果目标Activity不在栈顶，则会正常创建新的实例；</li>
<li>如果目标Activity不在栈顶而在栈顶的下一层呢？
比如现在有A-B-C-D,D在栈顶，如果传来的Intent是要打开页面C，在单例模式下也是正常创建；</li>
</ul>
<p>总结：</p>
<p>在单例模式下，</p>
<ul>
<li>如果页面不存在，也就是要打开的Activity没有在任务栈中实例化，那么正常创建Activity实例，并压入栈中；</li>
<li>如果Activity已经存在于任务栈中，且为栈顶，那么系统不创建新的Activity实例，而是将intent通过onNewIntent()方法传递给现有的Activity实例，</li>
<li>如果不是栈顶，正常创建Activity实例。</li>
</ul>
<p><strong>栈内复用模式（singleTask）</strong></p>
<p>当打开一个页面，也就是启动一个Activity时，系统首先会在整个任务栈中查找这个Activity是否已经在栈中，</p>
<ul>
<li>情况一：如果存在并且处于栈底，则直接把该Activity之上的所有Activity弹出栈，使这个Activity置于栈顶并调用其onNewIntent()。</li>
<li>情况二：如果在栈顶，则将intent通过onNewIntent()方法传递给现有的Activity实例</li>
</ul>
<p>如果不存在已有的Activity实例，才会创建新的实例并放入栈顶。这种模式下的Activity始终只有一个实例存在于任务栈中。</p>
<p><strong>单实例模式（singleInstance）</strong></p>
<p>当启动Activity时，系统会为它创建一个新的任务栈，然后在这个新的栈顶放上这个Activity的实例。
如果再次启动这个Activity，即使是在另一个任务栈中，系统也不会创建新实例，而是将意图传递给已经存在的Activity实例。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="androidstudio笔记">AndroidStudio笔记</h1>

<h2 id="第一章">第一章</h2>
<h3 id="配置开发环境">配置开发环境：</h3>
<ul>
<li>1.<strong>安装JDK</strong>
<a href="https://www.bilibili.com/video/BV1tE411V7xA/" target="_blank">&ldquo;安装连接&rdquo;</a></li>
<li>2.<strong>安装AndroidStudio</strong>
<a href="https://www.bilibili.com/video/BV11z4y1x7Dh/" target="_blank">&ldquo;安装连接&rdquo;</a></li>
<li>3.<strong>安装SDK</strong></li>
<li>4.<strong>AndroidStudio汉化</strong></li>
<li><a href="https://www.bilibili.com/video/BV1Hz4y1K7Tc/" target="_blank">https://www.bilibili.com/video/BV1Hz4y1K7Tc/</a></li>
</ul>
<h2 id="第二章">第二章</h2>
<p>Gradle():自动构建
日志输出工具：查看报错
Run（运行）</p>
<p>工程结构：
（清单文件）：对Activity，service，re广播等进行注册的文件
Java目录：
后缀为 <strong>.class</strong>
drawable目录：资源文件，放图片、图标、背景资源的文件
Layout目录：放页面布局文件
放图片和.xml文件，适配不同分辨率的文件夹
values目录：颜色、数组、字符串、样式</p>
<h2 id="android基本原理">Android基本原理</h2>
<h3 id="android体系结构">Android体系结构</h3>
<h3 id="android-用用程序核心组件">Android 用用程序核心组件</h3>
<h4 id="activity">Activity</h4>
<h2 id="第四章-activityfragment以及intent通信机制">第四章 Activity、Fragment以及Intent通信机制</h2>
<h3 id="activity生命周期">Activity生命周期</h3>
<p>四种状态的转换</p>
<p>布局的特点：</p>
<h2 id="第八章-数据存储和提供器">第八章 数据存储和提供器</h2>
<h3 id="sharedpreference">SharedPreference</h3>
<p>使用键值对关系来获取文件</p>
<h3 id="sqlite">SQLite</h3>
<p>轻量级占用内存小，支持基本的MySQL语言。
创建过程：</p>
<h3 id="contentpreference应用存储">ContentPreference（应用存储）</h3>
<p>通过暴露URL让软件之间可以共享文件
好比一般使用文件时，软件会要求需要访问你手机文件权限。</p>
<h3 id="文件存储">文件存储</h3>
<h2 id="网络通信编程">网络通信编程</h2>
<h3 id="网络访问方式">网络访问方式</h3>
<p>网络状态码，例如404表示什么？</p>
<h3 id="数据解析">数据解析</h3>
<p>1.JSON格式解析：
以类对象的方式进行相应，以数组的方式进行相应，也可以二者混合。</p>
<h3 id="网络状态">网络状态</h3>
<h3 id="javascript与java交互">JavaScript与Java交互</h3>
<p>webView的使用</p>
<p>在简单的使用webview过程中可能无法进入指定的网页，而且AndroidStudio模拟机上还会弹出如下错误：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>    <span style="font-weight:bold">**Webpage not available**</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    The webpage at http://www.baidu.comi could not beloaded because:
</span></span><span style="display:flex;"><span>    net::ERR_CLEARTEXT_NOT_PERMITTED</span></span></code></pre></div><p>解决的办法：
请在<strong>AndroidManifest.xml</strong>文件下添加代码：

<div class="tab-panel" data-tab-group="1fa5fdf5fcd18585679660cf33cf6158">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('1fa5fdf5fcd18585679660cf33cf6158','添加代码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 添加代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.INTERNET&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.ACCESS_NETWORK_STATE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.ACCESS_WIFI_STATE&#34;</span> <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<p>如果添加上面的还不可以，请在<strong>manifest</strong>中添加如下代码：</p>

<div class="tab-panel" data-tab-group="a8881a4267e4ae4584ba46ab58043c93">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('a8881a4267e4ae4584ba46ab58043c93','添加代码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 添加代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;manifest</span> <span style="color:#960050;background-color:#1e0010">...</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;application</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:usesCleartextTraffic=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/application&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/manifest&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<p><a href="https://blog.csdn.net/zgd826237710/article/details/95520785/" target="_blank">&ldquo;原文章链接&rdquo;</a></p>
<p>getwebSetting</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b2-%E7%AC%94%E8%AE%B0/">B2-笔记</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/ui%E8%AE%BE%E8%AE%A1/">UI设计</a></li>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="2-1toolbar工具栏">2-1.Toolbar工具栏</h1>

<h2 id="toolbar是什么">Toolbar是什么？</h2>
<p>简单理解就是页面的上的菜单栏，或者叫工具栏，在<strong>AndroidStudio</strong>的页面布局中使用<strong>Toolbar</strong>，</p>
<h2 id="menu文件的创建">menu文件的创建</h2>
<p>在创建<strong>menu</strong>这个目录前，请看查看<strong>res/<strong>目录下是否包含该目录，如果没有则创建。
接着在该目录下创建</strong>xml</strong>文件，此处文件名为<strong>content_menu</strong>。在该<strong>content_menu</strong>使用<code>&lt;item</code>,如下为部分代码：

<div class="tab-panel" data-tab-group="5ebc31749ffeedb7f2b3d433908deb36">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('5ebc31749ffeedb7f2b3d433908deb36','简码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 简码</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('5ebc31749ffeedb7f2b3d433908deb36','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_group_chat&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;发起群聊&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;menu</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_group_chat&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;发起群聊&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_friend&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;添加朋友&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_RichScan&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;扫一扫&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_QRcode&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;扫码&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;4&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/menu&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
在代码中<strong>orderInCategory</strong>属性是用来控制该<strong>item</strong>权重的，权重越小等级越高，该标题就会靠前显示，

<div class="box notices cstyle secondary">
  <div class="box-label"><i class="fa-fw fas fa-eye"></i> 结果</div>
  <div class="box-content">

<p><a href="#R-image-e3b4813a8e74fe5dd65a00fc969ed97f" class="lightbox-link"><img src="./branch-bundle-1/2.androidstudio/toolbar/img1_item.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="figure-image        " style="height: 250px; width: 15vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e3b4813a8e74fe5dd65a00fc969ed97f"><img src="./branch-bundle-1/2.androidstudio/toolbar/img1_item.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="lightbox-image        " loading="lazy"></a></p>
</div>
</div></p>
<h2 id="创建布局页面">创建布局页面</h2>
<p>详细代码如下：

<div class="tab-panel" data-tab-group="5d3a70a8849ce5c76f2a49e88cd147f3">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('5d3a70a8849ce5c76f2a49e88cd147f3','简码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 简码</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('5d3a70a8849ce5c76f2a49e88cd147f3','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;androidx.appcompat.widget.Toolbar</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/options_menu_toolbar&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;409dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;?attr/colorPrimary&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:minHeight=</span><span style="color:#e6db74">&#34;?attr/actionBarSize&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;?attr/actionBarTheme&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintLeft_toLeftOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintRight_toRightOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:app=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:tools=</span><span style="color:#e6db74">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;androidx.appcompat.widget.Toolbar</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/options_menu_toolbar&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;409dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;?attr/colorPrimary&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:minHeight=</span><span style="color:#e6db74">&#34;?attr/actionBarSize&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;?attr/actionBarTheme&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintLeft_toLeftOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintRight_toRightOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<h2 id="activityjava1文件中">Activity.java<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>文件中</h2>
<p>此处创建类的步骤，继承<code>AppCompatActivity</code>方法就不再赘述。</p>
<ol>
<li>在<code>onCreate</code>获取<strong>Toolbar</strong>的id，这个过程也叫实例化；</li>
<li>接着使用方法<code>setSupportActionBar</code>;</li>
<li>在onCreate外重写<code>onCreateOptionsMenu</code>和<code>onOptionsItemSelected</code>方法。</li>
</ol>

<div class="tab-panel" data-tab-group="39ba50a20603dcf4bfa4d0ae37b1f2b4">
  <div class="tab-nav">
    <div class="tab-nav-title">.java文件</div>
    <button
      data-tab-item="oncreatefa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('39ba50a20603dcf4bfa4d0ae37b1f2b4','oncreatefa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onCreate</span>
    </button>
    <button
      data-tab-item="oncreateoptionsmenufa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('39ba50a20603dcf4bfa4d0ae37b1f2b4','oncreateoptionsmenufa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onCreateOptionsMenu</span>
    </button>
    <button
      data-tab-item="onoptionsitemselectedfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('39ba50a20603dcf4bfa4d0ae37b1f2b4','onoptionsitemselectedfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onOptionsItemSelected</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('39ba50a20603dcf4bfa4d0ae37b1f2b4','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="oncreatefa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">opetions_menu</span>);
</span></span><span style="display:flex;"><span>        toolbar <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">options_menu_toolbar</span>);
</span></span><span style="display:flex;"><span>        setSupportActionBar(toolbar);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="oncreateoptionsmenufa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(Menu menu) {
</span></span><span style="display:flex;"><span>        getMenuInflater().<span style="color:#a6e22e">inflate</span>(R.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">content_menu</span>,menu);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreateOptionsMenu</span>(menu);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="onoptionsitemselectedfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(<span style="color:#a6e22e">@NonNull</span> MenuItem item) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//获取menu目录中content_menu.xml文件里item的id</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> id <span style="color:#f92672">=</span> item.<span style="color:#a6e22e">getItemId</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//判断id是否被点击，被点击就执行相应的动作，比如页面跳转</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_add_friend</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(OpetionsMenu.<span style="color:#a6e22e">this</span>,ListDialogActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_group_chat</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onContextItemSelected</span>(item);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.practiceapplication;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.Menu;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.MenuItem;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.NonNull;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.widget.Toolbar;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OpetionsMenu</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Toolbar toolbar;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">opetions_menu</span>);
</span></span><span style="display:flex;"><span>        toolbar <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">options_menu_toolbar</span>);
</span></span><span style="display:flex;"><span>        setSupportActionBar(toolbar);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(Menu menu) {
</span></span><span style="display:flex;"><span>        getMenuInflater().<span style="color:#a6e22e">inflate</span>(R.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">content_menu</span>,menu);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreateOptionsMenu</span>(menu);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(<span style="color:#a6e22e">@NonNull</span> MenuItem item) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> id <span style="color:#f92672">=</span> item.<span style="color:#a6e22e">getItemId</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_add_friend</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(OpetionsMenu.<span style="color:#a6e22e">this</span>,ListDialogActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_group_chat</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onContextItemSelected</span>(item);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="最终结果">最终结果</h2>

<div class="box notices cstyle secondary">
  <div class="box-label"><i class="fa-fw fas fa-eye"></i> 结果</div>
  <div class="box-content">

<p><a href="#R-image-8ebb56f76d9957c415c430acad6d6a1b" class="lightbox-link"><img src="./branch-bundle-1/2.androidstudio/toolbar/abc.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="figure-image        " style="height: 250px; width: 15vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8ebb56f76d9957c415c430acad6d6a1b"><img src="./branch-bundle-1/2.androidstudio/toolbar/abc.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="lightbox-image        " loading="lazy"></a></p>
</div>
</div>

<div class="expand">
    <input type="checkbox" id="R-expand-ce4513e4500c0217659037953e089cb3" aria-controls="R-expandcontent-ce4513e4500c0217659037953e089cb3" >
    <label class="expand-label" for="R-expand-ce4513e4500c0217659037953e089cb3" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-ce4513e4500c0217659037953e089cb3" class="expand-content">
<p>
详细知识等我更新……</div>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Activity.java这个文件的一般就是我们所说的主程序，类似与C语言中的包含main入口的文件。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b3-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/">B3-课堂笔记</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 3</div>
<h1 id="3stm32_rfid">3.STM32_RFID</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 4</div>
<h1 id="4esp8266_wifi">4.Esp8266_WiFi</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/">物联网通信技术-小知识</a><p>通信串口 参照上一节课 物联网是新一代信息技术领域的重要组成部分。其英文名称是“The Internet of things”，顾名思义，“物联网就是物物相连的互联网</p></li>
</ul>
<p><a href="#R-image-56b4036d0348798ac6ae3a490c50a62c" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/abc.jpg" alt="kjjd" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-56b4036d0348798ac6ae3a490c50a62c"><img src="./branch-bundle-1/4.esp8266_wifi/abc.jpg" alt="kjjd" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">4.Esp8266_WiFi 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">物联网工程</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网通信技术-小知识">物联网通信技术-小知识</h1>

<h2 id="通信串口">通信串口</h2>
<p>参照上一节课</p>
<p>物联网是新一代信息技术领域的重要组成部分。其英文名称是“The Internet of things”，顾名思义，“物联网就是物物相连的互联网”。</p>
<p>这有两层意思：</p>
<p>第一，物联网的核心和基础仍然是互联网，是在互联网基础上的延伸和扩展的网络；
第二，其用户端延伸和扩展到了任何物品与物品之间，进行信息交换和通信。</p>
<ol>
<li>全面感知：全面感知就是通过各种类型的传感器实时感知被测物理对象的状态。</li>
<li>可靠传递：可靠传递就是通过各种网络与互联网的融合，将物体的信息实时准确地传递出去。</li>
<li>智能计算：智能处理就是利用云计算、模糊识别等各种智能计算技术，对海量的数据和信息分析和处理，以实现对物体智能化控制。</li>
</ol>
<h2 id="通信">通信</h2>
<h3 id="通信的目的">通信的目的</h3>
<p>传递消息中所包含的信息</p>
<ol>
<li>
<p>消息
是物质或精神状态的一种反映，例如语音、文字、音乐、数据、图片或活动图片等</p>
</li>
<li>
<p>信息
是消息的有效信息内容</p>
</li>
</ol>
<h3 id="通信系统的一般模型">通信系统的一般模型</h3>
<p>信息源、发送设备、信道、接收设备、受信者、噪声源。</p>
<ul>
<li>发送端：信息源、发送设备；</li>
<li>接收端：接收设备、受信源；</li>
</ul>
<h3 id="通信系统分类">通信系统分类</h3>
<p>根据按信道中传输的 <strong>信号分类</strong> ，通信系统分为 <strong>模拟通信系统</strong> 和 <strong>数字通信系统</strong> 。模拟通信系统传送的是模拟信号，这代表消息的信号参量取值是连续的。</p>
<p>调制是指把信号转换成适合在信道中传输的形式的一种方产。广义调制分为 <strong>基带调制</strong> 和 <strong>频带（载波）调制</strong></p>
<p>点对点之间的通信，按消息传送的方向，通信方式可分为 <strong>单工通信</strong> 、<strong>半双工通信及全双工通信</strong> 三种</p>
<h3 id="串行通信">串行通信</h3>
<p>将数字元码序列以串行方式一个元码接着一个元码的在一条信道上传输。</p>
<p>优点：只需一条通信信道，节省线路铺设费用；
缺点：速度慢，需要外加码组或字符同步措施。</p>
<p><a href="#R-image-5667145a99a46703a1ba9a6f6cb0f5f7" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%871.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5667145a99a46703a1ba9a6f6cb0f5f7"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%871.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>随着技术的发展，以USB为代表的串行传输速度已经超过并行传输。</p>
<h3 id="并行通信">并行通信</h3>
<p>将代表信息的数字信号元码序列以组的方式在两条或者两条以上在并行信道上同时传输。</p>
<p><a href="#R-image-eaa21c7c011f2bc9582e5f97cfb550aa" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%872.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-eaa21c7c011f2bc9582e5f97cfb550aa"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%872.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>优点：节省传输时间，速度快，不需要字符同步措施；
缺点：需要n条数据线，成本高。</p>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<p>串行通信是指使用一条数据线,将数据一位一位地依次传输,每一位数据占据一个固定的时间长度</p>
<p>在进行串口通信时,两个串口设备间需要**发送端(TX)<strong>与</strong>接收端(RX)**交叉相连,并共用电源地(GND)。</p>
<ol>
<li>
<p><strong>串行通信的约定</strong>
串行通信中的这种约定包含两个方面，</p>
<ul>
<li>一方面是通信的速率要保持一致，</li>
<li>另一方面是字符的编码要一致。</li>
</ul>
</li>
<li>
<p><strong>波特率</strong>
通信速率是指单位时间内传输的信息量,可用比特率和波特率来表示。
<strong>比特率</strong> 是指每秒传输的二进制位数,用bps (bits)表示。
<strong>波特率</strong> 是指每秒传输的符号数,若每个符号所含的信息量为1比特,则波特率等于比特率。</p>
</li>
<li>
<p>串口工作原理</p>
</li>
</ol>
<p>在Arduino与其它器件通讯的过程中,数据传输实际上都是以数字信号(即电平高低变化)的形式进行的,串口通信也是如此.当使用Serial.print()函数输出数据时,Arduino的发送端会输出一连串的数字信号,称这些数字信号为数据帧.
例如,当时用Serial.print(&lsquo;A&rsquo;)语句发送数据时,实际发送的数据帧格式如下图所示:
<a href="#R-image-e6a4a2b00b7bfcd9bb1dcb9cb548c77c" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8714.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e6a4a2b00b7bfcd9bb1dcb9cb548c77c"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8714.png" alt=" " class="lightbox-image        " loading="lazy"></a>
Serial.begin()是Arduino开发平台串口初始化函数。
物联网设备跟云平台的通讯方法分为同步传输和异步传输</p>
<p>以光照度传感器为例，讲解串口通信模式。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> sensorPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ledPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> lineFound <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(sensorPin, INPUT);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(ledPin, OUTPUT);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>lineFound <span style="color:#f92672">=</span> <span style="color:#a6e22e">digitalRead</span>(sensorPin);     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(lineFound <span style="color:#f92672">==</span> HIGH) {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, HIGH);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, LOW);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>流程如下：
<a href="#R-image-c2f2d0e4fb1d65d79890c8be847f05a7" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8715.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c2f2d0e4fb1d65d79890c8be847f05a7"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8715.png" alt=" " class="lightbox-image        " loading="lazy"></a>
串口例程：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> analogInPin <span style="color:#f92672">=</span> A0; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  sensorValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>     Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>,<span style="color:#ae81ff">8</span>N1);              
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>     sensorValue <span style="color:#f92672">=</span> <span style="color:#a6e22e">analogRead</span>(analogInPin);     
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">250</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>（1）串口通信模式有：1）波特率为115200 （2）校验方式为无校验 (3)数据位为8位、停止位为1位</p>
<p>（2）串口通信流程图
<a href="#R-image-d6d1de7e69d7bdecefd11ee4538c5c83" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8716.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d6d1de7e69d7bdecefd11ee4538c5c83"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8716.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="zigbee与ieee802154">ZigBee与IEEE802.15.4</h2>
<p>ZigBee网络中的每一个节点都有一个16bit网络地址和一个64bit IEEE扩展地址。</p>
<p>IEEE802.15.4定义了2450MHz、868MHz、915MHz三个频段。对于不同的国家和地区，为其提供的工作频率范围是不同的，其中2450MHz （2.4GHz）频段是全球统一无需申请的的ISM频段，提供 <strong>250kbps</strong> 的通信速率，并提供16个信道;868MHz频段是欧洲的ISM频段，提供1个速率为20kbps的信道，915MH频段是美国的ISM频段，提供10个速率为40kbps的信道。</p>
<p><a href="#R-image-19f7d854f70c06c37730ce67d645608b" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%873.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-19f7d854f70c06c37730ce67d645608b"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%873.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-65a8271abd891966a677f05295ecd9a3" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-65a8271abd891966a677f05295ecd9a3"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>在ZigBee网络中存在三种节点类型：</p>
<ul>
<li>Coordinator(协调器)，</li>
<li>Router(路由器)</li>
<li>End-Device(终端设备)。</li>
</ul>
<p>ZigBee网络由一个Coordinator以及多个Router和多个End_Device组成。</p>
<p>ZigBee可采用 <strong>星状</strong> 、<strong>片状</strong> 和 <strong>网状</strong> 网络结构，由一个主节点管理若干子节点，最多一个主节点可管理254个子节点;同时主节点还可由上一层网络节点管理，最多可组成<strong>65000</strong>个节点的大网。</p>
<p>三种设备类型</p>
<p>三种节点类型及其案例</p>
<p>三种网络拓扑结构类型</p>
<p><a href="#R-image-7cabd512724a081f5cdef50073b31b4d" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7cabd512724a081f5cdef50073b31b4d"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="星形拓扑">星形拓扑</h3>
<p>包含一个Co-ordinator（协调者） 节点和一系列的 End Device（终端）节点，每一个End Device 节点只能和 Co-ordinator 节点进行通讯。如果需要在两个 End Device 节点之间进行通讯必须通过Co-ordinator 节点进行信息的转发。</p>
<p><a href="#R-image-1a5e70ba02ac84161b8ac4b76396297a" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1a5e70ba02ac84161b8ac4b76396297a"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="树形网络">树形网络</h3>
<p>树形拓扑包括一个Co-ordinator（协调者）以及一系列的 Router（路由器） 和 End Device（终端）节点。Co-ordinator 连接一系列的 Router 和 End Device， 他的子节点的 Router也可以连接一系列的 Router 和End Device. 这样可以重复多个层级。
Co-ordinator 和 Router 节点可以包含自己的子节点。End Device 不能有自己的子节点。有同一个父节点的节点之间称为兄弟节点。</p>
<p><a href="#R-image-3901c583ca0e8a572332e47588794cca" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3901c583ca0e8a572332e47588794cca"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="网型网络mesh拓扑">网型网络（Mesh拓扑）</h3>
<p>网形网络（Mesh拓扑） 包含一个Co-ordinator和一系列的Router 和End Device。这种网络拓扑形式和树形拓扑相同；请参考上面所提到的树形网络拓扑。但是，网状网络拓扑具有<strong>更加灵活的信息路由规则</strong>，在可能的情况下，路由节点之间可以直接的通讯。这种路由机制使得信息的通讯变得更有效率，而且意味这一旦一个路由路径出现了问题，信息可以自动的沿着其他的路由路径进行传输。</p>
<p><a href="#R-image-2e08c959914c460cee1bd0967d7eb604" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2e08c959914c460cee1bd0967d7eb604"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="rfid射频识别技术">RFID射频识别技术</h2>
<p>RFID的定义：射频识别（Radio Frequency Identification，RFID）是一种 <strong>非接触式</strong> 的自动识别技术，它通过射频信号自动识别特定目标对象并读写相关数据，而无须识别系统与特定目标之间建立机械或光学接触。</p>
<ol>
<li>
<p>RFID系统通常由 <strong>电子标签</strong> 、<strong>读写器</strong> 和 <strong>计算机网路</strong> 三部分组成。</p>
</li>
<li>
<p>RFID系统中的读写器的 <strong>工作频率</strong> 决定了整个RFID系统的工作频率，功率大小决定了整个RFID系统的工作距离。</p>
</li>
<li>
<p>在RFID系统中常用的频段有4种：低频LF(125kHz)、高频HF(13.56MHz)、超高频UHF(850～910MHz)及微波(2.45GHz)</p>
</li>
<li>
<p>电子标签分为 <strong>无源标签(passive)</strong>、 <strong>半无源标签(semi-passive)</strong> 和 <strong>有源标签(active)三种类型</strong>。</p>
</li>
<li>
<p>RFID最基本的硬件体系结构由RFID电子标签、RFID读写器和计算机。</p>
</li>
</ol>
<p><a href="#R-image-9ce54e5335f00d2882b5373fd28d2938" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%879.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9ce54e5335f00d2882b5373fd28d2938"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%879.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="rfid系统的工作原理">RFID系统的工作原理</h3>
<p>利用射频信号的空间耦合（电磁感应或电磁传播）传输特性，实现对静止的、移动的待识别物品的自动识别，如图所示：</p>
<p><a href="#R-image-36726d656a152fe8c6e607eee22716ae" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8710.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-36726d656a152fe8c6e607eee22716ae"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8710.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol>
<li>RFID网络框架结构</li>
</ol>
<ul>
<li>通信串口组网、</li>
<li>读写器与计算机直接连接、</li>
<li>读写器通过中间件连入网络</li>
</ul>
<h3 id="rfid工作过程">RFID工作过程</h3>
<p>读写器向M1卡发一组固定频率的电磁波，卡片内有一个LC串联谐振电路，其频率与读写器发射的频率相同，在电磁波的激励下，LC谐振电路产生共振，从而使电容内有了电荷，在这个电容的另一端，接有一个单向导通的电子泵，将电容内的电荷送到另一个电容内储存，当所积累的电荷达到2v时，此电容可做为电源为其它电路提供工作电压，将卡内数据发射出去或接取读写器的数据。</p>
<p><a href="#R-image-53aeefb22bc336221c6a0753e001dad1" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8711.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-53aeefb22bc336221c6a0753e001dad1"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8711.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="蓝牙技术">蓝牙技术</h2>
<ol>
<li>蓝牙技术工作在2.4GHz频段，2.4GHz的ISM波段是一种短距离无线传输技术，供开源使用。</li>
</ol>
<p><a href="#R-image-8e377bb1808870387fc1e82db1c4a145" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8712.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8e377bb1808870387fc1e82db1c4a145"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8712.png" alt=" " class="lightbox-image        " loading="lazy"></a>
2. 蓝牙使用<strong>跳频技术</strong>，将传输的数据分割成数据包，通过79个指定的蓝牙频道分别传输数据包。每个频道的频宽为1MHz，蓝牙4.0使用2MHz间距，可容纳40个频道。
3. 蓝牙采用<strong>高速跳频(Frequency Hopping)<strong>和</strong>时分多址(Time Division Multiple Access，TDMA)<strong>等先进技术，支持</strong>点对点</strong>及<strong>点对多点通信</strong>。其传输频段为全球公共通用的2.4 GHz频段，能提供1 Mb/s的传输速率和10 m的传输距离，并采用<strong>时分双工传输</strong>方案实现全双工传输。
4. 在一个微微网中，所有设备的级别是相同的，具有相同的权限。主设备单元负责提供<strong>时钟同步信号</strong>和<strong>跳频序列</strong>，从设备单元一般是<strong>受控同步</strong>的设备单元。</p>
<p>链路管理协议层利用状态机定义了设备的五中状态</p>
<ul>
<li>就绪</li>
<li>扫描</li>
<li>广播</li>
<li>发起</li>
<li>连接</li>
</ul>
<p><a href="#R-image-55331b40f3b9964aa14e378929a276bb" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8713.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-55331b40f3b9964aa14e378929a276bb"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8713.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="wifi技术">WiFi技术</h2>
<ol>
<li>WiFi技术的基本概念
<strong>定义：</strong> 一种可以将个人计算机、手机设备等终端以无线方式互相连接的技术。</li>
<li>WiFi（wireless Fidelity），在无线局域网领域称为“无线相容性认证”，是一种无线网络通信的品牌，有Wi-Fi联盟所持有，目的是为了改善基于IEEE802.11b标准的无线网络产品之间的互通性。</li>
</ol>
<p><a href="#R-image-43842b09132836159466652d1fc342ee" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8717.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-43842b09132836159466652d1fc342ee"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8717.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>WiFi既是一种商业认证，也是一种无线联网技术；</li>
<li>WiFi技术的优点：可移动、实现简单、可靠性强、环保指数高；</li>
</ul>
<h3 id="无线局域网wireless-local-area-networkwlan">无线局域网（Wireless Local Area Network，WLAN）</h3>
<p><strong>无线局域网（WLAN）工作频段</strong></p>
<ul>
<li>按照国家的无线电管理部门规定，WLAN使用2.4GHz和5.8GHz两个频段。这两个频段属于特高频和微博范围，属于微波波段（波长小于一米）
<a href="#R-image-93eb007b1d0f2c92f4ee708d8eceba27" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8718.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-93eb007b1d0f2c92f4ee708d8eceba27"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8718.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
<li><strong>2.4GHz频段信道划分：</strong> <p id="my-target">可用的宽带为83.5MHz，划分13个信道，每个信道宽为22MHz，信道之间有间隔，间隔5MHz。2.4GHz频段信道划分如下图所示：</p>
<a href="#R-image-3814db6cad6d85822062d0d999c23264" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8719.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3814db6cad6d85822062d0d999c23264"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8719.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
<li><strong>5.8GHz频段信道划分：</strong> 在中国大陆，IEEE802.11a使用的是5.98GHz频段，工作频率范围为5725-5875MHz。可用信道为5个，分别为149，153，,157，,161，165，每两个信道之间相差4，信道之间没有间隔。
<a href="#R-image-0dd39a34c53cbdbf0b361b7bb2d4e9b2" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8720.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0dd39a34c53cbdbf0b361b7bb2d4e9b2"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8720.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<ol>
<li>无线局域网（WLAN）的架构</li>
</ol>
<ul>
<li>无线局域网参考模型与OSI七层参考模型如下图：</li>
<li>IEEE802标准遵循ISO/OSI 参考模型的原来规则确定最低两层——物理层与数据链路层的功能，以及与网络层的接口服务、网络互联等有关的高层功能。</li>
</ul>
<p><a href="#R-image-fb1616f2048701a096179fbfcaf20fa0" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8721.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fb1616f2048701a096179fbfcaf20fa0"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8721.png" alt=" " class="lightbox-image        " loading="lazy"></a>
2. 无线局域网（WLAN）的重要协议</p>
<ul>
<li>IEEE最初制定的无线局域网标准主要用于解决 <strong>办公室局域网</strong> 和 <strong>校园网</strong> 中用户以及 <strong>终端的无线接入</strong> 问题，其业务主要限于数据存取，其速率最高只能达到2Mpbs。</li>
<li>由于它在速率和传输距离上都不能满足人们的需要，IEEE小组又相继推出了802.11b、802.11a、802.11g、802.11n、802.11ac等一系列标准。
<a href="#R-image-741d61fd5bab95d8d6898808d1d6171f" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8722.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-741d61fd5bab95d8d6898808d1d6171f"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8722.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>(1) WLAN技术具有以下优势</p>
<ul>
<li>灵活性强，终端设备可以在WLAN网络的覆盖范围内任意放置和低速移动。</li>
<li>部署成本较低，省去了终端设备综合布线的费用。</li>
<li>扩展能力好，增加AP就可以增大容量和覆盖范围。</li>
<li>技术成熟，在国外已经得到广泛的应用。</li>
<li>采用了扩频技术和加密机制，具有较强的抗干扰性和网络保密性，安装简单。</li>
</ul>
<p>(2）帧的种类和用途如下:</p>
<ul>
<li>数据帧:用来传送数据，不含任何数据的空帧也属于数据帧。</li>
<li>控制帧:控制媒体存储的各种帧。</li>
<li>管理帧:与无线网络运作有关的帧，例如无线设备的连接，身份认证等等。</li>
</ul>
<h2 id="esp8266单片机">ESP8266单片机</h2>
<ul>
<li>ESP8266模块的开发语言C语言</li>
<li>ESP8266模块有1个模拟输入管脚</li>
</ul>
<h3 id="常用函数">常用函数</h3>
<ol>
<li>WiFi.begin(ssid,pass)：
<ul>
<li>ssid: 热点的名字</li>
<li>pass：热点的密码</li>
</ul>
</li>
<li>WiFi.mode()：设定wifi的操作模式，其参数值为: WIFl_AP,WIFl_STA,WIFI_AP_STA或者WIFI_OFF
<ul>
<li>WIFI_OFF:关闭WiFi</li>
<li>WIFI_STA:设置成Wi-Fi终端</li>
<li>WIFI_AP:设置成Wi-Fi网络接入点(基站，热点)</li>
<li>WIFI_AP_STA:-设置成Wi-Fi网络接入点以版终端</li>
</ul>
</li>
<li>WIFI.getMode():返回当前的WIFI模式，上述四种模式中的一种。</li>
<li>WIFI.softAP(ssid):创建一个无线局域网热点。这个热点允许其他设备（如手机、电脑等）通过Wi-Fi连接到ESP8266。参数 ssid 是要创建的Wi-Fi热点的名称，是一个字符串类型变量,最多31个字符。</li>
<li>WiFi.softAP(ssid,password,channel,hidden,max_connetion)：设置受密码保护的网络或配置其他网络参数，此功能的第一个参数是必须的，其余四个是可选的；
<ul>
<li>
<p><strong>password</strong> 带有密码的可选字符串。对于WPA2-PSK网络，其长度至少应为8个字符。如果未指定，则接入点将打开，任何人都可以连接（最多63个字符）</p>
</li>
<li>
<p><strong>channel（可选参数）</strong> ：指定SoftAP要使用的Wi-Fi信道。不同的国家和地区有不同的可用信道范围，<a href="#my-target">我国的信道范围规定</a>,选择一个相对空闲的信道有助于提高无线通信质量。</p>
</li>
<li>
<p><strong>hidden（可选参数）</strong> ：如果设为true，表示创建一个<strong>隐藏网络</strong>，即不广播其SSID，这样其他设备不能通过常规方式自动扫描到该热点。用户需要手动输入正确的SSID才能连接。</p>
</li>
<li>
<p><strong>max_connection（可选参数）</strong> ：定义允许同时连接到SoftAP的<strong>最大客户端数量</strong>。超出这个数目的设备将无法再加入此Wi-Fi网络。</p>
</li>
</ul>
</li>
<li><strong>softAPgetStationNum</strong>()：获取连接的soft-AP接口的站点数WiFi.
softAPdisconnect(wifioff)，功能会将当前配置的SSID和soft_AP的密码设置为空值，该参数wifioff是可选的，如果设置为true，将关闭soft-AP模式</li>
<li><strong>WiFi.softAPIP()</strong>: 返回访问点的网络接口的IP地址，返回值是IPAddress类型。</li>
<li><strong>WiFi.softAPmacAddress(mac):</strong> 函数接受一个参数mac，该参数是指向内存位置的指针（一个uint8_t大小为6个元素的数组），以保存mac地址。函数本身返回相同的指针值。</li>
</ol>
<h2 id="station模式">Station模式</h2>
<ul>
<li>首先<strong>AP</strong>发出信标(beacon)帧，意思就是我在这里，谁来连接我啊;</li>
<li><strong>移动工作站</strong> 也会发出探(probe)帧，意思是有谁我可以连接啊。这个是工作站主动发出来的，每隔一定时间发出一次。</li>
</ul>
<p>所以，根据这点，可以产生很多有价值的应用。比如你的带WiFi功能的手机，即使不连接wifi的情况下，只要打开WiFi功能，就可以被路由器截获这帧信息，路由器收集之后，你的信息就会被一个审计的东西发到服务器上，你手机号xxx上线时间xxx下线时间xxx都浏览了那些网页，WiFi建立连接过程都一目了然，你的位置也全都暴露了，这就叫WiFi探针。</p>
<p>具体流程如下所示:</p>
<ol>
<li>
<p>探测请求过程：
STA：设备 &mdash;&mdash;&mdash;&mdash;&gt;Probe Request(探测请求)&mdash;&gt; AP：热点</p>
</li>
<li>
<p>返回应答帧：
STA&lt;&mdash;&mdash;&mdash;&ndash; Probe Response &lt;&mdash;&mdash;&mdash;&ndash; AP，这个是由wifi（热点）返回的应答帧;</p>
<p>接下来是身份验证过程，可以使用诸如 WEP、WEP2、WPA 等加密方式应用到认证请求上;</p>
</li>
<li>
<p>身份验证过程：
STA &mdash;&mdash;&mdash;&mdash;&gt; Authentication Request &mdash;&mdash;&ndash;&gt;AP
认证请求中包含认证 Auth类型，Open System , Shared Key等信息，路由器返回认证结果;</p>
</li>
<li>
<p>连接请求
STA&lt;&mdash;&mdash;&mdash;&mdash; Authentication Response&lt;&mdash;&mdash;&mdash; AP连接请求;
STA&mdash;&mdash;&mdash;&mdash;&gt; Association Request &mdash;&mdash;&mdash;&mdash;&gt;AP请求与AP建立关联，从而可以进行数据交互;认证过连接请求OK返回。</p>
</li>
<li>
<p>数据传输
STA&lt;&mdash;&mdash;&mdash;&mdash;- Association Response&lt;&mdash;&mdash;&mdash;&ndash; AP</p>
</li>
</ol>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi. h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define ssid&#34;ESP8266&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define pssd&#34;123456789”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> stassid<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;doit&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> stapssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;doit3305&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup eode here, to run once :
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//波特率设置为115200
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiPi.<span style="color:#a6e22e">mode</span>(WIFI_AP_STA);<span style="color:#75715e">//设置WIFI操作模式为WIFI_AP_STA,即接入点以及终端
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiPi.<span style="color:#a6e22e">disconnect</span>();<span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiri.<span style="color:#a6e22e">begin</span>(stassid, stagssd);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(WiPi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span>L_COHIEECTED){
</span></span><span style="display:flex;"><span>        delay<span style="color:#f92672">=</span>(<span style="color:#ae81ff">500</span>) ;
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;&#34;</span>.<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    serial .<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;TIFI connect sucess&#34;</span>) ;
</span></span><span style="display:flex;"><span>    serial. <span style="color:#a6e22e">println</span>(WiPi.<span style="color:#a6e22e">localIP</span>());
</span></span><span style="display:flex;"><span>    WiPi.<span style="color:#a6e22e">softAP</span>(ssid,pssd);<span style="color:#75715e">//连接WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    IPAddress ip<span style="color:#f92672">=</span>wiPi.<span style="color:#a6e22e">softAPIP</span>();<span style="color:#75715e">//softAPIP()返回网络接口IP地址，返回值为IPAddress
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    serial . <span style="color:#a6e22e">println</span>(ip)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Serial . <span style="color:#a6e22e">println</span>(wiPi.<span style="color:#a6e22e">softAPmacAddress</span>().<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//put your main code here, to run repeatedly :
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Station conneted to soft-AP = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    ,WiPi.<span style="color:#a6e22e">softAPgetStationJlun</span>());<span style="color:#75715e">//softAPgetStationJlun获取soft-AP接口的站点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    delay<span style="color:#f92672">=</span>(<span style="color:#ae81ff">5000</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="tcpip协议">TCP/IP协议</h2>
<p>TCP/IP不是指特定的某一个协议，而是一个协议族，包含众多的协议。</p>
<p>互联网通信的本质是数字通信，任何数字通信都离不开通信协议的制定，通信设备只有按照约定的、统一的方式去封装和解析信息，才能实现通信。互联网通信所要遵守的众多协议，被统称为<strong>TCP/IP</strong> .</p>
<h3 id="serverd的应用">Serverd的应用</h3>
<p>与之相关的函数：</p>
<ul>
<li>Server ：服务器是所有基于WIFI Server的基类，</li>
<li>Server()函数：创建一个服务器，以侦听指定端口上的连续；
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  <span style="color:#a6e22e">Server</span>(port)
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">参数</span>port:<span style="color:#960050;background-color:#1e0010">侦听的端口（</span>int类型<span style="color:#960050;background-color:#1e0010">）；</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">返回值：无</span></span></span></code></pre></div></li>
</ul>
<p>如下为一个Server应用的代码，代码实现了用开发板连接手机开的热点，然后在手机上输入串口监视器打印的IP，然后可以看见显示 &ldquo;analog input:2&rdquo; 的网页。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span><span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cconst <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LW&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ping123456&#34;</span>;
</span></span><span style="display:flex;"><span>    WiFiServer <span style="color:#a6e22e">server</span>(<span style="color:#ae81ff">80</span>);<span style="color:#75715e">//侦听端口，无返回值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;connetctint tu %s&#34;</span>,ssid);
</span></span><span style="display:flex;"><span>        WiFi.<span style="color:#a6e22e">begin</span>(ssid,pssd);  <span style="color:#75715e">//连接wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span>(WiFi.<span style="color:#a6e22e">status</span>()<span style="color:#f92672">!=</span>WL_CONNECTED)   <span style="color:#75715e">//等待连接wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected&#34;</span>);
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">begin</span>();      <span style="color:#75715e">//侦听服务器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;web server started,open %s in a web browser</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,WiFi.<span style="color:#a6e22e">localIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">prepareHtmlPage</span>()         <span style="color:#75715e">//返回网页浏览器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        String htmlPage<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;HTTP/1.1 200 OK</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>)<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Contect-Type:text/html</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Connerction:close</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>  <span style="color:#75715e">//连接关闭请求
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Refersh:5</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>      <span style="color:#75715e">//5秒刷新一次网页
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;!DOCTYPE HTML&gt;&#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;html&gt;&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;analog input:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">analogRead</span>(A0))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;/html&gt;&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> htmlPage;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        WiFiClient client <span style="color:#f92672">=</span> server.<span style="color:#a6e22e">available</span>();     <span style="color:#75715e">//检测是否有客户端存在
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(client)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[Client connected]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(client.<span style="color:#a6e22e">connected</span>())       <span style="color:#75715e">//判断客户端是否连接成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                String line <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">readStringUntil</span>(<span style="color:#e6db74">&#39;\r&#39;</span>);    <span style="color:#75715e">//每行读取到r结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">//等待服务器的应答
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span>(line.<span style="color:#a6e22e">length</span>()<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&amp;&amp;</span>line[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    client.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">prepareHtmlPage</span>());
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="tcpclient函数">TCPClient函数</h3>
<ol>
<li>
<p>相关函数介绍</p>
<hr>
<pre><code> connect()描述：
 连接到构造函数中指定的IP地址和端口。返回值指示成功或失败。使用域名( ex:google.com）时，connect()还支持DNS查找。
 句法:
 - client.connect(ip,port)
 - client.connect(URL,port)参数
 ip: 客户端将连接的ip地址（4个字节的数组)
 URL: 客户端将连接到的域名（字符串，例如: &quot;arduino.cc&quot;）
 Port: 客户端将连接到的端口（ int）
 返回值：如果连接成功，则返回 true;
                 否则，返回false
</code></pre>
<hr>
<hr>
<pre><code> print()描述：
 将数据打印到客户端连接到服务器。将数字打印为数字序列，每个数字为一个ASCI字符句法:
 client.print(data)
 client.print(data,BASE)参数
 data:要打印的数据（char,byte,int,long或string）
 BASE（可选）:打印数字的基数:DEC代表十进制（基数10），
                             OCT代表八进制（基数8），
                             HEX代表十六进制（基数16&gt;
</code></pre>
<hr>
</li>
<li>
<p><strong>客户端访问服务器流程</strong></p>
</li>
</ol>
<ul>
<li>连接到Wi-Fi</li>
<li>选择服务器</li>
<li>实例化客户端WiFiClient client;</li>
<li>把客户端连接到服务器</li>
<li>请求数据</li>
<li>读取来自服务器的回复
实现代码如下：</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LW&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ping123456&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> host <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;www.baidu.com&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;connecting to %s &#34;</span>,ssid);
</span></span><span style="display:flex;"><span>        WiFi.<span style="color:#a6e22e">begin</span>(ssid,pssd);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(WiFi.<span style="color:#a6e22e">status</span>()<span style="color:#f92672">!=</span>WL_CONNECTED)       <span style="color:#75715e">//等待WIFI连接成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">/*  String host=&#34;&#34;; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        while(Serial.available()&gt;0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            host += (char)Serial.read();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            delay(2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//char host[30];
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//     for(int i=0;i&lt;30;i++)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//     {  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//          host[i]=&#39;\0&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      while(Serial.available()&gt;0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//    {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//        host += (char)Serial.read();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//        delay(2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        WiFiClient client;
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[connecting to %s ...&#34;</span>,host);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(client.<span style="color:#a6e22e">connect</span>(host,<span style="color:#ae81ff">80</span>))      <span style="color:#75715e">//连接服务器成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//访问google.cn的报头，采用GET方式，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[Sending a request]&#34;</span>);
</span></span><span style="display:flex;"><span>            client.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;GET/&#34;</span>)<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;HTTP/1.1</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;Host:&#34;</span><span style="color:#f92672">+</span>host<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;Connection: close</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>                            );
</span></span><span style="display:flex;"><span>                            
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[Response:]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(client.<span style="color:#a6e22e">connected</span>()<span style="color:#f92672">||</span>client.<span style="color:#a6e22e">available</span>())       <span style="color:#75715e">//等待如果客户端已经连接，并且有数据到来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>(client.<span style="color:#a6e22e">available</span>())
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        String line <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">readStringUntil</span>(<span style="color:#e6db74">&#39;\n&#39;</span>);    <span style="color:#75715e">//从缓存区读取服务器的数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Serial.<span style="color:#a6e22e">println</span>(line);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                client.<span style="color:#a6e22e">stop</span>();              <span style="color:#75715e">//停止客户端
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[Disconnected]&#34;</span>);       
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connection failed !&#34;</span>);
</span></span><span style="display:flex;"><span>            client.<span style="color:#a6e22e">stop</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">5000</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="http协议简介">HTTP协议简介</h3>
<p>当使用浏览器(客户端)访问一个网页时,大致经过了以下三步:</p>
<ul>
<li>用户输入网址后,浏览器(客户端)会向服务器 <strong>发出HTTP请求</strong> ;</li>
<li>服务器收到请求后会返回HTML形式的文本以响应请求;</li>
<li>浏览器收到服务器返回的HTML文本后,将文本转换为网页显示出来。</li>
</ul>
<ol>
<li>
<p>HTTP请求
当客户端访问网页时,会先发起HTTP请求。HTTP请求由三部分组成,分别是 <strong>请求行</strong>、<strong>请求报头</strong> 和 <strong>请求正文</strong>。</p>
</li>
<li>
<p>HTTP响应
服务器在接收到HTTP请求消息后,会返回一个响应消息。HTTP响应也是由三个部分组成,分别是状态行、响应报头和响应正文。</p>
</li>
</ol>
<h2 id="udp协议">UDP协议</h2>
<p>用户数据报UDP有两个字段:数据字段和首部字段。首部字段很简单，只有8个字节(图5-5)，由四个字段组成，每个字段的长度都是两个字节。各字段意义如下:</p>
<p>(1)源端口
源端口号。在需要对方回信时选用。不需要时可用全0。
(2)目的端口
目的端口号。这在终点交付报文时必须使用。
(3）长度
UDP用户数据报的长度，其最小值是8（仅有首部)。
(4)检验和
检测UDP用户数据报在传输中是否有错。有错就丢弃。</p>
<p>程序流程：</p>
<ul>
<li>设置ESP8266工作在station模式（ WiFi.mode(WIFI_STA)) ;②将ESP8266接入到wIFI网络中WiFi.begin(SSID,PSSD);</li>
<li>实例化WiFiUDP对象指定端口，建立UDP连接，连接后自动开始侦听传入的数据包。
WiFiUDP Udp; Udp.begin(localUdpPort);</li>
<li>等待输入的UDP包处理收到的数据并回复。
<ul>
<li>Udp.parsePacket ( ) ;</li>
<li>Udp.read(incomingPacket,255);</li>
<li>Udp.beginPacket(Udp.remotelP(), Udp.remotePort());</li>
<li>Udp.write(replyPacket);</li>
<li>Udp.endPacket();</li>
</ul>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    1、设置ESP8266工作在station模式（WiFi.mode(WIFI_STA)）;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    2、将ESP8266接入到WIFI网络中WiFi.begin(SSID,PSSD);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    3、实例化WiFiUDP对象指定端口，建立UDP连接，连接后自动开始侦听传入的数据包。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    WiFiUDP Udp; Udp.begin(localUdpPort);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    4、等待输入的UDP包处理收到的数据并回复。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.parsePacket（）;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.read(incomingPacket, 255);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.beginPacket(Udp.remoteIP(), Udp.remotePort());
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.write(replyPacket);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.endPacket(); 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;WiFiUdp.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;iPhone&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;peng2020&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    WiFiUDP Udp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> localUdpPort <span style="color:#f92672">=</span> <span style="color:#ae81ff">4210</span>;  <span style="color:#75715e">// local port to listen on
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> incomingPacket[<span style="color:#ae81ff">255</span>];  <span style="color:#75715e">// buffer for incoming packets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span>  replyPacket[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hi there! Got the message :-)&#34;</span>;  <span style="color:#75715e">// a reply string to send back
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Connecting to %s &#34;</span>, ssid);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">mode</span>(WIFI_STA);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">begin</span>(ssid, password);            <span style="color:#75715e">//开始连接WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (WiFi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span> WL_CONNECTED)    <span style="color:#75715e">//等待连接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34; connected&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Udp.<span style="color:#a6e22e">begin</span>(localUdpPort);      <span style="color:#75715e">//指定本地连接端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Now listening at IP %s, UDP port %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, WiFi.<span style="color:#a6e22e">localIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>(), localUdpPort);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> packetSize <span style="color:#f92672">=</span> Udp.<span style="color:#a6e22e">parsePacket</span>(); <span style="color:#75715e">//调用函数解析数据包
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (packetSize)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// receive incoming UDP packets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Received %d bytes from %s, port %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, packetSize, Udp.<span style="color:#a6e22e">remoteIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>(), Udp.<span style="color:#a6e22e">remotePort</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> Udp.<span style="color:#a6e22e">read</span>(incomingPacket, <span style="color:#ae81ff">255</span>);     <span style="color:#75715e">//从缓存区读取数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (len <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        incomingPacket[len] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;    <span style="color:#75715e">//给缓存区加结束符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;UDP packet contents: %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, incomingPacket);   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// send back a reply, to the IP address and port we got the packet from
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Udp.<span style="color:#a6e22e">beginPacket</span>(Udp.<span style="color:#a6e22e">remoteIP</span>(), Udp.<span style="color:#a6e22e">remotePort</span>());     <span style="color:#75715e">//指定远程连接地址和端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Udp.<span style="color:#a6e22e">write</span>(replyPacket);
</span></span><span style="display:flex;"><span>        Udp.<span style="color:#a6e22e">endPacket</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="http与mqtt协议对比">HTTP与MQTT协议对比</h2>
<p><a href="#R-image-e2a70901e4a99806376038685cae8089" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8723.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e2a70901e4a99806376038685cae8089"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8723.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-8c78ab72815b9bbc9d882bb9b3ca3e1c" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8724.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c78ab72815b9bbc9d882bb9b3ca3e1c"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8724.png" alt=" " class="lightbox-image        " loading="lazy"></a>
不同于HTTP的标头采用文字描述，MQTT的标头探用数字编码，整个长度只占2位元组，等同两个字元，后面跟著讯息的主题(topic)和内容(payload)，实际格式如下:</p>
<p><a href="#R-image-adbe94ff5f3b7ee8e2abaeeaf5694b33" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8725.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-adbe94ff5f3b7ee8e2abaeeaf5694b33"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8725.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-0ad0910a853b6025d37cf8cb0b98b9c1" class="lightbox-link"><img src="%e5%9b%be%e7%89%8726.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0ad0910a853b6025d37cf8cb0b98b9c1"><img src="%e5%9b%be%e7%89%8726.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-7faad4cb9bfd634647257bdf6764c088" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8727.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7faad4cb9bfd634647257bdf6764c088"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8727.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-1a32ee40671eaad6fc85db9650ae75bc" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8728.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1a32ee40671eaad6fc85db9650ae75bc"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8728.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>QoS(品质)设定
QoS代表发布者与代理人，或者代理人与订阅者之间的传输品质。MQTT定义了0,1和2三个层级的品质设定（实际支援情况依伺服器软体而定，Mosquitto伺服器全都支援)∶0:最多传送一次(at most once)
1:至少传送一次(at least once)2:确实传送一次(exactly once)
用寄信来比喻，QoS0就像寄平信，不保证讯息会送达。</p>
<p>阿里云平台
物联网云平台：接收设备上报的数据、向设备下发数据、对数据进行转发/分析/计算/显示、管理设备&hellip;
<a href="#R-image-5bed91e64f31f617e763b1173b109267" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8729.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5bed91e64f31f617e763b1173b109267"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8729.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;//安装esp8266arduino开发环境</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">static</span> WiFiClient espClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;AliyunIoTSDK.h&gt;//引入阿里云 IoT SDK</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//需要安装crypto库、PubSubClient库
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//设置产品和设备的信息，从阿里云设备信息里查看
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define PRODUCT_KEY     &#34;k0mzriwvgtZ&#34;</span><span style="color:#75715e">//替换自己的PRODUCT_KEY
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define DEVICE_NAME     &#34;LED2&#34;</span><span style="color:#75715e">//替换自己的DEVICE_NAME
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define DEVICE_SECRET   &#34;674c24074d05a31a672094c0d23dc07c&#34;</span><span style="color:#75715e">//替换自己的DEVICE_SECRET
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define REGION_ID       &#34;cn-shanghai&#34;</span><span style="color:#75715e">//默认cn-shanghai
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define WIFI_SSID       &#34;LW&#34;</span><span style="color:#75715e">//替换自己的WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define WIFI_PASSWD     &#34;ping123456&#34;</span><span style="color:#75715e">//替换自己的WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define PIN_LED   2      </span><span style="color:#75715e">//LED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> lastMsMain <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//pinMode(LED_BUILTIN, OUTPUT);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// digitalWrite(LED_BUILTIN, HIGH);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pinMode</span>(PIN_LED, OUTPUT);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, HIGH);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//连接到wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">wifiInit</span>(WIFI_SSID, WIFI_PASSWD);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//初始化 iot，需传入 wifi 的 client，和设备产品信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">begin</span>(espClient, PRODUCT_KEY, DEVICE_NAME, DEVICE_SECRET, REGION_ID);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//绑定一个设备属性回调，当远程修改此属性，会触发LED函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">bindData</span>(<span style="color:#e6db74">&#34;LED2&#34;</span>, LED);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">loop</span>();<span style="color:#75715e">//必要函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">millis</span>() <span style="color:#f92672">-</span> lastMsMain <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2000</span>)<span style="color:#75715e">//每2秒发送一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        lastMsMain <span style="color:#f92672">=</span> <span style="color:#a6e22e">millis</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//发送LED状态到云平台（高电平：1；低电平：0）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;LED2PIN&#34;</span>, <span style="color:#a6e22e">digitalRead</span>(PIN_LED));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//wifi 连接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">wifiInit</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ssid, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>passphrase)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">mode</span>(WIFI_STA);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">begin</span>(ssid, passphrase);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (WiFi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span> WL_CONNECTED)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;WiFi not Connect&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Connected to AP&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//灯的属性修改的回调函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">LED</span>(JsonVariant L)<span style="color:#75715e">//固定格式，修改参数l
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> LED <span style="color:#f92672">=</span> L[<span style="color:#e6db74">&#34;LED2&#34;</span>];<span style="color:#75715e">//参数l，与标识符一致
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (LED <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, HIGH);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, LOW);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;收到的LED是：&#34;</span>); Serial.<span style="color:#a6e22e">println</span>(LED);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 5</div>
<h1 id="5cc2530_zigbee">5.CC2530_ZigBee</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/5.cc2530_zigbee/experiment2/">实验2 IO端口输出实验</a><p>实验2 IO端口输出实验 1、实验要求： 利用实验箱的基础板，实现八盏灯的点亮，下面是八盏灯的位置图： 在实际中我们可能没有实验箱，往往需要自己做一</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">5.CC2530_ZigBee 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%A1%AC%E4%BB%B6/">硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="实验2-io端口输出实验">实验2 IO端口输出实验</h1>

<h3 id="实验2-io端口输出实验">实验2 IO端口输出实验</h3>
<p><strong>1、实验要求：</strong>
利用实验箱的基础板，实现八盏灯的点亮，下面是八盏灯的位置图：
<a href="#R-image-f498fbe84ceba26411716d1d42ebff8c" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%9F%BA%E7%A1%80%E6%9D%BF.JPG" alt="八盏灯" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f498fbe84ceba26411716d1d42ebff8c"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%9F%BA%E7%A1%80%E6%9D%BF.JPG" alt="八盏灯" class="lightbox-image        " loading="lazy"></a>
在实际中我们可能没有实验箱，往往需要自己做一个八盏灯的板子，这个时候了解本次实验挤出实验板的八盏灯连接原理是很重要的，了解原理后你就可以自己做出自己的LED板子，并用<strong>cc2530</strong>控制它。</p>
<p><strong>2、LED灯驱动芯片</strong>
由于CC2530 单片机端口驱动能力有限，所以我们可以用<strong>ULN2003</strong>芯片做驱动，但使用uln2003需要使用到八个端口，为了不浪费端口，我们可以使用<strong>74HC595</strong>，该芯片只需要用到三个端口就可以控制八盏灯的亮灭，下面提供两块芯片的原理图：
<a href="#R-image-fd1c27d1dab15c67f78ab6f752fb00a1" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%8E%9F%E7%90%86%E5%9B%BE.JPG" alt="原理图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fd1c27d1dab15c67f78ab6f752fb00a1"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%8E%9F%E7%90%86%E5%9B%BE.JPG" alt="原理图" class="lightbox-image        " loading="lazy"></a>
如果你想用<strong>ULN2003</strong>还请查看相关手册，此处对<strong>74HC595</strong>进行详细说明。
74HC595 是 8 位输出锁存移位寄存器，数据输入由三个引脚组合控制，分别是数据输入引脚 SER、数据输入控制引脚 SRCK 和数据输出锁存引脚 RCK
SER 引脚上的数据在 SRCK 引脚的上升沿信号保存到 QA 引脚，同时 QA 位上的数据移位到 QB位，QB 位的数据移位到 QC 位……，依次类推，所有数据向后串行移动一位，QH 位的数据被送到QH’位。所有位的数据在 RCK 引脚的上升沿信号被所存到输出端。
<a href="#R-image-08db93476277618bdcb71bff69f9cfb8" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/74hc595.jpg" alt="74HC595" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-08db93476277618bdcb71bff69f9cfb8"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/74hc595.jpg" alt="74HC595" class="lightbox-image        " loading="lazy"></a>
一下是我的个人理解：
这里我们用输入数据<strong>1001 0101</strong>，使第1、3、5、8盏灯亮（假设高电平有效）为例解释说明，首先，实际上数据输入74HC595是串行输入，所以可以数据输入时是在打开SER端口后，按照从高位到低位依次输入数据<strong>1001 0101</strong>，如上图的下面所示；接着打开SRCK，先把最高位1输入数据寄存器低位b0，接着输入次高位的0,通过0把1挤到b1，以此类推；接着再打开RCK显示灯的亮灭。</p>
<p><strong>3、IO端口输出控制</strong>
要使用CC2530的IO端口，我们需要对<strong>PxDIR</strong>、<strong>PxSEL</strong>、<strong>Px</strong>进行设置，PxDIR用来控制端口的输入输出模式，<strong>1</strong>表示<strong>输出模式</strong>，SEL为<strong>0</strong>时，表示<strong>通用IO端口</strong>，详细参照下表：
<a href="#R-image-9b3ecb1a4871ac12a52c881b650e05c6" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/IO%E8%A1%A8.png" alt="IO" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9b3ecb1a4871ac12a52c881b650e05c6"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/IO%E8%A1%A8.png" alt="IO" class="lightbox-image        " loading="lazy"></a>
而这里的x可以取0、1、2，其实就是端口P0、P1、P2的意思,在端口下设8个端口0~7，例如P0_1,但是端口2只有0~4可用;</p>
<p>下面是一个详细的例子：
当I/OP1_0~P1_7 各I/O端口输出高低电平时，设置方法如表 1.2所示：
<a href="#R-image-a24b9f18143e5ebb53663f7fe8f73847" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E4%BE%8B%E5%AD%90.jpg" alt="例子" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a24b9f18143e5ebb53663f7fe8f73847"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E4%BE%8B%E5%AD%90.jpg" alt="例子" class="lightbox-image        " loading="lazy"></a></p>
<p>了解以上知识后我们就可以写工程代码了。</p>
<p>
<div class="tab-panel" data-tab-group="a32152de9a16d07598f3a63e6f069d25">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="printfledhfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('a32152de9a16d07598f3a63e6f069d25','printfledhfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> PrintfLED.h</span>
    </button>
    <button
      data-tab-item="delayehfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('a32152de9a16d07598f3a63e6f069d25','delayehfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Delaye.h</span>
    </button>
    <button
      data-tab-item="initialhfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('a32152de9a16d07598f3a63e6f069d25','initialhfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Initial.h</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('a32152de9a16d07598f3a63e6f069d25','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="printfledhfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//led输出设置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;PrintfLED.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define SER  P1_0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define SRCK P1_2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define RCK P1_1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define LOW 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define HIGE 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printfLED</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> data,<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> byte){
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span> LOW;
</span></span><span style="display:flex;"><span>        RCK <span style="color:#f92672">=</span> LOW;
</span></span><span style="display:flex;"><span>        P1 <span style="color:#f92672">=</span> byte;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//定义参考位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> getbit <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x80</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(data <span style="color:#f92672">&amp;</span> getbit){
</span></span><span style="display:flex;"><span>        SER<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>        SER<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span> HIGE;
</span></span><span style="display:flex;"><span>        getbit <span style="color:#f92672">&gt;&gt;=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span>LOW;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        RCK <span style="color:#f92672">=</span> HIGE;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="delayehfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e"># include &#34;Delaye.h&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//延迟函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delaye</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> i,j,k;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">200</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">255</span>;k<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                    ;
</span></span><span style="display:flex;"><span>        }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="initialhfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Initial.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//初始化函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">initial</span>(){
</span></span><span style="display:flex;"><span>    P1SEL <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x00</span>;
</span></span><span style="display:flex;"><span>    P1DIR <span style="color:#f92672">=</span> <span style="color:#ae81ff">0xFF</span>;
</span></span><span style="display:flex;"><span>    P1<span style="color:#f92672">=</span><span style="color:#ae81ff">0x00</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;ioCC2530.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Initial.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Delaye.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;PrintfLED.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define Byte5 0x80
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x01</span>,<span style="color:#ae81ff">0x02</span>,<span style="color:#ae81ff">0x04</span>,<span style="color:#ae81ff">0x08</span>,<span style="color:#ae81ff">0x10</span>,<span style="color:#ae81ff">0x20</span>,<span style="color:#ae81ff">0x40</span>,<span style="color:#ae81ff">0x80</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn1[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x01</span>,<span style="color:#ae81ff">0x03</span>,<span style="color:#ae81ff">0x07</span>,<span style="color:#ae81ff">0x0f</span>,<span style="color:#ae81ff">0x1f</span>,<span style="color:#ae81ff">0x3f</span>,<span style="color:#ae81ff">0x7f</span>,<span style="color:#ae81ff">0xff</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn2[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x81</span>,<span style="color:#ae81ff">0xc3</span>,<span style="color:#ae81ff">0xe7</span>,<span style="color:#ae81ff">0xff</span>,<span style="color:#ae81ff">0xe7</span>,<span style="color:#ae81ff">0xc3</span>,<span style="color:#ae81ff">0x81</span>,<span style="color:#ae81ff">0x00</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">initial</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//1.发光二极管的循环点亮
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printfLED</span>(<span style="color:#ae81ff">0x00</span>,Byte5);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delayed</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//2.流水灯正向流动随后反向流动
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn1[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span><span style="color:#f92672">&amp;</span> i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">--</span>){ 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn1[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//3.流水灯两端逐步点亮，然后从中间向两边逐步熄灭  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>){ 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn2[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
  </div>
</div>
在使用时请建好一个外设文件专门放Initial.c、Initial.c、Delaye.c，然后在这些问阿金中引用与他们名字一样的.h文件，当然.h文件你自己也要先写好。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/c1-cc2530/">C1-CC2530</a></li>
    <li><a class="term-link" href="./categories/d1-%E7%82%B9%E7%81%AF%E5%AE%9E%E9%AA%8C/">D1-点灯实验</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 6</div>
<h1 id="6arduino">6.Arduino</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">物联网控制-小知识</a><p>物联网的特点 物联网是互联网的拓展和延伸，物联网设备通常为带传感器的电子硬件，并与网络相连接。 物联网的应用层是核心。 物联网的作用 全面感知：全面</p></li>
</ul>
<p><a href="#R-image-9ae06e3b05af929efd28596dea2ccf54" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/abc.jpg" alt="mmm" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9ae06e3b05af929efd28596dea2ccf54"><img src="./branch-bundle-1/6.arduino/abc.jpg" alt="mmm" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">6.Arduino 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">物联网工程</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网控制-小知识">物联网控制-小知识</h1>

<h2 id="物联网的特点">物联网的特点</h2>
<ol>
<li>物联网是互联网的拓展和延伸，物联网设备通常为带传感器的电子硬件，并与网络相连接。</li>
<li>物联网的应用层是核心。</li>
</ol>
<h2 id="物联网的作用">物联网的作用</h2>
<ol>
<li>全面感知：全面感知就是通过各种类型的传感器实时感知被测物理对象的状态。</li>
<li>可靠传递：可靠传递就是通过各种网络与互联网的融合，将物体的信息实时准确地传递出去。</li>
<li>智能计算：智能处理就是利用云计算、模糊识别等各种智能计算技术，对海量的数据和信息分析和处理，以实现对物体智能化控制。</li>
</ol>
<h2 id="物联网体系架构">物联网体系架构</h2>
<p><a href="#R-image-c9c70a6a7139dcbb63ccbe5d393b65da" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%871.png" alt="d" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c9c70a6a7139dcbb63ccbe5d393b65da"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%871.png" alt="d" class="lightbox-image        " loading="lazy"></a></p>
<p>ISO七层参考模型
以及每一层的功能。</p>
<p>物理层：在物理媒体上传输原始的数据比特流。
数据链路层：将数据分成一个个数据帧，以数据帧为单位传输。有应有答，遇错重发。
网络层：将数据分成一定长度的分组，将分组穿过通信子网，从信源选择路径后传到信宿。
传输层：提供不具体网络的高效、经济、透明的端到端数据传输服务。
会话层：进程间的对话也称为会话，会话层管理不同主机上各进程间的对话。
表示层： 为应用层进程提供格式化的表示和转换数据服务。
应用层：提供应用程序访问OSI环境的手段。
<a href="#R-image-a63950aba70a961abd61aa6accf88fb7" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8718.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a63950aba70a961abd61aa6accf88fb7"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8718.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="物联网的三层结构">物联网的三层结构</h2>
<p><a href="#R-image-0696475c4ea7acb8f3af197924d416a7" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8713.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0696475c4ea7acb8f3af197924d416a7"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8713.png" alt=" " class="lightbox-image        " loading="lazy"></a>
“云”、“管”、“端”分别指：应用层、网络层、感知层。
物联网服务器的主要功能接收数据、处理数据、保存数据。
物联网硬件设备有感知和反馈的作用</p>
<ol start="4">
<li>可用于物联网短距离无线通信的技术主要有：</li>
</ol>
<ul>
<li>Zigbee；</li>
<li>RFID；</li>
<li>NFC ;</li>
<li>蓝牙。</li>
</ul>
<ol start="5">
<li>物联网近距离通信技术有：</li>
</ol>
<ul>
<li>蓝牙、</li>
<li>RFID、</li>
<li>ZigBee</li>
</ul>
<ol start="6">
<li>
<p>工业物联网设备的组网方式可分为RS-232；RS-485；USB。</p>
<ol>
<li><strong>RS-232</strong>：</li>
</ol>
<ul>
<li>RS-232是一种早期广泛应用于串行通信的标准，提供点对点的数据传输，通常用于短距离通信（约15米以内）。</li>
<li>信号电平范围较大（±15V左右），支持全双工通信，即数据可以在两个方向上同时传输。</li>
<li>在工业环境中，RS-232常用于配置设备、调试或连接单个设备到计算机或其他控制器。</li>
</ul>
<ol start="2">
<li><strong>RS-485</strong>：</li>
</ol>
<ul>
<li>RS-485基于差分信号传输，允许更长的传输距离（可达几千米），并且具有更好的抗噪声和电磁干扰能力。</li>
<li>它支持多点总线式网络架构，可以实现一个主设备与多个从设备之间的通信，因此特别适用于构建分布式控制系统或传感器网络。</li>
<li>RS-485采用半双工通信模式，在同一时间只能进行发送或接收操作，但通过软件协议控制可以实现在同一总线上多个节点有序通信。</li>
</ul>
<ol start="3">
<li><strong>USB（Universal Serial Bus）</strong>：</li>
</ol>
<ul>
<li>USB是一种通用串行总线标准，它提供高速数据传输，并且能够为设备供电，使得它在现代工业自动化和物联网应用中越来越普遍。</li>
<li>USB支持热插拔，使用方便，而且有多种速度版本（如USB 2.0, USB 3.0等），数据传输速率远高于RS-232和RS-485。</li>
<li>在工业环境中，USB接口可能用于快速配置设备、固件升级或者连接各种智能设备，但它不适合长距离传输，一般局限于设备间较近距离的直接连接。</li>
</ul>
</li>
<li>
<p>物联网<strong>M2M通信</strong>指的是机器与机器通信</p>
</li>
<li>
<p>蓝牙采用<strong>高速跳频(Frequency Hopping)<strong>和</strong>时分多址(Time Division Multiple Access，TDMA)<strong>等先进技术，支持</strong>点对点</strong>及<strong>点对多点通信</strong>。其传输频段为全球公共通用的2.4 GHz频段，能提供1 Mb/s的传输速率和10 m的传输距离，并采用<strong>时分双工传输</strong>方案实现全双工传输。</p>
</li>
<li>
<p>Android客户端在物联网体系中属于应用程序层。</p>
</li>
<li>
<p>人工智能属于物联网体系中的服务层。</p>
</li>
<li>
<p><strong>NFC</strong> 是一种非接触式的识别技术。</p>
</li>
</ol>
<h2 id="开关量与传感器">开关量与传感器</h2>
<ol>
<li>
<p><strong>开关量与数字信号</strong>
数字信号指的是0和1两种信号的变化。传感器可以只使用0和1来表示自己的状态变化，也就是“有信号”和“没信号”两种情况，类似我们生活中的开关装置。</p>
</li>
<li>
<p><strong>模拟信号抗噪算法</strong></p>
<p>2.1 <strong>算术平均算法</strong></p>
<p><strong>方法</strong>: 采样N个数据后进行平均</p>
<p><strong>优点</strong>: 算法简单、适合于一般带有不规则噪声的信号</p>
<p><strong>缺点</strong>: 用来运算的数值会越来越多，相对反应会越慢，不适用于实时性的控制，另外占用内存也多</p>
<p>2.2 <strong>移动平均算法</strong></p>
<p><strong>方法</strong>: 先将每一个新数据加入队列中并删除最后一个，再进行平均</p>
<p><strong>优点</strong>:算法简单、适用于有周期性干扰噪声的信号</p>
<p><strong>缺点</strong>:对于突然出现的异常脉冲信号的抑制较差，采样的数量过大时同样占用内存。</p>
</li>
<li>
<p>模数转换
把传感器获取的测量值用连续的电子信号表示出来，就是模拟信号。想用PC处理模拟信号，就需要进行模拟/数字(A/D）转换，把模拟信号转换成离散值，即数字信号。A/D转换操作分成以下3个步骤。</p>
</li>
</ol>
<ul>
<li>采样(sampling) =&gt;用某个频率来区分模拟输入信号，获取值</li>
<li>量化=&gt;把采样后的值近似表现为离散值</li>
<li>编码(coding)=&gt;把量化后的数值编码成二进制代码。如下图</li>
</ul>
<p><a href="#R-image-498ffdc1d800ee555ecd810be3e7d7be" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/12.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-498ffdc1d800ee555ecd810be3e7d7be"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/12.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="传感器知识点">传感器知识点</h2>
<p>在物联网节点之间做通信的时候，通信频率越高，意味着传输距离越近。</p>
<h3 id="传感器的性能指标">传感器的性能指标：</h3>
<ol>
<li>
<p>传感器动态特性：指传感器在输入变化时，它的输出特性，常以迁跃响应和频率响应来表示。</p>
</li>
<li>
<p>传感器的线性度：传感器的实际静态特性输出是条曲线而非直线。</p>
</li>
<li>
<p>传感器的灵敏度：传感器在静态工作情况下，输出变量变化y对输入变化量x的比值。</p>
</li>
<li>
<p>传感器的分辨率：指传感器能感受到的被测量的最小变化的能力，也就是说某一输入量缓慢变化，当输入未超过某一值时，输出不变，超过了就有变化，则可以说此时传感器能分辨出来，这就是传感器的分辨率。</p>
</li>
</ol>
<h3 id="传感器的组成与结构">传感器的组成与结构</h3>
<p>传感器一般由敏感元件、转换元件、基本转换电路组成。
<a href="#R-image-043ff7ed23be9bebadc81bcb9a4417c1" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%872.png" alt="d" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-043ff7ed23be9bebadc81bcb9a4417c1"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%872.png" alt="d" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>敏感元件：直接感受被测量，并且输出与被测量成一定关系的某一物理量的元件；</li>
<li>转换元件：敏感元件的输出就是它的输入，把输入转换成电路参量；</li>
<li>转换电路：将转换电路的输出转换成电量输出；</li>
</ul>
<h3 id="传感器的静态特性">传感器的静态特性</h3>
<p>静态特性是指测试系统在静态信号下，输入与输出的关系；
衡量测试装置静态特性的重要指标：</p>
<ul>
<li>线性度(Linearity)</li>
<li>灵敏度(Sensitivity)</li>
<li>迟  滞(Hysteresis)</li>
<li>重复性(Repeatability)</li>
</ul>
<h3 id="常见的传感器">常见的传感器</h3>
<h4 id="光电式传感器光敏电阻传感器">光电式传感器（光敏电阻传感器）</h4>
<p>如果把光敏电阻连接到外电路中，在外电压的作用下，用光照射就能改变电路中电流的大小。
如下图为工作原理图
<a href="#R-image-20cfdd2c03b8ef73ab4dd9ee3d9398c9" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%873.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-20cfdd2c03b8ef73ab4dd9ee3d9398c9"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%873.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h4 id="光敏电阻的重要参数与基本特性">光敏电阻的重要参数与基本特性</h4>
<p><strong>暗电流、暗电阻与亮电流、亮电阻：</strong></p>
<p>光敏电阻在未受到光照时的电阻和流过的电流分别称之为暗电阻和暗电流，有光照时则对应称之为亮电流、亮电阻；</p>
<p><strong>光电流</strong>
亮电流与暗电流的差值；</p>
<h4 id="结露传感器">结露传感器</h4>
<ol>
<li>
<p>理想的干燥空气：78%氮气+21%氧气+1%其他气体</p>
</li>
<li>
<p>多尔顿分压定律：空气的压强P应该等于该混合物中各种气体分压之和,公示如下：
<a href="#R-image-d44891a1a174acf1b5d237b2e2728602" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%874.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d44891a1a174acf1b5d237b2e2728602"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%874.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>什么是湿度？
空气中所含的水蒸气的量</p>
</li>
<li>
<p>湿度的表示方法：</p>
</li>
</ol>
<ul>
<li>绝对温度</li>
<li>相对温度</li>
<li>露点温度</li>
</ul>
<ol>
<li><strong>露点温度</strong>(露点)：在一定的空气压力下，逐渐降低空气的温度，当空气中所含水蒸气达到饱和状态，而开始结露或结霜时的温度。</li>
</ol>
<h4 id="震动传感器">震动传感器：</h4>
<p>震动三要素：振幅、频率、相位
以简谐运动为例：
x=A cos(wt+y)</p>
<h4 id="红外对管红外传感器">红外对管（红外传感器）</h4>
<p>红外对管中，黑色管子是红外发射传感器。</p>
<h4 id="智慧大棚中的常用传感器">智慧大棚中的常用传感器：</h4>
<p>（1）空气温湿度传感器
（2）光照传感器
（3）土壤湿度传感器
（4）风速传感器
（5）二氧化碳传感器
<a href="#R-image-0b62e7baa95aa8139fe08b14a0a58fbd" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8719.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0b62e7baa95aa8139fe08b14a0a58fbd"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8719.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>数据分析的基础架构</p>
<p>首先把数据分析的基础架构分为 4 项来看，这 4 项分别是采集、积累、加工、分析。
<a href="#R-image-1ffbe911a8515e3aa8bcdfd4bd0d9ba2" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8720.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1ffbe911a8515e3aa8bcdfd4bd0d9ba2"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8720.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-eced8148c2d75d76c645132e7c4c14ce" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8721.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-eced8148c2d75d76c645132e7c4c14ce"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8721.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-486428055cb044b543a295ad1ab9b290" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8722.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-486428055cb044b543a295ad1ab9b290"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8722.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol>
<li>高级分析的基础</li>
</ol>
<p>机器学习可以说是高级分析的典型代表。机器学习领域汇集了众多技术，这些技术用于让计算机基于大量数据来学习数据的倾向并作出某些判断。机器学习的算法可以根据输入的数据类型分为“监督学习”和“非监督学习”两种。</p>
<p>监督学习和非监督学习</p>
<ul>
<li>监督学习：当用机器学习的算法让计算机学习数据倾向时，算法会根据用于学习的数据中是否含有“正确答案”的数据而有所不同。
打个比方，假设现在要从传感器数据来判断分析设备的故障情况和建筑物的损坏情况等异常状况。如果采用监督学习的算法，就需要输入过去实际发生异常状况时的数据，即需要明确地输入“异常”的数据。说白了，算法要学习“正确答案”和“不正确答案”之间存在的差异。</li>
<li>非监督学习：监督学习则处理的是未标记的数据集，即数据集中没有预先定义的输出变量或目标变量。
非监督学习的目标在于发现数据内部的隐藏结构、模式、相似性或关联性，而不是预测特定的结果。非监督学习的主要主要任务有以下几种：
<a href="#R-image-5929d9fdea315b659989753b64f4334b" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8723.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5929d9fdea315b659989753b64f4334b"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8723.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h2 id="android-ide-介绍">Android IDE 介绍</h2>
<hr>
<ul>
<li>
<p>Android客户端在物联网体系中属于 <strong>应用程序层</strong> 。</p>
</li>
<li>
<p>Arduino是2005年被设计开发出来的，开发平台的特点有：
<strong>开放性、混合编程、容易拓展</strong>。</p>
</li>
<li>
<p><strong>Arduino开发环境</strong>是免费和开源的，开发语言为C/C++混合编程。</p>
</li>
<li>
<p>Arduino中下载程序到单片机需要先安装<strong>串口转USB的驱动程序。</strong></p>
</li>
</ul>
<hr>
<h3 id="arduino程序的架构大体可分为3个部分">Arduino程序的架构大体可分为3个部分</h3>
<p>（1）声明变量及接口的名称。</p>
<p>（2） <strong>setup</strong>()。
在Arduino程序运行时首先要调用setup()函数，用于初始化变量、设置针脚的输出/输入类型、配置串口、引入类库文件等等。每次Arduino上电或重启后，setup()<strong>函数只运行一次。</strong></p>
<p>（3） <strong>loop</strong>()。
在setup()函数中初始化和定义变量，然后执行loop()函数。顾名思义，该函数在程序运行过程中不断地循环，根据反馈，相应地改变执行情况。通过该函数动态控制Arduino主控板。</p>
<h3 id="arduino-ide编程并下载程序流程">Arduino IDE编程并下载程序流程</h3>
<p>在Arduino IDE编程并下载程序到开发板的过程，实际上是编译器将程序翻译为
机器语言（即二进制语言）的过程。计算机将二进制的指令传送到单片机程序闪存中，单片机识别指令后进行工作。下图是从编写好的程序到Arduno开发板运行程序的流程
<a href="#R-image-4b92e0b74d54c8a7579ab7404142833c" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8711.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4b92e0b74d54c8a7579ab7404142833c"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8711.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="arduino开发中">Arduino开发中</h3>
<hr>
<ol>
<li>数字管脚读取函数 <strong>digitalRead（）</strong> ；</li>
<li>模拟管脚读取函数 <strong>analogRead（）</strong> ；</li>
<li>串口调试函数为 <strong>Serial.println()</strong>，用于在串口打印内容</li>
<li><strong>延时函数——Delay()</strong> 延时的基本单位为ms,Delay(200)为延时200ms</li>
</ol>
<hr>
<p>Arduino UNO开发板提供6个模拟接口，模拟信号分辨率为10位（意味着ADC可以将输入的模拟电压分成2^10 = 1024个离散级别进行数字化），它能测到的最小电压为 <strong>5V/1024=0.0049V</strong> 。
<a href="#R-image-264079b5cd5e3508965d75b72b00f32d" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8712.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-264079b5cd5e3508965d75b72b00f32d"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8712.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h4 id="arduino的物理管脚有analogdigitalvccgndvinres等">Arduino的物理管脚有Analog、Digital、VCC、GND、VIN、RES等</h4>
<ol>
<li>
<p><strong>Analog（模拟）管脚</strong>：</p>
<ul>
<li>Arduino Uno等开发板上有一组特定的引脚标记为A0、A1、A2&hellip;A5（或更多，取决于具体型号），它们是模拟输入引脚。</li>
<li>这些引脚可以接收连续变化的电压值（通常在0到5V之间），并将其转换成数字值（0-1023，对应于ADC即模数转换器的分辨率是10位）。</li>
<li>通过这些引脚，你可以读取来自传感器或其他模拟信号源的数据。</li>
</ul>
</li>
<li>
<p><strong>Digital（数字）管脚</strong>：</p>
<ul>
<li>数字管脚用于处理二进制信号，也就是高电平（通常对应5V或3.3V，取决于板子类型和所处的操作模式）和低电平（接地，即0V）。</li>
<li>它们既可以作为输入端口检测外部设备的高低电平状态，也可以作为输出端口驱动LED、继电器或其他数字器件。</li>
<li>部分数字管脚还支持PWM（脉宽调制）输出，这样就可以模拟出不同亮度级别的LED或者调整电机速度等。</li>
</ul>
</li>
<li>
<p><strong>VCC</strong>：</p>
<ul>
<li>VCC代表“电源正极”。</li>
</ul>
</li>
<li>
<p><strong>GND</strong>：</p>
<ul>
<li>GND代表“接地”。</li>
</ul>
</li>
<li>
<p><strong>VIN</strong>：</p>
<ul>
<li>VIN是外部电源输入端，允许用户接入高于5V的电源（比如9V或12V电池）。这个引脚的电压将被板载稳压器转换成稳定的5V供给VCC使用。当Arduino通过USB线供电时，VIN不是必需的，但如果需要更高功率或独立电源，则可以使用此引脚。</li>
</ul>
</li>
<li>
<p><strong>RES / RESET</strong>：</p>
<ul>
<li>RES或RESET是复位引脚，当此引脚被拉低（一般是短接到GND）时，Arduino板上的微控制器会执行复位操作，重启其程序执行从头开始。在一些情况下，可以通过外部电路控制复位信号来实现更高级的功能，例如硬复位或远程复位。</li>
</ul>
</li>
</ol>
<h4 id="soc系统芯片处理器的功能强于mcu处理器的功能">Soc（系统芯片）处理器的功能强于MCU处理器的功能</h4>
<p>SOC（System-on-a-Chip）处理器相较于MCU（Microcontroller Unit）处理器功能更强大的原因主要体现在以下几个方面：</p>
<ol>
<li>
<p><strong>集成度</strong>：</p>
<ul>
<li>SOC芯片高度集成了中央处理器（CPU）、图形处理器（GPU）、内存（RAM、ROM/Flash）、以及其他专用硬件加速器如DSP（数字信号处理器）、通信模块（如Wi-Fi、蓝牙、LTE等）、以及各种外设接口，形成一个一体化的复杂系统。而MCU虽然也在单一芯片上集成了CPU和一些内存资源及I/O接口，但集成度一般低于SOC。</li>
</ul>
</li>
<li>
<p><strong>性能与计算能力</strong>：</p>
<ul>
<li>SOC通常采用高性能的CPU内核架构，可以支持多核设计，运行速度更快，并且可能支持运行复杂的操作系统（如Linux、Android等），能够处理更多的并发任务和执行更为复杂的算法。</li>
<li>MCU往往采用针对低功耗和实时控制优化的精简指令集CPU，更适合于简单、快速响应的任务。</li>
</ul>
</li>
<li>
<p><strong>存储容量和扩展性</strong>：</p>
<ul>
<li>SOC具有更大的内存空间，包括程序存储器和数据存储器，支持更大数据量的处理和存储需求，同时也可以通过外部总线连接更多存储设备。</li>
<li>相比之下，MCU的内部存储器相对有限，虽然也能扩展外部存储，但在规模上通常不及SOC。</li>
</ul>
</li>
<li>
<p><strong>多媒体与通信能力</strong>：</p>
<ul>
<li>SOC普遍具备强大的多媒体处理能力，例如图像处理、音频编解码、视频编码等，还集成有高级网络和无线通信功能，以适应移动设备和物联网应用的需求。</li>
<li>MCU在这些方面的集成程度和性能则较低，除非专门设计用于某些特定领域，否则它们通常不包含这些复杂的功能模块。</li>
</ul>
</li>
<li>
<p><strong>能耗与散热管理</strong>：</p>
<ul>
<li>虽然SOC功能强大，但也面临着更高的能耗和散热挑战。不过，现代的SOC设计采用了先进的电源管理和低功耗技术来平衡性能与能效之间的关系。</li>
<li>MCU在设计之初就重点考虑了低功耗应用，适合电池供电或对能源敏感的应用场景。</li>
</ul>
</li>
</ol>
<h2 id="上课实验知识点">上课实验知识点</h2>
<h3 id="温湿度传感器">温湿度传感器</h3>
<p>温湿度传感器采用的是 <strong>单总线协议</strong> 。</p>
<ol>
<li>单总线传送数据定义以AM2302为例。</li>
</ol>
<p>SDA用于微处理器与AM2302之间的通讯和同步,采用单总线数据格式，一次传送40位数据，高位先出。</p>
<p><a href="#R-image-5417a6c2b882ae35787195ec904d6ba6" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%875.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5417a6c2b882ae35787195ec904d6ba6"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%875.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol start="2">
<li>通信格式</li>
</ol>
<p><a href="#R-image-cea6f93ce1d1c21ba53adc2386359fc4" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%876.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cea6f93ce1d1c21ba53adc2386359fc4"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%876.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>AM2302的湿度分辨率是16bit，高位在前。</p>
<ol start="3">
<li>主机和传感器之间可以通过如下几个步骤完成数据读取。</li>
</ol>
<p><strong>步骤一</strong>
传感器上电后 ，测试环境温湿度数据，并记录数据，此后传感器自动转入<strong>休眠状态</strong>。</p>
<p><strong>步骤二</strong>
微处理器的I/O设置为输出，同时输出低电平，且低电平保持时间不能<strong>小于80ous</strong>，典型值是<strong>拉低1Ms</strong>，然后微处理器的I/O设置为输入状态，释放总线，由于上拉电阻，微处理器的I/O如AM2302的SDA数据线也随之变高，等主机释放总线后，AM2302发送响应信号，即输出80us的低电平作为应答信号，紧接着输出80us的高电平通知外设准备接收数据，信号传输如图7所示
<a href="#R-image-da0de0b723736a7268242773a9c2e7ea" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%878.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-da0de0b723736a7268242773a9c2e7ea"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%878.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<strong>步骤三</strong>
AM2302发送完响应后，随后由数据总线SDA连续串行输出40位数据，微处理器根据l/o电平的变化接收40位数据。</p>
<ul>
<li>位数据“o”的格式为:50微秒的低电平加26-28微秒的高电平;</li>
<li>位数据“1”的格式为: 50微秒的低电平加70微秒的高电平;</li>
<li>位数据“o”、位数据“1”格式信号如图8所示。
<a href="#R-image-7f8817d5f82cb5760ec40b5cb2311394" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%879.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7f8817d5f82cb5760ec40b5cb2311394"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%879.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">// REQUEST SAMPLE（发送请求，此阶段为激活温湿度传感器）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">pinMode</span>(DHT_PIN, OUTPUT);<span style="color:#75715e">//4号引脚设置输出模式，默认高电平输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(DHT_PIN, LOW);<span style="color:#75715e">//设置低电平输出，并延迟18ms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(DHT_PIN, HIGH);<span style="color:#75715e">//设置高电平，并延迟40us
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delayMicroseconds</span>(<span style="color:#ae81ff">40</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第二阶段：通知开发板，自己准备发数据。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pinMode</span>(DHT_PIN, INPUT);<span style="color:#75715e">//设置输入模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ACKNOWLEDGE or TIMEOUT（确认或超时）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;<span style="color:#75715e">//定义无符号整形
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> LOW)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;<span style="color:#75715e">//返回DHT_ERR_TIMEOUT = -1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> HIGH)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// READ OUTPUT - 40 BITS =&gt; 5 BYTES or TIMEOUT（读取输出- 40比特=&gt; 5字节或超时）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">40</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> LOW)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> t <span style="color:#f92672">=</span> <span style="color:#a6e22e">micros</span>();   <span style="color:#75715e">//函数返回Arduino板开始运行当前程序时的微秒（us）数。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> HIGH)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//  |=:按位或后赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> ((<span style="color:#a6e22e">micros</span>() <span style="color:#f92672">-</span> t) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">40</span>) bits[idx] <span style="color:#f92672">|=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> cnt);  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//上次读取的时间到现在读取的时间差大于40，那么bits[idx]  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//的1左移CNT位，假设传的第一个数据是1，即(micros() - t)&gt;40，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//那么把1左移cnt位后赋值给数组bits[]（刚开始的时候cnt=0,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//也就是1左移0位）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (cnt <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)   <span style="color:#75715e">// 高8位数据传完了没有呢？
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;    <span style="color:#75715e">// 传完了，那让cnt=7，即进行下一轮低八位的传输，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        idx<span style="color:#f92672">++</span>;      <span style="color:#75715e">// 数组加1，说明下一次存的数据放在了数组的下一位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> cnt<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> bits[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(bits[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">!=</span> sum) <span style="color:#66d9ef">return</span> DHT_ERR_CHECK;  <span style="color:#75715e">//校验位
</span></span></span></code></pre></div><h3 id="单总线读写流程">单总线读写流程</h3>
<ul>
<li>初始化</li>
<li>发命令</li>
<li>读取湿度和温度
流程图如下：</li>
</ul>
<p><a href="#R-image-0401bd21db9223b8c7ac0b9414a34ae7" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8710.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0401bd21db9223b8c7ac0b9414a34ae7"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8710.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="系统设计">系统设计</h2>
<h3 id="物联网系统的开发流程">物联网系统的开发流程：</h3>
<p>（1）系统规划阶段
（2）验证假设阶段
（3）系统开发阶段
（4）系统交付阶段
（5）维护应用阶段</p>
<p><a href="#R-image-2be7987b302dac1fd2c7ebfa7e4e0e7e" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8717.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2be7987b302dac1fd2c7ebfa7e4e0e7e"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8717.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="需求分析">需求分析</h3>
<p>首要步骤是获取用户需求。</p>
<h3 id="物联网详细设计">物联网详细设计</h3>
<p>有代码编写、流程图绘制、 软件测试等。</p>
<h3 id="物联网设备选型的主要流程">物联网设备选型的主要流程：</h3>
<pre><code>（1）处理器选型，选择合适的单片机或开发板。
（2）传感器选型，选择合适的数字或模拟传感器。
（3）中间件选型，选择合适的网络通信方式。
</code></pre>
<h3 id="物联网系统测试的主要流程">物联网系统测试的主要流程：</h3>
<pre><code>（1）进行软件测试，分静态测试和动态测试。
静态测试和动态测试是软件测试中的两种主要类型，它们在软件开发生命周期的不同阶段用来验证软件的质量和正确性。
（2）进行硬件测试和网络测试。
（3）进行系统集成测试。
</code></pre>
<p><strong>静态测试</strong>：
静态测试是指不执行程序代码的情况下进行的测试活动。它主要用于检查软件的非执行属性，主要包括：</p>
<ul>
<li>
<p><strong>文档审查</strong>：检查需求规格说明书、设计文档、用户手册等非代码类文档是否清晰、完整、一致以及符合标准。</p>
</li>
<li>
<p><strong>代码审查</strong>（包括桌面检查、走查和正式审查）：通过人工或自动化工具对源代码进行逐行分析，查找可能存在的错误、缺陷、不符合编码规范的地方，以及潜在的设计问题和结构弱点。</p>
</li>
<li>
<p><strong>静态分析</strong>：利用静态分析工具自动检测代码中的潜在错误，如未初始化的变量、死代码、数据流错误、复杂度过高函数等问题。</p>
</li>
</ul>
<p>静态测试的目标在于发现并修复在软件开发早期就能确定的问题，以减少后期动态测试时发现严重错误的可能性。</p>
<p><strong>动态测试</strong>：
动态测试则是在实际运行软件的过程中进行的测试，重点在于检查程序的实际执行效果，主要包括：</p>
<ul>
<li>
<p><strong>单元测试</strong>：针对单个模块或函数进行测试，确保其内部逻辑功能正常。</p>
</li>
<li>
<p><strong>集成测试</strong>：将各个模块组合在一起测试，验证接口间的交互及整体功能。</p>
</li>
<li>
<p><strong>系统测试</strong>：验证整个系统的功能、性能、安全性等方面是否满足预定要求。</p>
</li>
<li>
<p><strong>验收测试</strong>（包括用户验收测试）：根据业务需求验证软件能否在真实环境中正确工作。</p>
</li>
<li>
<p><strong>压力测试</strong>、<strong>负载测试</strong>和<strong>性能测试</strong>：检验软件在极限条件下的表现，例如处理大量并发请求的能力。</p>
</li>
</ul>
<p>动态测试通常使用黑盒测试、白盒测试和灰盒测试策略来构造测试用例，并通过实际运行程序得到结果与预期结果对比，从而发现并报告错误。</p>
<p>总之，静态测试关注的是不运行程序就可识别的问题，而动态测试则侧重于在实际运行条件下暴露软件行为中的缺陷。两者结合能够更全面地保证软件质量。</p>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<h2 id="串口通信">串口通信</h2>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<p>串行通信是指使用一条数据线,将数据一位一位地依次传输,每一位数据占据一个固定的时间长度</p>
<p>在进行串口通信时,两个串口设备间需要**发送端(TX)<strong>与</strong>接收端(RX)**交叉相连,并共用电源地(GND)。</p>
<ol>
<li>
<p><strong>串行通信的约定</strong>
串行通信中的这种约定包含两个方面，</p>
<ul>
<li>一方面是通信的速率要保持一致，</li>
<li>另一方面是字符的编码要一致。</li>
</ul>
</li>
<li>
<p><strong>波特率</strong>
通信速率是指单位时间内传输的信息量,可用比特率和波特率来表示。
<strong>比特率</strong> 是指每秒传输的二进制位数,用bps (bits)表示。
<strong>波特率</strong> 是指每秒传输的符号数,若每个符号所含的信息量为1比特,则波特率等于比特率。</p>
</li>
<li>
<p>串口工作原理</p>
</li>
</ol>
<p>在Arduino与其它器件通讯的过程中,数据传输实际上都是以数字信号(即电平高低变化)的形式进行的,串口通信也是如此.当使用Serial.print()函数输出数据时,Arduino的发送端会输出一连串的数字信号,称这些数字信号为数据帧.
例如,当时用Serial.print(&lsquo;A&rsquo;)语句发送数据时,实际发送的数据帧格式如下图所示:
<a href="#R-image-3675fb95e8f807a19f2ca64b1ebd20ca" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8714.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3675fb95e8f807a19f2ca64b1ebd20ca"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8714.png" alt=" " class="lightbox-image        " loading="lazy"></a>
Serial.begin()是Arduino开发平台串口初始化函数。
物联网设备跟云平台的通讯方法分为同步传输和异步传输</p>
<p>以光照度传感器为例，讲解串口通信模式。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> sensorPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ledPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> lineFound <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(sensorPin, INPUT);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(ledPin, OUTPUT);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>lineFound <span style="color:#f92672">=</span> <span style="color:#a6e22e">digitalRead</span>(sensorPin);     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(lineFound <span style="color:#f92672">==</span> HIGH) {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, HIGH);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, LOW);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>流程如下：
<a href="#R-image-ce37e1faf744bc9d0d0c5003a456fa2a" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8715.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ce37e1faf744bc9d0d0c5003a456fa2a"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8715.png" alt=" " class="lightbox-image        " loading="lazy"></a>
串口例程：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> analogInPin <span style="color:#f92672">=</span> A0; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  sensorValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>     Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>,<span style="color:#ae81ff">8</span>N1);              
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>     sensorValue <span style="color:#f92672">=</span> <span style="color:#a6e22e">analogRead</span>(analogInPin);     
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">250</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>（1）串口通信模式有：1）波特率为115200 （2）校验方式为无校验 (3)数据位为8位、停止位为1位
（2）串口通信流程图
<a href="#R-image-5abb2d7050b24a1bb646b8090f52dde3" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8716.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5abb2d7050b24a1bb646b8090f52dde3"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8716.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 7</div>
<h1 id="7物联网工程">7.物联网工程</h1>


<ul class="children children-li children-sort-">
	
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 8</div>
<h1 id="851单片机">8.51单片机</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/8.51%E5%8D%95%E7%89%87%E6%9C%BA/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</a><p>不知道keil5从哪个版本开始就不支持了晶振的设置操作，我在网上搜也得到不同的答案，所以从哪个版本开始限制这就不提了， 好在这样的改变并不会形</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">8.51单片机 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%8A%A5%E9%94%99%E4%B8%8E%E8%A7%A3%E5%86%B3/">报错与解决</a></li>
    <li><a class="term-link" href="./tags/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">代码烧录</a></li>
  </ul>
</div>
            </header>
<h1 id="pretueskiel5仿真软件配合使用时需要注意的地方">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</h1>

<p>不知道keil5从哪个版本开始就不支持了晶振的设置操作，我在网上搜也得到不同的答案，所以从哪个版本开始限制这就不提了，
好在这样的改变并不会形象我们使用keil5。最近在刚进阶学习stm32，用到了<a href="./layout/variables">pretues_8.11</a> 仿真软
件和<a href="./layout/variables">keil5</a>代码编辑器，自己把心中所得分享一下。</p>
<p><strong>别人编译编译成功的工程，我另外用<a href="./layout/variables">keil5</a>打开编译为什么会失败？</strong></p>
<p>假设你拿到的别人的工程所选芯片为<a href="./layout/variables">stm32f103VC</a>，那么你在另外的电脑打开<a href="./layout/variables">keil5</a>，在设置里选芯片也是<a href="./layout/variables">stm32f103VC</a>，如果选的芯片与工程最初选的型号不同，那编译可能会失败，接着在打勾生成.hex文件。</p>
<p><strong>pretues里没有找到<a href="./layout/variables">keil5</a>里选择的芯片，能用别的芯片代替吗？</strong></p>
<p>答案是可以的，但尽量使用版本更高的芯片，使之能向下兼容，在<a href="./layout/variables">keil5</a>如果选了<a href="./layout/variables">stm32f103VC</a>，而pretues仿真的芯片是<a href="./layout/variables">stm32f103C6</a>，那么你并不用担心芯片不对应而导致你仿真失败。</p>
<p><strong>在pretues导入.hex文件后直接开始仿真，为什么报了许多错误？</strong></p>
<p>可能原因：在选择好<a href="./layout/variables">.hex</a>文件后，还必须设置晶振频率，即12MHz，如果没置会导致仿真失败，另外你不用担心选择的.hex文件路径有中文，我测过即使导入文件路径有中文也可以正常运行。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/d1-51%E5%8D%95%E7%89%87%E6%9C%BA/">D1-51单片机</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 9</div>
<h1 id="9操作系统">9.操作系统</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">Linux期末复习</a><p>认识Linux 安装Linux 图形界面与命令行 文件管理与常用命令 文件/目录的打包和压缩 gzip压缩文件和gunzip、zcat压缩文件命令 一般</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">9.操作系统 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E7%A1%AC%E4%BB%B6/">软硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="linux期末复习">Linux期末复习</h1>

<h2 id="认识linux">认识Linux</h2>
<h3 id="安装linux">安装Linux</h3>
<h3 id="图形界面与命令行">图形界面与命令行</h3>
<h2 id="文件管理与常用命令">文件管理与常用命令</h2>
<h3 id="文件目录的打包和压缩">文件/目录的打包和压缩</h3>
<h4 id="gzip压缩文件和gunzipzcat压缩文件命令">gzip压缩文件和gunzip、zcat压缩文件命令</h4>
<p>一般压缩解压文件：

<div class="tab-panel" data-tab-group="710de4a7747a45664e4ee0a0e3c2c3e1">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('710de4a7747a45664e4ee0a0e3c2c3e1','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> gzip [文件名]
 gunzip [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div>
例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# gzip hello.txt
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt.gz
    [root@localhost stdio]# gunzip hello.txt.gz 
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# </code></pre></div><p>如果不想删除源文件要怎么做呢？使用如下命令：

<div class="tab-panel" data-tab-group="45e49a2fd312148c2f0db82d6f371fc7">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: red ;" tabindex="-1"
      onclick="switchTab('45e49a2fd312148c2f0db82d6f371fc7','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: red ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> gzip -c [文件名] &gt; [压缩文件名.gz]
 zcat [解压文件名.gz] &gt;[压缩文件名.gz]</code></pre></div></div>
    </div>
  </div>
</div>
例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# gzip -c hello.txt &gt;hello.txt.gz
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt  hello.txt.gz
    [root@localhost stdio]# zcat  hello.txt.gz &gt;he.txt
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt  hello.txt.gz  he.txt
[root@localhost stdio]# </code></pre></div><p>在上面的命令中，<strong>zcat [解压文件名.gz] &gt;[压缩文件名.gz]</strong> 与 <strong>gunzip -c [解压文件名.gz] &gt;[压缩文件名.gz]</strong> 作用一样，另外，zcat [文件名]会将文件压缩信息输出在窗口上，即输出在 <strong>std</strong>。</p>
<h4 id="bzip2压缩文件和bunzip2压缩文件命令">bzip2压缩文件和bunzip2压缩文件命令</h4>
<p>一般压缩解压文件：

<div class="tab-panel" data-tab-group="6a9adcad8dbbd58ba180c77a2ddc46ac">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('6a9adcad8dbbd58ba180c77a2ddc46ac','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    bzip2 [文件名]
    bunzip2 [解压文件名]
    //压缩解压后不会删除原文件
    bzip2 -k [文件名]
    bunzip2 -k [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div></p>
<p>例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt
[root@localhost stdio]# bzip2 hello.txt 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt.bz2
[root@localhost stdio]# bunzip2 hello.txt.bz2 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt

[root@localhost stdio]# bzip2 -k  hello.txt 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt  hello.txt.bz2
[root@localhost stdio]# rm hello.txt
rm：是否删除普通文件 &#34;hello.txt&#34;？y
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt.bz2
[root@localhost stdio]# bunzip2 -k hello.txt.bz2
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt  hello.txt.bz2
[root@localhost stdio]# </code></pre></div><h4 id="tar归档文件命令">tar归档文件命令</h4>

<div class="tab-panel" data-tab-group="6448e1fec9b7e15f475264d49ec25ff3">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('6448e1fec9b7e15f475264d49ec25ff3','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<p>在Linux系统中，tar 是一个非常重要的归档工具，用于将一组文件和目录打包到一个单一的.tar文件中。它创建的这种归档文件并不进行压缩，仅仅是将多个文件集合在一起，并保持原始文件的权限、所有权和其他元数据信息。</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    tar -cvf [文件名]
    tar -xvf [解压文件名]</code></pre></div><p>然而，为了减少存储空间占用以及在网络上传输时加快速度，通常会结合使用 tar 和压缩工具（如gzip或bzip2）对归档文件进行压缩。这里 -z 或 -j 参数的作用就是启用压缩功能</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    tar -czvf [文件名]
    tar -xzvf [解压文件名]

    tar -cjvf [文件名]
    tar -xjvf [解压文件名]</code></pre></div><p>如果要选择性的归档或压缩、解压某个文件或目录，那么需要加 <strong>w</strong>，如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-l" data-lang="l">    tar -cwzvf [文件名]
    tar -xwzvf [解压文件名]

    tar -cwjvf [文件名]
    tar -xwjvf [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div>
<p>在命令中;</p>
<ul>
<li>c（create）：表示创建新备份</li>
<li>z（gzip或gunzip）:表示使用gzip指令处理文件</li>
<li>v（verbose）：显示指令执行过程</li>
<li>f（file）:指定备份文件</li>
<li>w(interactive):对每一步都进行确认</li>
<li>j:表示使用bzip2、bunzip2指令进行压缩解压</li>
</ul>
<p>如果加选项 <strong>-C</strong> （directory），则说明转到指定的目录，命令如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost ~]# tar -cjvf stdio.tar stdio/
    stdio/
    stdio/1.c
    [root@localhost ~]# tar -xjvf stdio.tar -C  st/
    stdio/
    stdio/1.c
    [root@localhost ~]# cd st/
    [root@localhost st]# ls
    stdio
    [root@localhost st]# ls stdio/
    1.c
    [root@localhost st]# </code></pre></div><h2 id="用户与用户组管理">用户与用户组管理</h2>
<h3 id="用户与组文件">用户与组文件</h3>
<h4 id="用户文件-passwd">用户文件-passwd</h4>
<p>存放用户登录用户信息的文件位置：/etc/passwd
文件中域的的格式：</p>
<hr>
<p>username:passwd:uid:gid:userinfo:home:shell:</p>
<hr>
<p>例子：</p>
<hr>
<p>[root@localhost st]# tail -1 /etc/passwd
daliu:x:1008:1006::/home/daliu:/bin/bash</p>
<hr>
<p><strong>/etc/passwdw</strong> 文件中域的含义</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center">用户名</td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center">登录密码（一般显示的是密码转换后的乱码）</td>
</tr>
<tr>
<td style="text-align:center">uid</td>
<td style="text-align:center">用户ID（0-99一般为系统保留）</td>
</tr>
<tr>
<td style="text-align:center">gid</td>
<td style="text-align:center">用户组ID</td>
</tr>
<tr>
<td style="text-align:center">userinfo</td>
<td style="text-align:center">用户信息</td>
</tr>
<tr>
<td style="text-align:center">home</td>
<td style="text-align:center">分配该用户的主目录（但位置是人为决定的，自己可以修改）</td>
</tr>
<tr>
<td style="text-align:center">shell</td>
<td style="text-align:center">登录后启动的shell</td>
</tr>
</tbody>
</table>
<p>一般root用户的UID为0，UID一般是唯一的为的是区分不同的用户，但UID为0的除外，UID为0则说明为超级用户；</p>
<p>创建用户时，系统会分配一个主目录给用户一般在 <strong>home</strong> 目录下，例如用户user主目录为 <strong>/home/user</strong>。</p>
<h4 id="用户文件-shadow">用户文件-shadow</h4>
<p>Linux系统中的<code>/etc/shadow</code>文件是存放用户密码信息的重要安全文件，也称为“影子口令文件”。它的主要作用是存储用户的加密密码以及与密码相关的属性，以增强系统的安全性。</p>
<p>在早期的Unix/Linux系统中，密码是以明文或简单加密的形式存储在<code>/etc/passwd</code>文件中。为了提高系统的安全性，从1970年代末期开始引入了影子口令的概念，将密码字段从<code>/etc/passwd</code>移出，并存放在只有超级用户（root）可以读取的<code>/etc/shadow</code>文件中，而原来的 <strong>/etc/passwd</strong> 中的密码字段显示 <strong>x</strong> ,这就是上面的例子中显示x的原因。</p>
<p>通过这种方式，即使攻击者获取了<code>/etc/shadow</code>文件，由于密码已经被高度加密，直接破解难度大大增加，从而有效提高了系统的密码安全级别。同时，通过对密码策略的设定，还可以实现对用户密码复杂度和有效期的管理。</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">min</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">max</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">warm</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">inactive</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">expire</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">flag</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>下面就举个例子：</p>
<hr>
<p>[root@localhost st]# tail -1 /etc/passwd
daliu:x:1008:1006::/home/daliu:/bin/bash</p>
<p>[root@localhost st]# tail -1 /etc/shadow
daliu:$6$f703Izgm$gIA74I6Vyqdjstz3BazhvEUVWfSyelNuv7UKTUtB3cScauSctebqrBIr/KShHnBcWWQideao3aucMrXsO.I6Z/:19694:0:99999:7:::</p>
<hr>
<h4 id="用户组文件-group">用户组文件-group</h4>
<p>用户组一方面是为了查找用户时更方便，比如查找user用户，你不需要去passwd文件一行一行的查找，你只需要去group文件找到对应的用户组即可。</p>
<p>同样的，用户组也有类似passwd、shadow之和这样的文件，分别为group、gshadow.</p>
<p><strong>/etc/group</strong> 文件中域的含义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">group_name</td>
<td style="text-align:center">组用户名</td>
</tr>
<tr>
<td style="text-align:center">group_password</td>
<td style="text-align:center">加密后的用户组口令</td>
</tr>
<tr>
<td style="text-align:center">group_id</td>
<td style="text-align:center">用户组ID</td>
</tr>
<tr>
<td style="text-align:center">group_members</td>
<td style="text-align:center">以逗号隔开的用户清单</td>
</tr>
</tbody>
</table>
<p><strong>/etc/gshadow</strong> 文件中域的含义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">group_name</td>
<td style="text-align:center">组用户名</td>
</tr>
<tr>
<td style="text-align:center">group_password</td>
<td style="text-align:center">加密后的用户组口令</td>
</tr>
<tr>
<td style="text-align:center">group_members</td>
<td style="text-align:center">以逗号隔开的用户清单</td>
</tr>
</tbody>
</table>
<h4 id="检验用户与用户组文件之间是否正确">检验用户与用户组文件之间是否正确</h4>
<ul>
<li>检验 <strong>/etc/passwd</strong> 与 <strong>/etc/shadow</strong> 文件之间的正确性，使用命令 <strong>pwck</strong>,当发生错误，两个文件之间信息不对应时，系统会提示对相应项进行修改；</li>
<li>检验 <strong>/etc/group</strong> 与 <strong>/etc/gshadow</strong> 文件之间的正确性，使用命令 <strong>grpck</strong>,当发生错误，两个文件之间信息不对应时，系统会提示对相应项进行修改。</li>
</ul>
<h3 id="相关的命令操作">相关的命令操作</h3>
<p>1.添加用户与用户组———— <strong>useradd</strong> &amp; <strong>groupadd</strong></p>
<p>用法：</p>
<ul>
<li>useradd [选项] 登录</li>
<li>useradd -D</li>
<li>useradd -D [选项]</li>
</ul>
<p>值得注意的是，对于选项的-d、-md，加了m表示在/home目录创建用户目录，如果不加，表示该目录已存在不需要再使用m,详细请结合下面的展开内容来开。

<div class="expand">
    <input type="checkbox" id="R-expand-407af7ab27bb7d02dc754ceac36bc5c1" aria-controls="R-expandcontent-407af7ab27bb7d02dc754ceac36bc5c1" >
    <label class="expand-label" for="R-expand-407af7ab27bb7d02dc754ceac36bc5c1" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-407af7ab27bb7d02dc754ceac36bc5c1" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">选项：
  -b, --base-dir BASE_DIR	新账户的主目录的基目录
  -c, --comment COMMENT         新账户的 GECOS 字段
  -d, --home-dir HOME_DIR       新账户的主目录
  -D, --defaults		显示或更改默认的 useradd 配置
 -e, --expiredate EXPIRE_DATE  新账户的过期日期
  -f, --inactive INACTIVE       新账户的密码不活动期
  -g, --gid GROUP		新账户主组的名称或 ID
  -G, --groups GROUPS	新账户的附加组列表
  -h, --help                    显示此帮助信息并推出
  -k, --skel SKEL_DIR	使用此目录作为骨架目录
  -K, --key KEY=VALUE           不使用 /etc/login.defs 中的默认值
  -l, --no-log-init	不要将此用户添加到最近登录和登录失败数据库
  -m, --create-home	创建用户的主目录
  -M, --no-create-home		不创建用户的主目录
  -N, --no-user-group	不创建同名的组
  -o, --non-unique		允许使用重复的 UID 创建用户
  -p, --password PASSWORD		加密后的新账户密码
  -r, --system                  创建一个系统账户
  -R, --root CHROOT_DIR         chroot 到的目录
  -s, --shell SHELL		新账户的登录 shell
  -u, --uid UID			新账户的用户 ID
  -U, --user-group		创建与用户同名的组
  -Z, --selinux-user SEUSER		为 SELinux 用户映射使用指定 SEUSER
  </code></pre></div></div>
</div></p>
<p>用法： <strong>groupadd [选项] [组名]</strong> ，一般会用到的选项有</p>
<ul>
<li>-g: 用户设置组ID；</li>
<li>-o: 与-g配合使用，设置不唯一的组ID;</li>
<li>-n: 修改组的名字，如：gpasswd -n [新组名] [旧组名]</li>
</ul>
<p>2.删除用户与用户组———— <strong>userdel</strong> &amp; <strong>groupdel</strong></p>
<ul>
<li>userdel:一般用法就是在后面加要删除的用户，如果加选项-r则会删除主目录文件；</li>
<li>groupdel：在后面加要删除的用户组</li>
</ul>
<p>3.修改用户与用户组———— <strong>usermod</strong> 、<strong>passwd</strong> &amp; <strong>gpasswd</strong></p>
<ul>
<li>usermod： 一般就是对问文件中的域进行修改，会加加上选项-u、-g、-s等，最后还得指定用户，用法： <strong>usermod [选项] [用户名]</strong>。另外，<strong>-L（-U）</strong> 的作用是对用户的锁定（解锁）；</li>
<li>passwd：一般就是用来修改用户的密码，在登录的是root用户情况下passwd是要指定修改密码的用户的，而如果登录的是用户本身，使用passwd时就不用指定在；</li>
<li>gpasswd： 用法： <strong>gpasswd [选项] [组名]</strong> ，一般会用到的选项有
<ul>
<li>-a(添加组的用户)，</li>
<li>-d(删除组里的用户)，gpasswd -d [用户名] [组名]</li>
<li>-A(添加组的管理员).</li>
<li>-g(修改组GID),例如：gpasswd -g [新ID] [组名]</li>
</ul>
</li>
</ul>
<p>对于usermod的进一步说明，除了上面提到的选项，还有如下选项：</p>

<div class="expand">
    <input type="checkbox" id="R-expand-b0aae8f949d99394801bf49c724b79c7" aria-controls="R-expandcontent-b0aae8f949d99394801bf49c724b79c7" >
    <label class="expand-label" for="R-expand-b0aae8f949d99394801bf49c724b79c7" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-b0aae8f949d99394801bf49c724b79c7" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    选项：
  -c, --comment 注释            GECOS 字段的新值
  -d, --home HOME_DIR           用户的新主目录
  -e, --expiredate EXPIRE_DATE  设定帐户过期的日期为 EXPIRE_DATE
  -f, --inactive INACTIVE       过期 INACTIVE 天数后，设定密码为失效状态
  -g, --gid GROUP               强制使用 GROUP 为新主组
  -G, --groups GROUPS           新的附加组列表 GROUPS
  -a, --append GROUP            将用户追加至上边 -G 中提到的附加组中，
                                并不从其它组中删除此用户
  -h, --help                    显示此帮助信息并推出
  -l, --login LOGIN             新的登录名称
  -L, --lock                    锁定用户帐号
  -m, --move-home               将家目录内容移至新位置 (仅于 -d 一起使用)
  -o, --non-unique              允许使用重复的(非唯一的) UID
  -p, --password PASSWORD       将加密过的密码 (PASSWORD) 设为新密码
  -R, --root CHROOT_DIR         chroot 到的目录
  -s, --shell SHELL             该用户帐号的新登录 shell
  -u, --uid UID                 用户帐号的新 UID
  -U, --unlock                  解锁用户帐号
  -Z, --selinux-user  SEUSER       用户账户的新 SELinux 用户映射</code></pre></div></div>
</div>
<p>3.登录用户与用户组———— <strong>su</strong> <strong>newgrp</strong></p>
<p>root用户与普通用户之间的切换使用su,如果要切换根目录则需要在su 后加-，即： <strong>su - [用户]</strong>。</p>
<p>在Linux中，组的登录使用 newgrp ，即 <strong>newgrp [组名]</strong>。</p>
<p>下面通过一个例子加以理解：</p>
<p>添加一个用户名为15user，且该用户在用户组15group中，设置用户组和用户密码为123，创建一个用户15user2让该用户为用户组管理员,修改user的UID为2024，最后删除所用所建信息。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-45bf878caa9e29744c8286e9cab25ce8" aria-controls="R-expandcontent-45bf878caa9e29744c8286e9cab25ce8" >
    <label class="expand-label" for="R-expand-45bf878caa9e29744c8286e9cab25ce8" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-45bf878caa9e29744c8286e9cab25ce8" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">[root@localhost ~]# groupadd 15group
[root@localhost ~]# useradd -g 15group 15user
[root@localhost ~]# tail -1 /etc/passwd
15user:x:1001:1007::/home/15user:/bin/bash
[root@localhost ~]# tail -1 /etc/group
15group:x:1007:

[root@localhost ~]# gpasswd 15group
正在修改 15group 组的密码
新密码：
请重新输入新密码：
[root@localhost ~]# passwd 15user
更改用户 15user 的密码 。
新的 密码：
无效的密码： 密码少于 8 个字符
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。
[root@localhost ~]# useradd 15user2

[root@localhost ~]# gpasswd -A 15user2 15group
[root@localhost ~]# tail -2 /etc/group
15group:x:1007:
15user2:x:1002:
[root@localhost ~]# tail -2 /etc/gshadow
15group:$6$d4pzl/CPrp$3NYvX8gzE3DBm35BLqAE8aGzfUhrUZTSMGQfeRve2iUhrH1tZGR8I8t91gWzFD2GWFEDaaocO7XO85RjKDY.q1:15user2:
15user2:!::

[root@localhost ~]# usermod -u  2024 15user
[root@localhost ~]# tail -2 /etc/passwd
15user:x:2024:1007::/home/15user:/bin/bash
15user2:x:1002:1002::/home/15user2:/bin/bash

[root@localhost ~]# userdel 15user
[root@localhost ~]# groupdel 15group
[root@localhost ~]# userdel 15user2</code></pre></div></div>
</div>
<p>在上面的例子中，我们使用gpasswd -A来设置用户组管理员。</p>
<h2 id="文件目录和目录权限管理">文件目录和目录权限管理</h2>
<h3 id="文件访问权限与用户分类">文件访问权限与用户分类</h3>
<h4 id="文件的访问权限">文件的访问权限</h4>
<ul>
<li>读(r)：允许读文件的内容</li>
<li>写(w)：允许向文件中写入数据</li>
<li>执行(x)：允许将文件作为程序执行</li>
</ul>
<h4 id="目录的访问权限">目录的访问权限</h4>
<ul>
<li>读(r)：允许查看目录中有哪些文件和目录；</li>
<li>写(w)：允许该在目录下创建（或删除）文件、目录，修改文件名字或者目录名字</li>
<li>执行(x)：允许访问目录(用 cd 命令进入该目录，并查看目录中可读文件的内容)</li>
</ul>
<h4 id="用户分类">用户分类</h4>
<ul>
<li>文件所有者（owner）：建立文件、目录的用户。</li>
<li>同组用户(group)：属于同一组群的用户对属于该组群的文件有相同的访问权限。</li>
<li>其他用户(other)：除了文件所有者、同组用户的其他用户。</li>
</ul>
<p>我们先用ls -l 查看文件的权限信息：</p>
<p><a href="#R-image-6d72a1f23015fcfc08f3458d5b5d713d" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu2.png" alt="tu2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6d72a1f23015fcfc08f3458d5b5d713d"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu2.png" alt="tu2" class="lightbox-image        " loading="lazy"></a></p>
<p>在上面的开头有三段他们分别表示为文件所有者、同组用户、其他用户：</p>
<p><a href="#R-image-bf46e062f1459286ce44a0d4131360bd" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu1.png" alt="tu1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bf46e062f1459286ce44a0d4131360bd"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu1.png" alt="tu1" class="lightbox-image        " loading="lazy"></a></p>
<p>其中的d表示目录。</p>
<h3 id="权限修改">权限修改</h3>
<h4 id="访问权限的表示">访问权限的表示</h4>
<ul>
<li>（1）字母表示法（如：rwxr-xr-x）</li>
<li>（2）数字表示法 （如：755）
<a href="#R-image-ff70974872acb16bf57ed64568f73eeb" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu3.png" alt="tu3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ff70974872acb16bf57ed64568f73eeb"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu3.png" alt="tu3" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>使用数字进行文件权限的划分，其中r=4、w=2、x=1、-=0，这样rwx这组权限就是4+2+1=7，r-x这组权限就是5。</p>
<h4 id="修改权限的命令chmod">修改权限的命令：chmod</h4>
<ol>
<li>命令格式1：
chmod 
<span class="math align-center">$n{_1}n{_2}n{_3}$</span> &lt;文件|目录&gt;</li>
</ol>
<ul>
<li>功能：为指定文件或目录修改给定的数值访问权限。</li>
<li>选项：
<span class="math align-center">$n{_1}n{_2}n{_3}$</span>三位数字表示的文件访问权限。</li>
</ul>
<ol>
<li>命令格式2：
chmod [用户标识] [设定方法] [权限字符] &lt;文件名或目录名〉</li>
</ol>
<ul>
<li>功能：修改文件或目录的访问权限。</li>
<li>选项：
<ul>
<li>（1）用户标识：所有者（u）、同组（g）、其他人（o）、所有的人员（a）</li>
<li>（2）设定方法：+ 增加权限、- 删除权限、= 分配权限，同时删除旧的权限</li>
<li>（3）权限字符：r（读）、w（写）、x（执行）、u（和所有者的权限相同）、g（和所同组用户的权限相同）、o（和其他用户的权限相同）</li>
</ul>
</li>
</ul>
<h4 id="修改文件所有者的命令chown">修改文件所有者的命令：chown</h4>
<ul>
<li>格式：chown [-R] &lt;用户[：组]&gt; &lt;文件或目录&gt;</li>
<li>功能：更改属主和组。</li>
<li>选项：
-R：对目录及其子目录进行递归设置。</li>
</ul>
<p>例如：chown sjh：sjh result.txt</p>
<h4 id="修改文件所属组群的命令chgrp">修改文件所属组群的命令：chgrp</h4>
<p>格式：chgrp group file</p>
<p>其中group：组名或组代号</p>
<p>功能： 改变文件或目录组群</p>
<p>例如：chgrp user result.txt</p>
<p>关于chown与chgrp的命令的例子：</p>

<div class="expand">
    <input type="checkbox" id="R-expand-735f20217b6790b84516d0a6a39a0479" aria-controls="R-expandcontent-735f20217b6790b84516d0a6a39a0479" >
    <label class="expand-label" for="R-expand-735f20217b6790b84516d0a6a39a0479" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-735f20217b6790b84516d0a6a39a0479" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost ~]# chown user2:user2 /tmp/test/user1_2.txt
    [root@localhost ~]# ls -l /tmp/test/
    总用量 0
    -rw-rw-r--. 1 user2 user2 0 1月  15 19:40 user1_2.txt
    [root@localhost ~]# chgrp root /tmp/test/user1_2.txt
    [root@localhost ~]# ls -l /tmp/test/
    总用量 0
    -rw-rw-r--. 1 user2 root 0 1月  15 19:40 user1_2.txt
    [root@localhost ~]# </code></pre></div></div>
</div>
<h4 id="修改默认权限的命令umask">修改默认权限的命令：umask</h4>
<p>格式：umask [mask]</p>
<p>功能：设置文件或目录的默认权限</p>
<p>注意：系统默认屏蔽的权限为022（umask的默认值为0022），因此新
创建的目录权限就为777-022=755，用字符表示就是rwxr-xr-x，新创
建的普通文件权限为666-022=644，即rw&ndash;r&ndash;r&ndash;。</p>
<h4 id="文件隐藏属性">文件隐藏属性</h4>
<ul>
<li>
<p>1）查看文件隐藏属性：lsattr</p>
</li>
<li>
<p>2）修改文件隐藏属性：chattr</p>
</li>
<li>
<p>chattr [+-=] [ ai] 文件或目录名称</p>
<ul>
<li>a: 当设置a之后，这个文件将只能增加数据，而不能删除也不能修改数据，
必须要为root才能设置这个属性。</li>
<li>i：不能删除，不能修改，不能改名。必须要为root才能设置这个属性。</li>
</ul>
</li>
</ul>
<h3 id="文件特殊权限">文件特殊权限</h3>
<p>文件特殊权限有以下三种：</p>
<p>1）SUID：Set UID（只对二进制程序有效，对shell script无效）</p>
<p>例如：ll /usr/bin/passwd</p>
<p>注意：当用户执行passwd命令的时候，需要修改/etc/shadow文件，而该文件普通用户并没有任何权限。</p>
<p>2）SGID：Set GID</p>
<p>例如：ll /usr/bin/locate
注意：当用户执行locate命令的时候，需要读取/var/lib/mlocate/mlocate.db文件。</p>
<p>3）SBIT：Sticky Bit （只对目录有效）</p>
<p>设置方法：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    chmod -o+t [指定目录名]
    或者
    chmod 1777 [指定目录名]</code></pre></div><p>对一个目录进行如上设置以后，假设有用户A和B，用户A在该目录下创建的文件只有他自己的root用户可以删，像B这样的其他用户删不了。</p>
<p><a href="https://blog.csdn.net/weiling_shen/article/details/7577571" target="_blank">特殊文件说明文章链接</a></p>
<h2 id="软件包管理">软件包管理</h2>
<p>接下里介绍两个软件安装的工具，分别是RPM：Red Hat Package Manager（Red Hat软件包管，以及YUM:Yellow dog Dpdater,Modified.</p>
<p>RPM工具不需要网络，需要提前准备好安装包，但是他也有缺点安装的时候如果缺少依赖包你还需要再安装依赖包；</p>
<p>而YUM工具需要再有网的状态下才可以下载，它免去了依赖包提醒，自动将依赖包下载好，较为方便，我跟推荐使用YUM。</p>
<h3 id="rpm工具的使用">RPM工具的使用</h3>
<p>1．安装软件包（install）</p>
<p><strong>rpm -ivh rpm软件包全名</strong>：</p>
<ul>
<li>i：安装一个新的软件包</li>
<li>v：显示详细信息</li>
<li>h：显示安装进度条理工具</li>
</ul>
<p>2．查询已安装的软件包（query）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">rpm –qa //查询出本机所有已经安装的软件
rpm –q httpd //查询httpd软件包是否已经安装
rpm -q【i l c d R】 vsftpd
rpm -qf /etc/inittab
查询未安装的软件包：
rpm -qp 【i l c d R】 gconf-editor-2.28.0-3.el6.i686.rpm</code></pre></div><p>3．升级与更新（upgrade/freshen）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">rpm -Uvh 软件包名称
//原来没有安装过的，直接安装；如果已安装过，则更新至新版
rpm -Fvh 软件包名称
//原来没有安装过的，不安装；如果已安装过，则更新至新版</code></pre></div><p>4．卸载RPM包（erase）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> rpm -e vsftpd
 注意：卸载时只需要给出软件包名称vsftpd，而不需要给出软件包的全部名称信息vsftpd-2.2.2-6.el6.i686.rpm。</code></pre></div><h3 id="yum工具的使用">YUM工具的使用</h3>
<p><strong>yum在线升级机制：</strong></p>
<ul>
<li>安装软件 yum install gcc</li>
<li>删除软件 yum remove gcc</li>
<li>查询软件 yum search gcc</li>
</ul>
<p><strong>软件包管理：</strong></p>
<ul>
<li>举例一：搜寻与磁盘阵列(raid)相关的软件有哪些？
[root@www ~]# yum search raid</li>
<li>举例二：找出mdadm这个软件的功能为何？
[root@www ~]# yum info mdadm</li>
<li>举例三：列出yum 服务器上面提供的所有软件名称。
[root@www ~]# yum list</li>
<li>举例四：列出目前服务器上可供本机进行升级的软件有哪些？
[root@www ~]# yum list updates</li>
<li>举例五：列出提供passwd这个文件的软件有哪些？
[root@www ~]# yum provides passwd</li>
</ul>
<p><strong>yum的软件组功能：</strong></p>
<ul>
<li>查询软件组：yum grouplist（查阅目前容器与本机上面的可用与安装过
的软件群组有哪些？）</li>
</ul>
<p>yum groupinfo Eclipse（查询Eclipse软件组的相关信息）</p>
<ul>
<li>安装软件组： yum groupinstall Eclipse</li>
<li>删除软件组： yum groupremove Eclipse</li>
</ul>
<h2 id="硬盘分区及格式化">硬盘分区及格式化</h2>
<h3 id="硬盘分区介绍">硬盘分区介绍</h3>
<ul>
<li>硬盘的分区分为主磁盘分区和扩展磁盘分区。</li>
<li>一个硬盘最多可以划分为 <strong>4</strong> 个主磁盘分区，这时不能再创建扩展分区。</li>
<li>一个硬盘中最多只能创建 <strong>1个扩展分区</strong> ，扩展分区不能直接使用，必须在扩展分区中再划分出逻辑分区才可以使用。</li>
<li>逻辑分区是从5开始的，每多1个分区，数字加1就可以。</li>
</ul>
<h4 id="硬盘标识">硬盘标识</h4>
<p>（1）IDE硬盘：hd[a-d]*</p>
<p>hd表示硬盘类型为IDE，中括号中的字母为a、b、c、d中的一个，a是基本盘，b是从盘，是辅助主盘，d是辅助从盘，*指分区，即主分区和扩展分区。</p>
<p>例如：hda1代表第一块IDE硬盘上的第一个分区。hdb5代表第二块IDE硬盘的第一个逻辑分区。</p>
<p>（2）SCSI/SATA硬盘：sd[a-p]*</p>
<p>sd表示SCSI/SATA硬盘。SCSI/SATA的引导盘使用设备文件/dev/sda1、/dev/sda2、/dev/sda3、/dev/sda4作为主分区或者扩展分区，而以/dev/sda5，/dev/sda6等作为逻辑分区。</p>
<h3 id="创建硬盘分区">创建硬盘分区</h3>
<p>先使用ls -l /dev |grep &lsquo;sd&rsquo;查看文件里是否有可用的磁盘，如果没有需要创建一个磁盘，创建步骤：</p>
<p>1．通过虚拟机设置增加一块SCSI硬盘，大小为5G，重启系统。

<div class="expand">
    <input type="checkbox" id="R-expand-973fb74bde81959f586eac032f5f081a" aria-controls="R-expandcontent-973fb74bde81959f586eac032f5f081a" >
    <label class="expand-label" for="R-expand-973fb74bde81959f586eac032f5f081a" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-973fb74bde81959f586eac032f5f081a" class="expand-content">

<p><a href="#R-image-30a7e1a9d5da062fcbe46c476aaababb" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-30a7e1a9d5da062fcbe46c476aaababb"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>按照下图点击下一步</p>
<p><a href="#R-image-a150effcf3683fe76548cbca8d6ac9d6" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a150effcf3683fe76548cbca8d6ac9d6"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-bcc67a087faddc6bc51f6a30d6c6ce08" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bcc67a087faddc6bc51f6a30d6c6ce08"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>根据实际情况输入所需硬盘大小，这里输入5GB</p>
<p><a href="#R-image-361a444de50eafc122bd8e43a61bd5dd" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-361a444de50eafc122bd8e43a61bd5dd"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>然后点击完成</p>
<p><a href="#R-image-21eb8e53dd8a255117c2d4441187673a" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-21eb8e53dd8a255117c2d4441187673a"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>最后在命令窗口输入reboot重启。</p>
</div>
</div></p>
<p>2．将该硬盘分为2个主分区（每个主分区的大小为1G），1个扩展分区（大小为3G），将第2个主分区制作成swap分区。</p>
<p>命令：

<div class="expand">
    <input type="checkbox" id="R-expand-edc7a75a0d0455c3c6868a868e482b3f" aria-controls="R-expandcontent-edc7a75a0d0455c3c6868a868e482b3f" >
    <label class="expand-label" for="R-expand-edc7a75a0d0455c3c6868a868e482b3f" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-edc7a75a0d0455c3c6868a868e482b3f" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>    <span style="color:#f92672">//</span>先用命令查看sd,sd表示SCSI<span style="color:#f92672">/</span>SATA硬盘<span style="color:#960050;background-color:#1e0010">，</span>
</span></span><span style="display:flex;"><span>    ls <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>sd <span style="color:#f92672">|</span>grep sd
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>硬盘分区
</span></span><span style="display:flex;"><span>    fdisk  <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>sdb
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>使用m查看帮助命令<span style="color:#960050;background-color:#1e0010">，</span>n为新建命令<span style="color:#960050;background-color:#1e0010">，</span>d为删除命令<span style="color:#960050;background-color:#1e0010">，</span>w为写入命令<span style="color:#960050;background-color:#1e0010">，</span>每次配完都要写入才有效<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    p  <span style="color:#f92672">//</span>这是新建主分区的意思
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>接着指定分区起始位置<span style="color:#960050;background-color:#1e0010">，</span>一般我们默认<span style="color:#960050;background-color:#1e0010">，</span>所以回车就可以
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>然后就是指定分区的大小<span style="color:#960050;background-color:#1e0010">，</span>这里我设置1G<span style="color:#960050;background-color:#1e0010">、</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>可以用p命令查看设置的情况
</span></span><span style="display:flex;"><span>    P
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>按照上面的流程进行其他的设置<span style="color:#960050;background-color:#1e0010">，</span>一下给出步骤命令
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    p
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    e
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>G</span></span></code></pre></div></div>
</div>
3．将扩展分区划出2个逻辑分区（大小分别为1G、2G）。</p>
<p>命令：

<div class="expand">
    <input type="checkbox" id="R-expand-3d6784f927b7a9017c50fec73b59ee9f" aria-controls="R-expandcontent-3d6784f927b7a9017c50fec73b59ee9f" >
    <label class="expand-label" for="R-expand-3d6784f927b7a9017c50fec73b59ee9f" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-3d6784f927b7a9017c50fec73b59ee9f" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">//</span>到这步后我们可以给扩展分区分配逻辑分区<span style="color:#960050;background-color:#1e0010">，</span>分配时逻辑分区用l命令<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    l
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    l
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>G</span></span></code></pre></div></div>
</div></p>
<h3 id="查看磁盘情况与磁盘格式化">查看磁盘情况与磁盘格式化</h3>
<ul>
<li>（1）查看系统中的新硬盘：<strong><code>ls /dev/sd*</code></strong></li>
<li>（2）查看分区：<code>fdisk –l /dev/sda</code></li>
<li>（3）创建主分区：<strong><code>fdisk /dev/sdc</code></strong></li>
<li>（4）创建扩展分区：输入n,再输入e</li>
<li>（5）创建逻辑分区: 输入n,再输入l</li>
<li>（6）修改分区类型</li>
<li>（7）格式化分区：
<ul>
<li><strong><code>mkfs –t ext4 /dev/sdc1</code></strong> 还可以写成**<code>mkfs.ext4 /dev/sdc1</code>**</li>
<li>格式化交换分区略有不同，使用命令 <strong>mkswap</strong> ,例如： <code>mkswap dev/sdb2</code></li>
</ul>
</li>
<li>（8）磁盘检查命令：<code>fsck –t ext4 /dev/sdc1</code>
<ul>
<li><code>badblocks /dev/sdb5</code></li>
</ul>
</li>
<li>（9）查看磁盘使用情况 <code>df</code>,或使用<code>df -h</code>输出更易于查看。</li>
</ul>
<p>上面的-t意思是参数TYPE的意思，后面接ext4()、vfat(FAT32)、ntfs()等，</p>
<h3 id="挂载文件系统mount">挂载文件系统：mount</h3>
<ul>
<li>1、 <strong>挂载硬盘分区：</strong>
<ul>
<li>步骤1：mkdir /usr/music</li>
<li>步骤2：mount /dev/sdc5 /usr/music</li>
</ul>
</li>
<li>2、 <strong>挂载光驱：</strong>
<ul>
<li>步骤1：mkdir /mnt/cdrom</li>
<li>步骤2：mount /dev/cdrom /mnt/cdrom</li>
</ul>
</li>
<li>3、 <strong>挂载U盘：</strong>
<ul>
<li>步骤1：mkdir /mnt/usb</li>
<li>步骤2：mount /dev/sdd1 /mnt/usb</li>
</ul>
</li>
<li>4、 <strong>挂载Windows下的C盘</strong> （FAT32格式）：
<ul>
<li>步骤1：mkdir /mnt/dosc</li>
<li>步骤2：mount -t vfat /dev/sda1 /mnt/dos</li>
</ul>
</li>
</ul>
<p><strong>注意：</strong> C盘必须已经被格式化为FAT32格式。</p>
<h3 id="显示系统内所有已经挂载的文件系统">显示系统内所有已经挂载的文件系统</h3>
<p><strong>mount</strong>
不带任何参数执行mount命令，则会显示当前系统中已经挂载的所有的文件系统列表。</p>
<h3 id="卸载设备umount">卸载设备：umount</h3>
<p>格式： umount &lt;设备名或挂载点&gt;</p>
<p>说明：卸载指定的设备，既可以使用设备名也可以使用挂载点。</p>
<p>举例： # umount /dev/cdrom</p>
<h3 id="自动挂载文件系统etcfstab">自动挂载文件系统：/etc/fstab</h3>
<p>每条记录由6个字段组成。</p>
<p>1.设备名称
2.设备挂载点
3.文件系统类型
4.挂载选项
5.是否备份
6.自检顺序</p>
<p>如果想要系统自动挂载/dev/sdc5分区，可在<code>/etc/fstab</code>文件添加下面这行：</p>
<p><code>/dev/sdc5 /usr/music ext4 defaults 0 0</code></p>
<p><strong>注意</strong>:由于fstab文件非常重要，如果这个文件有错误，就可能会造成系统不能正常启动。因此向fstab文件中添加数据时应非常小心。修改完该文件后务必使用<code>mount -a</code>命令测试有没有错误。</p>
<h3 id="磁盘配额">磁盘配额</h3>
<p>以sdb1为例</p>
<p>第一步：先配置sdb磁盘，然后挂载sdb1磁盘</p>
<p>第二步：使用quotaon /sdb1/生成aquota.group和aquota.user文件</p>
<p>第三步：对用户或用户组进行磁盘限制,例如：edquota -u user1，然后会进入一个文件，文件里的0表示禁用，在里面可以设置创建文件个数或文件大小的软限制、硬限制；</p>
<p>第四步：我们登录user1，在/sdb/目录下创建文件，使用 <code>db if=/dev/zero of=/sdb1/test/ bs=1k count=10</code>这条命令进行测试，这是一个写文件大小的命令，这样可以快速测试文件大小的软限制和硬限制；</p>
<p>第五步：子里面建文件，检验创建文件个数的软限制和硬限制；</p>
<p>第六步: 可以使用repquota -u查看目录的情况；</p>
<p>第七步：关闭磁盘匹配额，quotatoff /sdb1/</p>
<h2 id="linux编程">Linux编程</h2>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 10</div>
<h1 id="10微信小程序">10.微信小程序</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/10.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a><p>附件</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">10.微信小程序 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%BE%AE%E4%BF%A1/">微信</a></li>
  </ul>
</div>
            </header>
<h1 id="基础知识">基础知识</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b4-%E6%8B%93%E5%B1%95%E7%AC%94%E8%AE%B0/">B4-拓展笔记</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 11</div>
<h1 id="11哲学">11.哲学</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BF%83%E7%BB%8F/">心经</a><p>波若波多密的意思 波若：彼岸 波多：抵达（渡） 意思是抵达彼岸 波若波多密的方法 布施 财布施：用钱去帮助亲人或他人 法布施：如教师的职业，教授别人知识 无</p></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%AF%AD%E8%A8%80%E6%98%AF%E6%B2%A1%E6%9C%89%E8%BE%B9%E7%95%8C%E7%9A%84/">思想的边界</a><p>序言 我前几天看见篇文章说现在的一些科学是建立几句假设之上的，这几句假设就像悬空寺下的几个柱子，撑起了几百年的悬空寺，甚至在以后更长的时间里起</p></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BA%84%E5%AD%90%E4%B9%8B%E9%81%93/">庄子之道</a><p>今天通过王德峰老师的视频课来进一步的了解《庄子》的哲学之道，推荐看曹楚基注释的《庄子》。 行无为而知避害，避害就是避开人为，像自然灾害不在道家</p></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a><p>一 从前的一切唯物主义（包括费尔巴哈的唯物主义）的主要缺点是：对对象、现实、感性，只是从客体的或者直观的形式去理解，而不是把它们当作感性的人的</p></li>
</ul>
<p>在我个人看来中国的哲学重在修心，探讨入世出世，为人处世的哲学问题，而相比于西方的哲学，我觉得中国的哲学更贴近与生活，人的内心变化影响着人的生活，西方哲学注重探讨自然界的规律。所以我有时也很能理解为什么科技革命发生在西方，而不是我们中国，西方哲学下的社会似乎总能带来一些新东西，有时候会让你感觉到它带来了不属于这个世界的新事物，最典型的就是科技的发展带来的一些新事物。但这样的看法看待中国哲学和西方哲学还是太片面了，在哲学的大集合里，哲学主要还是为人服务的“ <strong>工具</strong> ”，哪个顺手我就用哪一个，哪个能帮我与事物更好的打交道，我就用哪个。</p>
<p>学哲学是为了了解自己，看透世界，这就是当下我觉得学哲学的意义。</p>
<p>学中国的哲学不是为了出家，不是为了攀登看破红尘的高山。如果你不是很富有，家境也不怎么样，我劝你打消这个念头，父母辛苦把你养大，你跑去山里去修道？国家现在还没有富起来，你不投身于社会为祖国做贡献，幻想着修自己心中所谓的道？你能安心吗？我想学完中国哲学的人不应该是有这样的想法，而是有与社会权力打交道的巧招妙招，有为家为国做贡献的决心，有好好活下去的勇气。</p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">11.哲学 的子部分</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="心经">心经</h1>

<h2 id="波若波多密的意思">波若波多密的意思</h2>
<p>波若：彼岸
波多：抵达（渡）</p>
<p>意思是抵达彼岸</p>
<h2 id="波若波多密的方法">波若波多密的方法</h2>
<h3 id="布施">布施</h3>
<ul>
<li>财布施：用钱去帮助亲人或他人</li>
<li>法布施：如教师的职业，教授别人知识</li>
<li>无畏布施：例如医生的职业。救死扶伤；还有士兵。</li>
</ul>
<h3 id="持戒">持戒</h3>
<ul>
<li>律仪戒：</li>
<li>摄善法戒：行善戒。用权利与义务可以更好理解这个意思，权利告诉我们不可以做什么，做了就是侵犯别人的权利，义务就是告诉我们我们必须做什么。但也不要把这个意思理解死。</li>
<li>饶益有情戒：发现别人需要帮助并在自己力所能及的范围内去帮助别人。多方式帮助人或动物。</li>
</ul>
<h3 id="安忍">安忍</h3>
<ul>
<li>耐怨害忍：受到别人的伤害，诋毁等时要能忍。（这也是一种修行）需要辩证看待这件事</li>
<li>安受苦忍：人生是痛苦的，要能忍耐（又是一种修行）</li>
<li>谛察法忍：精研佛法</li>
</ul>
<h3 id="精进">精进</h3>
<p>勇猛精进，在佛学的修持上不畏惧、不退让、持之以恒</p>
<h3 id="禅定一种状态">禅定（一种状态）</h3>
<p>进入禅定这个状态，也叫缘（）缘起，无漏智，断烦恼，证真如；</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%84%91%E6%B4%9E/">脑洞</a></li>
  </ul>
</div>
            </header>
<h1 id="思想的边界">思想的边界</h1>

<h2 id="序言">序言</h2>
<p>我前几天看见篇文章说现在的一些科学是建立几句假设之上的，这几句假设就像悬空寺下的几个柱子，撑起了几百年的悬空寺，甚至在以后更长的时间里起立不到。这是让我比较惊讶的地方。科学是需要建立在假设之上并被证实的学科，一说到科学我们能想到严谨，严密等等，但在哲学上我认为不需要向科学那样的严谨，哲学对于我这样水平的人而言是天马行空的乐园，在一开始我觉得讲出来的东西是给人理解的，那么你讲的首先就要符合常识，违背基本常识的东西很难让人有兴趣或去理解，但假设往往不被我们常识说束缚，正是假设不被常识所束缚，它有了更多的可能，所以我在建立自己的“悬空寺”的时候，也需要这种不被束缚的假设，为此我会尽量讲人话，其实我也没有不讲人话的能力。</p>
<h2 id="解释世界还是改造世界">解释世界还是改造世界？</h2>
<p>“哲学家们只是以不同的方式解释世界，问题在于改变世界。”马克思在1842年加入莱茵报，最初作为撰稿人，后来在同年10月成为主编。在马克思的领导下，莱茵报开始关注政治和思想问题，尤其是言论自由和审查制度。</p>
<p>马克思曾在莱茵报上发表《关于林木盗窃法的辩论》一文，这篇文章反映了马克思对当时普鲁士法律和社会现实的深刻批判。文章的背景是普鲁士政府为了保护林木所有者的私人财产，提出了一项新的林木盗窃法案，该法案将捡拾枯枝的行为定性为盗窃，并规定了严厉的惩罚措施。</p>
<p>在当时的普鲁士，由于资本主义的发展，公共资源被私有化，普通民众的生活变得更加困难。捡拾枯枝对于许多贫苦农民来说是一种生存手段，但新法案的通过使得这一行为成为了犯罪。马克思在文章中强烈抨击了这种立法，他认为法律应该代表公众利益，而不是仅仅维护少数林木所有者的私人利益。</p>
<p>马克思在文章中指出，捡拾枯枝与盗窃林木在本质上是不同的行为。捡拾枯枝是自然赋予贫苦农民的权利，而盗窃林木则是对林木所有者财产的侵犯。他批评立法者忽视了这一区别，将两者混为一谈，从而使得法律成为了维护私人利益的工具。马克思进一步指出，法律的公正性和合理性被私人利益所侵蚀，这不仅损害了贫苦大众的利益，也违背了法律应有的公正精神。</p>
<p>马克思还在莱茵报上发表了如《评普鲁士最近的书报检查令》等文章，展示了他对言论自由的坚定支持。然而，莱茵报的激进立场引起了普鲁士政府的不满。政府认为莱茵报的文章威胁到了国家的稳定，特别是马克思对政府政策的批评和对民主自由的呼声。1843年3月31日，普鲁士政府最终决定查封莱茵报。</p>
<p>理论不能只停留在书本上，而是因该走到实践中去实现理论的价值，检验理论的真理性。即使马克思当时的理由在充分，也很难得到普鲁士政府的认同，因为他面对的是资本一方，在资本面前生产资料私有化，在这件事上普鲁士资本家们就像在经济危机中资本家一样，他们宁愿把牛奶导入河流，也不会把牛奶分给贫苦的人们，莱茵报的查封对马克思产生了深远的影响。它不仅标志着他与普鲁士政府的直接冲突，也促使他进一步深化了对资本主义社会和政治制度的批判。这一时期的经历，为马克思后来发展历史唯物主义和马克思主义理论奠定了基础。</p>
<p>解释世界为我们的言论提供了可靠的依据，然而仅仅有解释权似乎是远远不够的，因为世界是人的世界，社会是由人所主导的，由于人的活动而发展的，有人构建起来的社会影响着生活在这个时代的人的行为，他们的解释权也可能会被构建的社会说淹没，然而改变这一局面却也不是不可能，这为向马克思这样的伟人留下了通往改变世界的道路。</p>
<p>哥白尼的日心说起始于16世纪，这一理论的提出标志着天文学和科学史上的一个重大转折点。他在1543年出版的《天体运行论》（De revolutionibus orbium coelestium）中提出了日心说。在这本书中，哥白尼提出太阳是宇宙的中心，而地球和其他行星围绕太阳运行。这一理论挑战了当时普遍接受的地心说，即认为地球是宇宙的中心，其他天体围绕地球旋转。哥白尼解决了太阳和地球的是如何运动的问题，也得出太阳绕着地球转，这里在解释太阳实际运行的状况，解释这个太阳与地球运动是什么样子的，这就是解释世界。</p>
<p>哥白尼的日心说不但解释了世界，同时也在实践中实现了他的价值，但这或许与他的科学属性秘密相关，因为科学总要在实践中得到证实。但是我们生活在现实世界中往往不会像科学家那么做。</p>
<p>出自中国古典文学《列子》的《两小儿辩日》中讲述了有两个小孩争辩太阳大小、远近的故事，一个小孩认为早晨的太阳看起来更大，所以应该是更近的；另一个小孩则认为中午的太阳更热，所以应该是更近的。两个小孩各自通过视觉观察到的和自身感觉到的，做出了自己对不同时间段太阳大小、远近的理解，其实本质上是解释世界，但这部分没有改变世界的部分吗，答案是否定的，这样的经验主义在当时的社会或对现在的一部分的人而言是指导生活的方式。</p>
<p>两小儿辩日是一种经验主义，这种理解与改造世界的例子更贴近生活，在生活中我们不必追究太阳移向南回归线，还是移向北回归线，地球在自传，且还在绕着太阳公转等等问题，我们只凭借自己所能感觉到的，所能看到的理解世界，这是更为真实而更被大众所接收，并用来指导生活的一种行为。但是这种理解与改变世界的方式正在被慢慢的拆解与重构，这不意味着我们失去真实，反而是到达另一个高度。解释世界与改造世界的关系不是用“还是”来连接并把问题抛出，而是用“与”来连接，让你去理解与在这中理解下做出改变。</p>
<h2 id="如何破除前进道路山的弥瘴">如何破除前进道路山的弥瘴</h2>
<p><strong>众生皆有相</strong>，把这个相拿到掉你才能看众生的真面目，举一个简单的例子，你走在马路上，看到地上有一部iPhone的手机，在你面前它是一部手机，还是别的东西？你可能会回答就是一部手机啊，或者你会加一个条件它是比别的手机高一档的苹果手机，那么接下来你会捡起来占为己有（虽然对大部分人来说捡到占为己有也没有），还是寻找失主呢？iPhone手机的相就是——同样是手机他却有着别的手机所没有的诱惑力，把这个东西拿掉他与别的手机是一样的，甚至你可以说就是一部会发亮的电子产品。</p>
<p>前几天我在准备教资考试的时候，在图书馆学了一天，结果晚上回答宿舍的时候因为迷上B站上以为UP讲解的西游记视频，而看了一整晚，第二天没有精神所以就没有再去准备教资的考试，而是荒废了一天，那么我本是可以不看，按时睡觉然后第二天正常去学习的，那为什么们能实现呢？有人会说这不是你自律的问题嘛！这不是你自我约束力不够导致的嘛！我想也是，也不是，因为导致我们约束力不够的原因绝不是自己本身就先天决定的，而是后天造成的，基于这一点可以认为是所接受的事物引起的，那么这件事就必定有它的相，那么在这里的相是什么呢？在我看来相往往不是对比得出来的，因为我们遇到的事情大多都太复杂了，这相我们只能靠悟去了解，悟这种方式我也讲不了，但在前天这件事事上，我能悟的是视频是我前往教资上的弥瘴，而弥瘴的相是他的内容有我能get到的，有我一直想了解的，那怎么破除弥瘴呢？<strong>关键就在拿掉这个相，把内容拿掉，把感兴趣的拿掉，这视频还有，但是我却没有了，视频的内容它吸引我的点这些东西我肯定是没办法左右的，我能左右的只有视频映射到我内心的相</strong>。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%93%B2%E5%AD%A6/">哲学</a></li>
    <li><a class="term-link" href="./tags/%E5%BA%84%E5%AD%90/">庄子</a></li>
  </ul>
</div>
            </header>
<h1 id="庄子之道">庄子之道</h1>

<p>今天通过王德峰老师的视频课来进一步的了解《庄子》的哲学之道，推荐看曹楚基注释的《庄子》。</p>
<p>行无为而知避害，避害就是避开人为，像自然灾害不在道家讨论的范围内。避害的方法有两个:</p>
<ul>
<li>一是天下的人为的事情辨认出来。</li>
<li>二是自己不参与任何人为的事情。不参与是一种人生态度。</li>
</ul>
<p><strong>一、如何辨别人为？</strong></p>
<p><strong>二、如何不参与人为之？</strong></p>
<p>庄子行于山中，见大木枝叶盛茂。伐木者止其旁而不取也。问其故，曰:“无所可用。”庄子曰:“此木以不材得终其天年。”夫子出于山。舍于故人之家。故人喜命竖子杀雁而烹之。竖子请曰:“其一能鸣，其一不能鸣，请奚杀?”主人曰:“杀不能鸣者。”明日弟子问于庄子曰:“昨日山中之木以不材得终其天年，今主人之雁以不材死，先生将何处?”庄子笑曰:“周将处夫材与不材之间。材与不材之间，似之而非也，故未免乎累。若夫乘道德<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>而浮游<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>则不然<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>。   <em>——《庄子山木篇》</em></p>
<p>全身避害，终究避不了害，怎么办呢？</p>
<p>列子有言：生非贵之所能存，生非爱之所能厚。</p>
<p>老子的给出的方法：贵以身为天下，若可寄天下;爱以身为天下，若可托天下<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>。</p>
<p>下面是原文： <strong>宠辱若惊，贵大患若身。</strong> 何谓宠辱若惊?宠为下，得之若惊，失之若惊，是谓宠辱若惊。何谓贵大患若身?吾所以有大患者，为吾有身，及吾无身，吾有何患?故贵以身为天下，若可寄天下;爱以身为天下，若可托天下。 ——《道德经》第十三章</p>
<hr>
<p>接下来讨论逍遥游与齐物论。前一篇将境界，后一篇讲道理，前一篇讲要达到哪一种境界，后一篇是如何讲达到这种境界。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-11335bed76002bb0b721cac3c72829e7" aria-controls="R-expandcontent-11335bed76002bb0b721cac3c72829e7" >
    <label class="expand-label" for="R-expand-11335bed76002bb0b721cac3c72829e7" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        《逍遥游》原文
    </label>
    <div id="R-expandcontent-11335bed76002bb0b721cac3c72829e7" class="expand-content">

<p>北冥有鱼，其名为鲲。鲲之大，不知其几千里也；化而为鸟，其名为鹏。鹏之背，不知其几千里也；怒而飞，其翼若垂天之云。是鸟也，海运则将徙于南冥。南冥者，天池也。《齐谐》者，志怪者也。《谐》之言曰：“鹏之徙于南冥也，水击三千里，抟扶摇而上者九万里，去以六月息者也。”野马也，尘埃也，生物之以息相吹也。天之苍苍，其正色邪？其远而无所至极邪？其视下也，亦若是则已矣。且夫水之积也不厚，则其负大舟也无力。覆杯水于坳堂之上，则芥为之舟；置杯焉则胶，水浅而舟大也。风之积也不厚，则其负大翼也无力。故九万里，则风斯在下矣，而后乃今培风；背负青天，而莫之夭阏者，而后乃今将图南。蜩与学鸠笑之曰：“我决起而飞，抢榆枋而止，时则不至，而控于地而已矣，奚以之九万里而南为？”适莽苍者，三餐而反，腹犹果然；适百里者，宿舂粮；适千里者，三月聚粮。之二虫又何知！小知不及大知，小年不及大年。奚以知其然也？朝菌不知晦朔，蟪蛄不知春秋，此小年也。楚之南有冥灵者，以五百岁为春，五百岁为秋；上古有大椿者，以八千岁为春，八千岁为秋。此大年也。而彭祖乃今以久特闻，众人匹之，不亦悲乎？</p>
<p>　　汤之问棘也是已：“穷发之北，有冥海者，天池也。有鱼焉，其广数千里，未有知其修者，其名为鲲。有鸟焉，其名为鹏，背若泰山，翼若垂天之云；抟扶摇羊角而上者九万里，绝云气，负青天，然后图南，且适南冥也。斥鷃笑之曰：‘彼且奚适也？我腾跃而上，不过数仞而下，翱翔蓬蒿之间，此亦飞之至也。而彼且奚适也？’”此小大之辩也。</p>
<p>　　故夫知效一官、行比一乡、德合一君、而征一国者，其自视也，亦若此矣。而宋荣子犹然笑之。且举世誉之而不加劝，举世非之而不加沮，定乎内外之分，辩乎荣辱之境，斯已矣。彼其于世，未数数然也。虽然，犹有未树也。夫列子御风而行，泠然善也，旬有五日而后反。彼于致福者，未数数然也。此虽免乎行，犹有所待者也。若夫乘天地之正，而御六气之辩，以游无穷者，彼且恶乎待哉？故曰：至人无己，神人无功，圣人无名。</p>
<p>尧让天下于许由，曰：“日月出矣，而爝火不息；其于光也，不亦难乎？时雨降矣，而犹浸灌；其于泽也，不亦劳乎？夫子立而天下治，而我犹尸之；吾自视缺然，请致天下。”许由曰：“子治天下，天下既已治也；而我犹代子，吾将为名乎？名者，实之宾也；吾将为宾乎？鹪鹩巢于深林，不过一枝；偃鼠饮河，不过满腹。归休乎君，予无所用天下为！庖人虽不治庖，尸祝不越樽俎而代之矣！”</p>
<p>　　肩吾问于连叔曰：“吾闻言于接舆，大而无当，往而不反。吾惊怖其言。犹河汉而无极也；大有径庭，不近人情焉。”连叔曰：“其言谓何哉？”曰：“藐姑射之山，有神人居焉。肌肤若冰雪，淖约若处子，不食五谷，吸风饮露，乘云气，御飞龙，而游乎四海之外；其神凝，使物不疵疠而年谷熟。吾以是狂而不信也。”连叔曰：“然。瞽者无以与乎文章之观，聋者无以与乎钟鼓之声。岂唯形骸有聋盲哉？夫知亦有之！是其言也犹时女也。之人也，之德也，将旁礴万物以为一，世蕲乎乱，孰弊弊焉以天下为事！之人也，物莫之伤：大浸稽天而不溺，大旱金石流，土山焦而不热。是其尘垢秕糠将犹陶铸尧舜者也，孰肯以物为事？”宋人资章甫而适诸越，越人断发文身，无所用之。尧治天下之民，平海内之政，往见四子藐姑射之山，汾水之阳，窅然丧其天下焉。</p>
<p>　　惠子谓庄子曰：“魏王贻我大瓠之种，我树之成，而实五石。以盛水浆，其坚不能自举也。剖之以为瓢，则瓠落无所容。非不呺然大也，吾为其无用而掊之。”庄子曰：“夫子固拙于用大矣。宋人有善为不龟手之药者，世世以洴澼絖为事。客闻之，请买其方百金。聚族而谋曰：‘我世世为洴澼絖，不过数金，今一朝而鬻技百金，请与之。’客得之，以说吴王。越有难，吴王使之将，冬，与越人水战，大败越人。裂地而封之。能不龟手一也，或以封，或不免于洴澼絖，则所用之异也。今子有五石之瓠，何不虑以为大樽，而浮于江湖，而忧其瓠落无所容？则夫子犹有蓬之心也夫！”</p>
<p>　　惠子谓庄子曰：“吾有大树，人谓之樗。其大本拥肿而不中绳墨，其小枝卷曲而不中规矩，立之涂，匠者不顾。今子之言大而无用，众所同去也。”庄子曰：“子独不见狸狌乎？卑身而伏，以候敖者；东西跳梁，不辟高下；中于机辟，死于罔罟。今夫斄牛，其大若垂天之云。此能为大矣，而不能执鼠。今子有大树，患其无用，何不树之于无何有之乡，广莫之野，彷徨乎无为其侧，逍遥乎寝卧其下。不夭斤斧，物无害者，无所可用，安所困苦哉！”</p>
</div>
</div>
<p>轻物重生————老子:反者道之动，以不变应万变————庄子:齐生死一物我</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>道德：事物的德性。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>浮游：即物物而不物于物。意思是说，做一件事情，不被这件事情所支配。&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>若夫乘道德而浮游则不然。按照事物的德性去做该做的事情，但又不被事物所支配。&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>看重自己的身体把它等同于看重天下，于是就可以把身体寄托于天下（这里这么说的原因是如果你爱惜自己的身体向把一艘船藏到山沟里一样，不让人发现，但第二天还是被人偷走了一样，如果你把船藏于天下，那么不管怎么样船都不会被偷走。）。爱惜自己身体等同于爱惜天下，于是可以把它寄托于天下。&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88/">费尔巴哈</a></li>
    <li><a class="term-link" href="./tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E5%93%B2%E5%AD%A6/">马克思主义哲学</a></li>
    <li><a class="term-link" href="./tags/%E5%93%B2%E5%AD%A6/">哲学</a></li>
  </ul>
</div>
            </header>
<h1 id="费尔巴哈提纲">费尔巴哈提纲</h1>

<p>一</p>
<p>　　从前的一切唯物主义（包括费尔巴哈的唯物主义）的主要缺点是：对对象、现实、感性，只是从客体的或者直观的形式去理解，而不是把它们当作感性的人的活动，当作实践去理解，不是从主体方面去理解。因此，和唯物主义相反，能动的方面却被唯心主义抽象地发展了，当然，唯心主义是不知道现实的、感性的活动本身的。费尔巴哈想要研究跟思想客体确实不同的感性客体：但是他没有把人的活动本身理解为对象性的［gegenständliche］活动。因此，他在《基督教的本质》中仅仅把理论的活动看作是真正人的活动，而对于实践则只是从它的卑污的犹太人的表现形式去理解和确定。因此，他不了解“革命的”、“实践批判的”活动的意义。</p>
<p>二</p>
<p>　　人的思维是否具有客观的［gegenständliche］真理性，这不是一个理论的问题，而是一个实践的问题。人应该在实践中证明自己思维的真理性，即自己思维的现实性和力量，自己思维的此岸性。关于思维——离开实践的思维——的现实性或非现实性的争论，是一个纯粹经院哲学的问题。</p>
<p>三</p>
<p>　　关于环境和教育起改变作用的唯物主义学说忘记了：环境是由人来改变的，而教育者本人一定是受教育的。因此，这种学说一定把社会分成两部分，其中一部分凌驾于社会之上。</p>
<p>　　环境的改变和人的活动或自我改变的一致，只能被看作是并合理地理解为革命的实践。</p>
<p>四</p>
<p>　　费尔巴哈是从宗教上的自我异化，从世界被二重化为宗教世界和世俗世界这一事实出发的。他做的工作是把宗教世界归结于它的世俗基础。但是，世俗基础使自己从自身中分离出去，并在云霄中固定为一个独立王国，这只能用这个世俗基础的自我分裂和自我矛盾来说明。因此，对于这个世俗基础本身应当在自身中、从它的矛盾中去理解，并在实践中使之革命化。因此，例如，自从发现神圣家族的秘密在于世俗家庭之后，世俗家庭本身就应当在理论上和实践中被消灭。</p>
<p>五</p>
<p>　　费尔巴哈不满意抽象的思维而喜欢直观；但是他把感性不是看作实践的、人的感性的活动。</p>
<p>六</p>
<p>　　费尔巴哈把宗教的本质归结于人的本质。但是，人的本质不是单个人所固有的抽象物，在其现实性上，它是一切社会关系的总和。</p>
<p>　　费尔巴哈没有对这种现实的本质进行批判，因此他不得不：</p>
<p>　　（１）撇开历史的进程，把宗教感情固定为独立的东西，并假定有一种抽象的——孤立的——人的个体。</p>
<p>　　（２）因此，本质只能被理解为“类”，理解为一种内在的、无声的、把许多个人自然地联系起来的普遍性。</p>
<p>七</p>
<p>　　因此，费尔巴哈没有看到，“宗教感情”本身是社会的产物，而他所分析的抽象的个人，是属于一定的社会形式的。</p>
<p>第八条</p>
<p>全部社会生活在本质上是实践的。凡是把理论引向神秘主义的神秘东西，都能在人的实践中以及对这个实践的理解中得到合理的解决。</p>
<p>九</p>
<p>直观的唯物主义，即不是把感性理解为实践活动的唯物主义至多也只能达到对单个人和市民社会的直观。</p>
<p>十</p>
<p>　　 旧唯物主义的立脚点是市民社会，新唯物主义的立脚点则是人类社会或社会的人类。</p>
<p>十一</p>
<p>　　哲学家们只是用不同的方式解释世界，问题在于改变世界</p>
<p>自我异化的解释</p>
<p>类力量：</p>
<p>肉体存在于感性存在
随地大小便是前者，上公厕表示后者</p>
<p>资本主义的三大作用
推动世界史的形成，
为人类的全面发展准备物质资料</p>
<p>人是人感性活动的产物，人类与自然界打交道
人的类存在基础是感性存在
感性的存在就是把自然的东西变成人的东西，就是变成社会的存在，就像美，美的感觉的</p>
<p>人不仅是感性的对象，还是感性的活动的产物</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">费尔巴哈提纲 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a></li>
  </ul>
</div>
            </header>
<h1 id="如何理解费尔巴哈提纲的主要含义">如何理解费尔巴哈提纲的主要含义？</h1>

<p>费尔巴哈的唯物主义：
费尔巴哈试图将宗教世界归结于其世俗基础，但他没有意识到世俗基础本身也存在问题。他试图通过直观的感性来理解世界，但没有将人的感性活动理解为实践的活动。费尔巴哈的唯物主义停留在了对感性客体的直观理解上，没有深入到人的实践活动和社会关系中去。</p>
<p>马克思的批判：
马克思在《关于费尔巴哈的提纲》中批判了费尔巴哈的唯物主义，指出其主要缺点在于没有从人的感性活动、即实践的角度去理解世界。马克思强调，人的本质不是抽象的、孤立的个体，而是一切社会关系的总和。他提出了历史唯物主义的观点，认为社会存在决定社会意识，物质生产方式是社会发展的基础。</p>
<p>实践的观点：
王德峰教授强调，马克思的实践观是其哲学的核心。实践不仅仅是物质生产活动，而是包括了人与人的社会关系建立和改变的活动。实践是社会生活的本质，是人与自然、人与社会相互作用的过程。通过实践，人们不仅创造物质财富，也在创造和改变社会关系。</p>
<p>真理的标准：
马克思认为，真理的标准不是理论的抽象推导，而是实践。人的思维是否具有客观的真理性，需要在实践中得到证明。实践是检验真理的唯一标准，这与旧唯物主义和唯心主义的观点形成了鲜明对比。</p>
<p>哲学的使命：
马克思提出，哲学家们不应该只是解释世界，而应该致力于改变世界。这表明，哲学不仅仅是理论的探讨，更重要的是要指导实践，推动社会的进步和变革</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 12</div>
<h1 id="12实战项目">12.实战项目</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/">贺青工程</a><p>志愿活动软件设计与开发设计一款可以参加志愿活动的小程序，其制作流程大致如下： 需求分析与规划 确定目标用户群体及其需求：考虑志愿者、活动组织者和</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">毕业设计</a><p>目录 运行环境 【ESP32学习】联网模块 ESP8266-01S上传数据到OneNet 收藏的一些资料 最终的操作结果 ESP32&amp;&amp;</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/">电赛</a><p>以下笔记皆基于HAL库。 新建STM32CubeMX工程步骤 创建工程中如果勾选MCO表示向外部输出时钟， 输出的是哪一个引脚可以查看，如下图。 外</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/">唛盟杯比赛详记</a><p>比赛说明 自己有幸参加这次唛盟杯的比赛，这次比赛流程如下： 一、报名时2024年1月1到31日本来是12月份但延期了。 二、培训时间，现在还不确定</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">12.实战项目 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 1</div>
<h1 id="贺青工程">贺青工程</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E5%B0%8F%E7%A8%8B%E5%BA%8Fui%E8%AE%BE%E8%AE%A1/">志愿活动软件设计与开发</a><p>设计一款可以参加志愿活动的小程序，其制作流程大致如下： 需求分析与规划 确定目标用户群体及其需求：考虑志愿者、活动组织者和管理员等不同角色的功能</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/">验收问题</a><p>页面美化验收 1.登录页面 2.首页&mdash;将志愿活动和活动时长数据放到轮播图下面 3.我的页面优化了吗？ 4.点击找回密码后，页面颜色不够美</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">贺青工程 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
    <li><a class="term-link" href="./tags/%E5%BE%AE%E4%BF%A1/">微信</a></li>
  </ul>
</div>
            </header>
<h1 id="志愿活动软件设计与开发">志愿活动软件设计与开发</h1>

<p>设计一款可以参加志愿活动的小程序，其制作流程大致如下：</p>
<h2 id="需求分析与规划">需求分析与规划</h2>
<p>确定目标用户群体及其需求：考虑志愿者、活动组织者和管理员等不同角色的功能需求。</p>
<p><strong>志愿者：</strong></p>
<ul>
<li><strong>注册/登录</strong>：志愿者可以通过手机号、邮箱或第三方账号进行注册和登录。</li>
<li><strong>个人中心</strong>：查看并编辑个人信息，包括姓名、联系方式、服务时长、参与过的活动记录等。</li>
<li><strong>活动浏览</strong>：查看活动列表，搜索感兴趣的服务项目，支持按地区、时间、类型筛选。</li>
<li><strong>活动报名</strong>：选择感兴趣的志愿活动进行报名，填写相关报名表单，并能收到报名成功或失败的反馈信息。</li>
<li><strong>签到打卡</strong>：参加活动时通过GPS定位、二维码扫描等方式进行签到和签退，记录服务时长。</li>
<li><strong>互动交流</strong>：可在活动详情页留言评论，与其他志愿者交流心得，也可以对已完成的活动进行评价。</li>
<li><strong>积分系统</strong>：根据参与活动的情况获取积分，可用于兑换礼品或其他激励。</li>
</ul>
<p><strong>活动组织者：</strong></p>
<ul>
<li><strong>活动发布</strong>：创建新的志愿活动，填写活动名称、地点、时间、内容描述、所需志愿者数量、技能要求等详细信息。</li>
<li><strong>活动管理</strong>：查看已发布的活动状态，审核志愿者报名申请，确认志愿者名单，发送通知消息给志愿者。</li>
<li><strong>数据统计</strong>：查看各项活动的报名人数、实际参与人数、总服务时长等统计数据。</li>
<li><strong>评价反馈</strong>：查阅志愿者对活动的评价和建议，以便改进后续活动组织。</li>
<li><strong>资源管理</strong>：上传活动相关的文档、图片等资源，管理活动物料。</li>
</ul>
<p><strong>管理员：</strong></p>
<ul>
<li><strong>用户管理</strong>：审核志愿者注册信息，处理用户投诉与咨询，维护用户账户安全。</li>
<li><strong>权限管理</strong>：分配不同的角色权限，如设置哪些用户可以发布活动、审核报名等。</li>
<li><strong>活动审批</strong>：对于某些大型或重要的活动，可能需要经过管理员审核后才能正式发布上线。</li>
<li><strong>系统配置</strong>：设置全局参数，如积分规则、活动类别等基础数据的增删改查。</li>
<li><strong>数据分析</strong>：获取平台整体运营数据，分析用户行为、活跃度以及志愿服务的整体状况，为决策提供依据。</li>
</ul>
<h3 id="功能列表梳理">功能列表梳理</h3>
<h4 id="活动浏览报名参与签到打卡服务时长记录通知公告评价反馈积分兑换等功能模块">活动浏览、报名参与、签到打卡、服务时长记录、通知公告、评价反馈、积分兑换等功能模块。</h4>
<ul>
<li>数据结构设计：定义数据库表结构，包括但不限于用户信息、活动信息、报名记录等。</li>
</ul>
<h2 id="原型设计与uiux设计">原型设计与UI/UX设计</h2>
<ul>
<li>创建低保真或高保真原型，展示小程序的主要界面布局及交互流程。</li>
<li>设计符合用户体验的UI界面，确保简洁易用且美观大方。</li>
</ul>
<h2 id="技术选型与开发环境搭建">技术选型与开发环境搭建</h2>
<ul>
<li>根据团队技术栈选择合适的开发平台，如微信小程序、支付宝小程序、百度小程序等。</li>
<li>搭建开发环境，安装所需的IDE工具（如微信开发者工具）及相关依赖库。</li>
</ul>
<h2 id="后端服务器开发">后端服务器开发</h2>
<ul>
<li>设计并实现后端API接口，处理用户的注册登录、活动发布与管理、报名审核等操作。</li>
<li>开发数据库系统，用于存储用户信息、活动数据等内容。</li>
</ul>
<h2 id="前端小程序开发">前端小程序开发</h2>
<ul>
<li>根据原型图编写前端页面代码，使用各小程序平台提供的组件和API进行功能开发。</li>
<li>实现用户认证、活动详情展示、报名表单提交、状态更新等功能。</li>
</ul>
<h2 id="测试与优化">测试与优化</h2>
<ul>
<li>单元测试：对各个功能模块进行独立测试，确保逻辑正确无误。</li>
<li>集成测试：模拟真实场景，测试整个应用的完整流程是否顺畅。</li>
<li>性能测试：检查在大量并发请求下系统的响应速度和稳定性。</li>
<li>用户体验测试：邀请部分目标用户试用，并根据反馈进行迭代优化。</li>
</ul>
<h2 id="上线部署与版本管理">上线部署与版本管理</h2>
<ul>
<li>将完成开发和测试的小程序上传至对应平台进行审核发布。</li>
<li>制定版本更新策略，持续收集用户反馈，定期更新优化软件。</li>
</ul>
<h2 id="后期维护与运营">后期维护与运营</h2>
<ul>
<li>定期检查系统性能，及时修复已知问题和潜在隐患。</li>
<li>对接新的需求，不断丰富和完善产品功能。</li>
<li>进行数据分析，了解用户行为，以数据驱动产品迭代优化。</li>
</ul>
<p>这份文件是关于2024年全国大学生电子设计竞赛信息科技前沿专题赛（瑞萨杯）的通知。以下是比赛的主要信息和需要注意的事项：</p>
<ol>
<li>
<p><strong>组织领导</strong>：</p>
<ul>
<li>竞赛由全国大学生电子设计竞赛组委会组织。</li>
<li>分组委会负责实施、协调和宣传工作。</li>
<li>瑞萨公司提供技术支持和赛前培训。</li>
<li>采用“分区初选+全国决赛”的模式，分为东区、南区、西区和北区。</li>
</ul>
</li>
<li>
<p><strong>参赛学校与参赛队</strong>：</p>
<ul>
<li>报名采用“选拔+邀请”方式。</li>
<li>自动获得全国决赛资格的学校需在规定时间内上报参赛名单。</li>
<li>参赛学生必须是全日制在校本科生。</li>
<li>每支参赛队由3名学生组成，可配备1名指导教师。</li>
</ul>
</li>
<li>
<p><strong>命题与竞赛形式</strong>：</p>
<ul>
<li>主题为“物联网+数字经济”，涉及非图形图像信息处理及测控技术。</li>
<li>初选和决赛作品需基于指定的瑞萨公司硬件平台。</li>
<li>竞赛采用开放式，不限定竞赛场地。</li>
</ul>
</li>
<li>
<p><strong>竞赛时间安排</strong>：</p>
<ul>
<li>竞赛时间为2024年2月26日至7月31日。</li>
<li>报名截止日期为2024年3月15日。</li>
<li>分区初选和全国决赛的具体时间安排详见文件。</li>
</ul>
</li>
<li>
<p><strong>竞赛报名</strong>：</p>
<ul>
<li>报名需提交学校竞赛负责人、参赛学生名单和指导教师信息。</li>
<li>报名表需签字盖章后发送给各区联络员。</li>
<li>不收取报名费。</li>
</ul>
</li>
<li>
<p><strong>竞赛培训</strong>：</p>
<ul>
<li>组委会将联合瑞萨公司开展线上培训。</li>
<li>提供参赛学生在线交流论坛。</li>
<li>瑞萨开发套件及相关软件将在指定时间发放。</li>
</ul>
</li>
<li>
<p><strong>中期检查</strong>：</p>
<ul>
<li>组委会将在2024年6月中上旬进行中期检查和巡视。</li>
</ul>
</li>
<li>
<p><strong>竞赛评审</strong>：</p>
<ul>
<li>分区初选和全国决赛的评审工作由专家组完成。</li>
<li>评审要求包括作品简介、中英文设计报告和实物作品。</li>
<li>评审时间安排和具体要求详见文件。</li>
</ul>
</li>
<li>
<p><strong>评奖与颁奖</strong>：</p>
<ul>
<li>各区评审组评选一、二、三等奖。</li>
<li>全国评审专家组评选全国一、二、三等奖。</li>
<li>颁奖大会在评审结束后举行。</li>
</ul>
</li>
<li>
<p><strong>联系方式</strong>：</p>
<ul>
<li>提供了竞赛组委会秘书处、专题赛报名联络员以及各区联络员的联系方式。</li>
</ul>
</li>
</ol>
<p><strong>注意事项</strong>：</p>
<ul>
<li>确保参赛学生符合资格，且在竞赛期间保持在校状态。</li>
<li>按时完成报名和提交作品。</li>
<li>遵循评审要求，包括作品的提交格式和内容。</li>
<li>确保参赛作品的原创性，避免抄袭。</li>
<li>关注官方通知，以获取最新的培训、评审和颁奖信息。</li>
<li>妥善保管瑞萨开发套件，如有质量问题及时联系瑞萨公司更换。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></li>
</ul>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
    <li><a class="term-link" href="./tags/%E5%BE%AE%E4%BF%A1/">微信</a></li>
  </ul>
</div>
            </header>
<h1 id="验收问题">验收问题</h1>

<h2 id="页面美化验收">页面美化验收</h2>
<ul>
<li><input disabled="" type="checkbox"> 1.登录页面</li>
<li><input disabled="" type="checkbox"> 2.首页&mdash;将志愿活动和活动时长数据放到轮播图下面</li>
<li><input disabled="" type="checkbox"> 3.我的页面优化了吗？</li>
<li><input disabled="" type="checkbox"> 4.点击找回密码后，页面颜色不够美观，该页面应符合小程序主色调</li>
<li><input disabled="" type="checkbox"> 5.首页&mdash;-为你推荐的志愿活动适当放大活动名称字体，调整活动名称下面的显示信息，请适当调整字体大小、行距、间距。</li>
<li><input disabled="" type="checkbox"> 6.贺院学子一直在行动调整这个模块数字、志愿活动、志愿者等字段的字体大小，现在看起来感觉数字和文字很随意，请适当调整。</li>
<li><input disabled="" type="checkbox"> 7.让“无权限”字段直接显示在页面上，字体背景设置为透明，而不是像现在这样看起来像一个按键。</li>
<li><input disabled="" type="checkbox"> 8.我的组织页面中，显示的组织之间间距太近，请适当调整。</li>
</ul>
<h2 id="小程序功能验收">小程序功能验收</h2>
<ul>
<li><input disabled="" type="checkbox"> 1.不同的登录方式有问题吗？</li>
<li><input disabled="" type="checkbox"> 2.<strong>签到开始时间为活动开始前半小时</strong>，（现在是没到签到时间不可以签到，精确度很高）</li>
<li><input disabled="" type="checkbox"> 3.活动结束后不能进行签退，但是活动发起者可以对其进行补签，补签时长可以自定，自定义时长不能超过该志愿者从开始签到至活动结束的时长。</li>
<li><input disabled="" type="checkbox"> 4.服务时长为签到签退时间差吗？</li>
<li><input disabled="" type="checkbox"> 5.签到签退需要在活动地点三公里以内才能进行。</li>
<li><input disabled="" type="checkbox"> 6.活动发起者发布活动后或得四位数数字密码，该密码在志愿者点击签到或签退时弹出小弹窗，输入密码后实现签到签退。</li>
<li><input disabled="" type="checkbox"> 7.当成员加入活动时，活动发起者能够一键通过成员的审核</li>
<li><input disabled="" type="checkbox"> 8.发现页面上方，将日期和距离归纳在一个板块“排序”</li>
<li><input disabled="" type="checkbox"> 9.当我登录后点击返回，返回到的页面是上一次的登录页面，需要一步一步返回，请设置为登陆成功后直接跳转到我的页面。</li>
<li><input disabled="" type="checkbox"> 10.</li>
<li><input disabled="" type="checkbox"> 11.</li>
</ul>
<p><strong>今晚检查有三，目前都没问题，如下</strong>：</p>
<ul>
<li>签到签退，</li>
<li>上传、查看、删除pdf和图片，</li>
<li>部分页面正常显示，</li>
</ul>
<p><strong>一些小问题</strong> ：</p>
<ul>
<li>
<p>后台修改开始时间和截止时间后，虽然能正常显示，但修改后不起效果，假设报名时间为12：00，过了12点整后修改为13：00，那么活动还是无法参与。</p>
</li>
<li>
<p>组织详情页不显示所写简介
<a href="#R-image-425236c6d2bcdb22f9cae57baadbb94d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-425236c6d2bcdb22f9cae57baadbb94d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a> <a href="#R-image-6bde099971481a76a19638d0421b60a0" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6bde099971481a76a19638d0421b60a0"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>参与人次之前说是等于组织活动参与人数之和，但是我这边看了好像与组织成员相等，并不是活动人数之和，而是总的组织成员人数，你们那边也看看吧。</p>
</li>
</ul>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/onenet/">OneNet</a></li>
  </ul>
</div>
            </header>
<h1 id="毕业设计">毕业设计</h1>

<p><a href="#%E8%81%94%E7%BD%91%E6%A8%A1%E5%9D%97">目录</a></p>
<ul>
<li><a href="#%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83">运行环境</a></li>
<li><a href="#esp32%E5%AD%A6%E4%B9%A0%E8%81%94%E7%BD%91%E6%A8%A1%E5%9D%97">【ESP32学习】联网模块</a>
<ul>
<li><a href="#esp8266-01s%E4%B8%8A%E4%BC%A0%E6%95%B0%E6%8D%AE%E5%88%B0onenet">ESP8266-01S上传数据到OneNet</a>
<ul>
<li><a href="#%E6%94%B6%E8%97%8F%E7%9A%84%E4%B8%80%E4%BA%9B%E8%B5%84%E6%96%99">收藏的一些资料</a></li>
<li><a href="#%E6%9C%80%E7%BB%88%E7%9A%84%E6%93%8D%E4%BD%9C%E7%BB%93%E6%9E%9C">最终的操作结果</a></li>
</ul>
</li>
<li><a href="#esp32esp8266-12e%E8%BF%9E%E6%8E%A5onenet%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">ESP32&amp;&amp;ESP8266-12E连接ONeNet参考资料</a>
<ul>
<li><a href="#onenet%E4%BA%91%E5%B9%B3%E5%8F%B0%E6%8A%A5%E9%94%99-protocolmqttoffline_time2024-07-15-160149977offline_reasoncloseduetoprotoerror%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3">ONeNet云平台报错： {&ldquo;protocol&rdquo;:&ldquo;MQTT&rdquo;,&ldquo;offline_time&rdquo;:&ldquo;2024-07-15 16:01:49.977&rdquo;,&ldquo;offline_reason&rdquo;:&ldquo;CloseDueToProtoError&rdquo;}怎么解决？</a></li>
</ul>
</li>
<li><a href="#app%E8%BF%9E%E6%8E%A5onenet">APP连接ONeNet</a>
<ul>
<li><a href="#json%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%E6%AD%A5%E9%AA%A4">json数据解析步骤</a></li>
</ul>
</li>
<li><a href="#stm32%E7%94%B5%E8%84%91%E6%A8%A1%E6%8B%9Fesp32esp8266%E9%80%9A%E4%BF%A1">STM32+电脑(模拟ESP32)+ESP8266通信</a></li>
<li><a href="#%E8%AE%BE%E5%A4%87%E7%83%AD%E7%82%B9%E9%85%8D%E7%BD%91%E6%8A%80%E6%9C%AFwifimanager">设备热点配网技术——WIFIManager</a>
<ul>
<li><a href="#%E6%8A%A5%E9%94%99error-wifi_country_t-does-not-name-a-type-const-wifi_country_t-wm_country_usus111wifi_country_policy_auto">报错：error: &lsquo;wifi_country_t&rsquo; does not name a type const wifi_country_t WM_COUNTRY_US{&ldquo;US&rdquo;,1,11,WIFI_COUNTRY_POLICY_AUTO};</a></li>
</ul>
</li>
<li><a href="#%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98">通信过程中遇到的问题</a></li>
<li><a href="#%E8%BF%99%E4%B8%80%E9%83%A8%E5%88%86%E6%89%80%E7%94%A8%E5%88%B0%E7%9A%84%E8%B5%84%E6%96%99%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80">这一部分所用到的资料下载地址</a></li>
<li><a href="#%E5%AE%9E%E9%AA%8Cspiffs%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BD%BF%E7%94%A8">【实验】SPIFFS文件系统的使用</a></li>
<li><a href="#%E5%AE%9E%E9%AA%8Ctcpudp%E9%80%9A%E4%BF%A1%E5%AE%9E%E9%AA%8C">【实验】TCP/UDP通信实验</a></li>
</ul>
</li>
<li><a href="#stm32f4%E5%AD%A6%E4%B9%A0%E6%91%84%E5%83%8F%E5%A4%B4">【STM32F4学习】摄像头</a>
<ul>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li>
</ul>
</li>
<li><a href="#stm32f4%E5%B7%A5%E7%A8%8B%E4%BB%A3%E7%A0%81">STM32F4工程代码</a></li>
<li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8nginx">【服务器】NGINX</a>
<ul>
<li><a href="#%E5%9C%A8linux%E4%B8%AD%E6%90%AD%E5%BB%BAnginx%E6%9C%8D%E5%8A%A1%E5%99%A8">在Linux中搭建NGINX服务器</a></li>
<li><a href="#tcpip%E5%8D%8F%E8%AE%AE">TCP/IP协议</a></li>
<li><a href="#%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87">[知识储备]</a></li>
<li><a href="#nginx%E6%9E%B6%E6%9E%84">NGINX架构</a>
<ul>
<li><a href="#nginx%E4%B8%ADmaster%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86">NGINX中master的工作原理</a></li>
</ul>
</li>
<li><a href="#nginx%E5%A4%84%E7%90%86http%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BF%87%E7%A8%8B">nginx处理HTTP请求的过程</a></li>
<li><a href="#%E5%AE%89%E8%A3%85nginx">安装NGINX</a></li>
</ul>
</li>
<li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8tomcat">【服务器】Tomcat</a></li>
<li><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8zlmedaikit%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8">【服务器】ZLMedaikit流媒体服务器</a></li>
<li><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93ffmpeg%E5%AA%92%E4%BD%93%E6%B5%81%E8%BD%AC%E7%A0%81%E5%B7%A5%E5%85%B7">【第三方库】FFmpeg媒体流转码工具</a></li>
<li><a href="#%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E9%A3%9E%E6%A1%A8paddlepaddle%E5%AE%9E%E6%88%98">【深度学习】飞桨paddlepaddle实战</a>
<ul>
<li><a href="#x-cudeai%E5%9C%A8%E7%BA%BF%E8%AF%BE%E7%A8%8B">X-CUDE—AI在线课程</a></li>
<li><a href="#%E7%9B%B8%E5%85%B3%E8%AE%BA%E6%96%87%E5%8F%82%E8%80%83">相关论文参考</a></li>
</ul>
</li>
<li><a href="#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0hmm%E6%A8%A1%E5%9E%8B%E9%9A%90%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E5%88%97">【机器学习】HMM模型（隐马尔科夫列）</a>
<ul>
<li><a href="#%E7%9B%B8%E5%85%B3%E8%AE%BA%E6%96%87%E5%8F%82%E8%80%83-1">相关论文参考</a></li>
<li><a href="#%E5%AF%BC%E5%85%A5%E5%BA%93">导入库</a></li>
</ul>
</li>
<li><a href="#%E9%9F%B3%E8%A7%86%E9%A2%91%E5%AD%A6%E4%B9%A0">【音视频学习】</a>
<ul>
<li><a href="#h264%E7%BC%96%E7%A0%81">H.264编码</a></li>
<li><a href="#%E5%AE%89%E5%8D%93%E9%9F%B3%E8%A7%86%E9%A2%91%E5%AE%9E%E6%88%98%E7%BC%96%E7%A8%8B">安卓音视频实战编程</a></li>
<li><a href="#yuv">YUV</a></li>
<li><a href="#rtmp%E5%8D%8F%E8%AE%AE%E6%89%80%E5%9C%A8%E6%89%80%E5%9C%A8%E7%9A%84%E7%BD%91%E7%BB%9C%E5%B1%82%E7%BB%93%E6%9E%84">RTMP协议所在所在的网络层结构</a></li>
<li><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93librtmp">【第三方库】LIBRTMP</a></li>
<li><a href="#%E5%B7%A5%E5%85%B7%E7%B1%BB%E4%BC%BC%E5%AE%89%E5%8D%93%E8%99%9A%E6%8B%9F%E6%9C%BAtotal-control">【工具】类似安卓虚拟机：Total Control</a></li>
<li><a href="#%E9%87%87%E9%9B%86%E9%9F%B3%E9%A2%91%E6%95%B0%E6%8D%AE%E5%B7%A5%E5%85%B7">采集音频数据工具</a></li>
<li><a href="#%E8%A7%86%E9%A2%91%E9%87%87%E9%9B%86%E5%B7%A5%E5%85%B7---mediaprojection">视频采集工具&mdash;MediaProjection</a></li>
</ul>
</li>
<li><a href="#%E5%AE%89%E5%8D%93app%E5%88%B6%E4%BD%9C">【安卓APP制作】</a>
<ul>
<li><a href="#%E5%AE%89%E5%8D%93%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%99%BB%E5%BD%95%E6%96%B9%E5%BC%8F">安卓的两种登录方式</a></li>
<li><a href="#%E5%AE%89%E5%8D%93%E4%B8%AD%E9%9B%86%E6%88%90%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E8%BF%9B%E8%A1%8C%E7%99%BB%E5%BD%95">安卓中集成第三方库进行登录</a></li>
<li><a href="#%E5%AE%89%E5%8D%93%E6%98%BE%E7%A4%BAonenet%E6%8F%90%E4%BE%9B%E7%9A%84%E5%8F%AF%E8%A7%86%E5%8C%96%E9%93%BE%E6%8E%A5">安卓显示ONENet提供的可视化链接</a></li>
</ul>
</li>
<li><a href="#%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F">硬件系统</a></li>
</ul>
<h2 id="运行环境">运行环境</h2>
<h2 id="esp32学习联网模块">【ESP32学习】联网模块</h2>
<h3 id="esp8266-01s上传数据到onenet">ESP8266-01S上传数据到OneNet</h3>
<p><a href="https://www.bilibili.com/video/BV1jS421A7Bk/?spm_id_from=333.337.search-card.all.click&amp;vd_source=8b3841f9fc62479f11b65d83945326a7" target="_blank">参考视频</a></p>
<p>1.进入OneNet创建产品和设备（具体步骤待补充）</p>
<p>2.复制产品和设备的详细信息（备份）</p>
<p>目的是为了方便使用AT指令以及代码编写。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">设备名称</span>(clientlD) <span style="color:#f92672">:</span> test
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">产品</span>ID (username) <span style="color:#f92672">:</span> F1AVyfXw7l
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>password: version<span style="color:#f92672">=</span><span style="color:#ae81ff">2018</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">31</span><span style="color:#f92672">&amp;</span>res<span style="color:#f92672">=</span>products<span style="color:#f92672">%</span><span style="color:#ae81ff">2FF</span><span style="color:#ae81ff">1</span>AVyfXw71<span style="color:#f92672">%</span><span style="color:#ae81ff">2F</span>devices<span style="color:#f92672">%</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2F</span>test<span style="color:#f92672">&amp;</span>et<span style="color:#f92672">=</span><span style="color:#ae81ff">2810313321</span><span style="color:#f92672">&amp;</span>method<span style="color:#f92672">=</span>md5<span style="color:#f92672">&amp;</span>sign<span style="color:#f92672">=</span>EfJtPPxHwMX6iWWf3YksbA<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>D<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>D.urI:mqtts.heclouds.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">端口号</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1883</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">订阅</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">$</span>sys<span style="color:#f92672">/</span>F1AVyfXw7I<span style="color:#f92672">/</span>test<span style="color:#f92672">/</span>thing<span style="color:#f92672">/</span>property<span style="color:#f92672">/</span>post<span style="color:#f92672">/</span>reply发布: <span style="color:#960050;background-color:#1e0010">$</span>sys<span style="color:#f92672">/</span>F1AVyfXw7l<span style="color:#f92672">/</span>test<span style="color:#f92672">/</span>thing<span style="color:#f92672">/</span>property<span style="color:#f92672">/</span>post
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">设备密钥</span><span style="color:#f92672">:</span> cjFZSWRwUGNrazdRR2d6eTJ4Tm9YNXN5bTNuMGpMTIE<span style="color:#f92672">=</span>access key: vclTl19loOn7mcfdtT39l1eRfVffM6FfH8U<span style="color:#f92672">/</span>U3HhUQc<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res:products<span style="color:#f92672">/</span>F1AVyfXw7l<span style="color:#f92672">/</span>devices<span style="color:#f92672">/</span>test
</span></span><span style="display:flex;"><span>et:<span style="color:#960050;background-color:#1e0010">时间戳</span></span></span></code></pre></div><h4 id="收藏的一些资料">收藏的一些资料</h4>
<p><a href="https://open.iot.10086.cn/console/product/own" target="_blank">OneNet云平台</a>
<a href="#R-image-275baba6ae4ff99f0983b4aed9918aaf" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-2.png" alt="OneNet云平台" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-275baba6ae4ff99f0983b4aed9918aaf"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-2.png" alt="OneNet云平台" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="https://www.beijing-time.org/shijianchuo/" target="_blank">2.时间戳</a>
<a href="#R-image-da21918b4727beaa254a57a7f342ea16" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image.png" alt="时间戳" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-da21918b4727beaa254a57a7f342ea16"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image.png" alt="时间戳" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="https://open.iot.10086.cn/doc/v5/develop/detail/639" target="_blank">OneNet文档中心</a>
<a href="#R-image-0c0c39a490b0de4062a051fd2fdae290" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-1.png" alt="OneNet文档中心" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0c0c39a490b0de4062a051fd2fdae290"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-1.png" alt="OneNet文档中心" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="最终的操作结果">最终的操作结果</h4>
<p><a href="#R-image-b118e687b1c0db164ce630d1a9da88c3" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-3.png" alt="结果" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b118e687b1c0db164ce630d1a9da88c3"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-3.png" alt="结果" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="esp32esp8266-12e连接onenet参考资料">ESP32&amp;&amp;ESP8266-12E连接ONeNet参考资料</h3>
<ul>
<li><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1007" target="_blank">云平台调试错误码</a></li>
<li><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/922" target="_blank">设备之间数据交换实战项目</a></li>
<li><a href="https://github.com/arduino-libraries/WiFi" target="_blank">wifi.h库</a></li>
<li><a href="https://blog.csdn.net/qq_40700822/article/details/116640694" target="_blank">SCND文章</a></li>
</ul>
<p>代码部分唯一不同的是引用的库函数不同，</p>
<p>ESP8266使用的是</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span></span></span></code></pre></div><p>ESP32使用的是</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;WiFi.h&gt;</span></span></span></code></pre></div><p>在使用时需要注意引用的库函数，如果库函数不匹配，可能会导致编译失败，这部分的代码以放在附件中。</p>
<ul>
<li><strong>ESP-12EConnectONenet</strong>是ESP8266-12E连接ONeNet的代码；</li>
<li><strong>ESP32ConnectONenet</strong> 是ESP8266-12E连接ONeNet的代码。</li>
</ul>
<p>**注意：**我提供的代码是以onejson格式上传的，而不是数据流的格式。在云平台创建产品时需要注意这点，当然代码里博主写的就是以数据流格式上传，如果你用原来博主写的，那么创建产品时就选数据流。</p>
<hr>
<p>上面的代码只能实现数据上传，并不能实现命令控制，下面就介绍如何实现命令控制。
主要修改的地方是callback函数，当拿到topic的时候要解析拿到一段ID，具体可以看<a href="https://open.iot.10086.cn/doc/v5/fuse/detail/922" target="_blank">官方的资料</a>,里面有提到命令下发的操作。
<a href="#R-image-5c7e1860bfcdbac380ece191ad94fda6" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5c7e1860bfcdbac380ece191ad94fda6"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="onenet云平台报错-protocolmqttoffline_time2024-07-15-160149977offline_reasoncloseduetoprotoerror怎么解决">ONeNet云平台报错： {&ldquo;protocol&rdquo;:&ldquo;MQTT&rdquo;,&ldquo;offline_time&rdquo;:&ldquo;2024-07-15 16:01:49.977&rdquo;,&ldquo;offline_reason&rdquo;:&ldquo;CloseDueToProtoError&rdquo;}怎么解决？</h4>
<p>这个错误是协议格式不对，也就是用的topic不正确，通过下面的案例对这个作说明。</p>
<p>当我们在云平台下发命令的时候，在<code>callback</code>函数里使用<code>Serial.println(topic);</code>会打印订阅的topic，格式为:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span>sys<span style="color:#f92672">/</span><span style="color:#ae81ff">584938</span><span style="color:#f92672">/</span>onenet_mqtt_dev1<span style="color:#f92672">/</span>cmd<span style="color:#f92672">/</span>request<span style="color:#f92672">/</span>c5a7e27e<span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>bb<span style="color:#f92672">-</span><span style="color:#ae81ff">41</span>eb<span style="color:#f92672">-</span><span style="color:#ae81ff">972</span>b<span style="color:#f92672">-</span>abce424ade8e</span></span></code></pre></div><p>callback函数如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/********************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">函数：callback
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">功能：接收ONeNet传回的信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">返回值：无
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">参数：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    topic是消息的主题，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    payload是消息的有效载荷（数据部分），
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    length是payload的长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*********************************************************************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">callback</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>topic, byte <span style="color:#f92672">*</span>payload, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> length)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;message rev:&#34;</span>);
</span></span><span style="display:flex;"><span>  Serial.<span style="color:#a6e22e">println</span>(topic);                    <span style="color:#75715e">// 打印订阅的topic
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> lastSlash <span style="color:#f92672">=</span> <span style="color:#a6e22e">strrchr</span>(topic, <span style="color:#e6db74">&#39;/&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (lastSlash <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cmdId <span style="color:#f92672">=</span> lastSlash <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;      <span style="color:#75715e">// 命令ID位于最后一个&#39;/&#39;之后
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    msgid <span style="color:#f92672">=</span> <span style="color:#a6e22e">String</span>(cmdId);                  <span style="color:#75715e">//将命令ID复制给msgid，msgid定义为全局变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>  Serial.<span style="color:#a6e22e">println</span>(msgid);                    <span style="color:#75715e">// 打印拿到的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">strstr</span>(topic, ONENET_GET_CAM_REQUEST)) <span style="color:#75715e">//ONENET_GET_CAM_REQUEST=&#34;$sys/{产品ID}/{设备名}/cmd/request/&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  {
</span></span><span style="display:flex;"><span>    DynamicJsonDocument <span style="color:#a6e22e">doc</span>(<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>    DeserializationError error <span style="color:#f92672">=</span> <span style="color:#a6e22e">deserializeJson</span>(doc, payload);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (error)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;parse json failed&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    JsonObject setAlinkMsgObj <span style="color:#f92672">=</span> doc.as<span style="color:#f92672">&lt;</span>JsonObject<span style="color:#f92672">&gt;</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">serializeJsonPretty</span>(setAlinkMsgObj, Serial);
</span></span><span style="display:flex;"><span>    String cam <span style="color:#f92672">=</span> setAlinkMsgObj[<span style="color:#e6db74">&#34;cam&#34;</span>].as<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span>();
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;@&#34;</span><span style="color:#f92672">+</span>cam);                <span style="color:#75715e">//取出下发的命令并在前面加@
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> RESPONSE_TOPIC[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sprintf</span>(RESPONSE_TOPIC, <span style="color:#e6db74">&#34;$sys/{产品ID}/{设备名}/cmd/response/%s&#34;</span>,msgid.<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    client.<span style="color:#a6e22e">publish</span>(RESPONSE_TOPIC, <span style="color:#e6db74">&#34;OK&#34;</span>);   <span style="color:#75715e">// 向平台响应OK
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }<span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;GET_CAM faile!&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>这份代码是根据一位博主的代码改的（<a href="https://blog.csdn.net/qq_40700822/article/details/116640694" target="_blank">博主文章链接</a>），取出后面的ID用如下代码即可</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> lastSlash <span style="color:#f92672">=</span> <span style="color:#a6e22e">strrchr</span>(topic, <span style="color:#e6db74">&#39;/&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (lastSlash <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cmdId <span style="color:#f92672">=</span> lastSlash <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;      <span style="color:#75715e">// 命令ID位于最后一个&#39;/&#39;之后
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    msgid <span style="color:#f92672">=</span> <span style="color:#a6e22e">String</span>(cmdId);                  <span style="color:#75715e">//将命令ID复制给msgid，msgid定义为全局变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>  Serial.<span style="color:#a6e22e">println</span>(msgid);                    <span style="color:#75715e">// 打印拿到的ID
</span></span></span></code></pre></div><p>而这个时候我们需要响应这个命令用的是</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span>sys<span style="color:#f92672">/</span><span style="color:#ae81ff">584938</span><span style="color:#f92672">/</span>onenet_mqtt_dev1<span style="color:#f92672">/</span>cmd<span style="color:#f92672">/</span>response<span style="color:#f92672">/</span>c5a7e27e<span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>bb<span style="color:#f92672">-</span><span style="color:#ae81ff">41</span>eb<span style="color:#f92672">-</span><span style="color:#ae81ff">972</span>b<span style="color:#f92672">-</span>abce424ade8e</span></span></code></pre></div><p>一个是request，一个是response，所以在拿到下发命令的topic后要取出后面跟着的ID，然后再重新拼接在<code>$sys/584938/onenet_mqtt_dev1/cmd/response/</code>后面，然后用这个拼接的topic发送响应数据给云平台。</p>
<p>这个时候就能在云平台那看到类似如下信息：</p>
<p><a href="#R-image-def62fabd764313ce48ee557ee4157a6" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-def62fabd764313ce48ee557ee4157a6"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>一般格式错误返回的错误码是15，原因就是格式有问题。使用如下的格式上传响应都可能有问题：</p>
<p>1.$sys/584938/onenet_mqtt_dev1/cmd/response/</p>
<p>2.$sys/584938/onenet_mqtt_dev1/cmd/response/+</p>
<p>3.$sys/584938/onenet_mqtt_dev1/cmd/response/+/+</p>
<p>以上内容仅供参考，如果你有更好的方法，请在评论区告诉我。</p>
<h3 id="app连接onenet">APP连接ONeNet</h3>
<ul>
<li><a href="https://blog.csdn.net/m0_57523637/article/details/134110774" target="_blank">1.内含demo</a></li>
<li><a href="https://www.bilibili.com/video/BV1Sx42127ni/?spm_id_from=333.337.search-card.all.click&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">2.新版视频地址</a></li>
<li><a href="https://www.json.cn/json2java/" target="_blank">3.json格式化网站</a></li>
<li><a href="https://blog.csdn.net/NakajimaFN/article/details/109074166" target="_blank">4.Android Okhttp3的使用（很全面，包含Post提交字符串、键值对、表单、上传文件、无参请求和Get有参无参请求，还有自动添加token）</a></li>
<li><a href="https://blog.csdn.net/weixin_46323814/article/details/124662664" target="_blank">从json中取出数据,结合第一点看</a></li>
<li><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1007" target="_blank">5.云平台调试错误码</a></li>
</ul>
<p>在B站上学习OKHTTP3，我把主要的核心代码放在附件里，分别是get和post的同步和异步请求，返回的结果和视频地址2里讲的一样。</p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1Kr4y1b7Kw?p=2&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">视频地址1</a>,</li>
<li><a href="https://www.bilibili.com/video/BV1Z8411i7Yo/?p=70&amp;spm_id_from=333.880.my_history.page.click&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">视频地址2</a></li>
</ul>
<p>在编写HTTPS网络请求（post）时需要上传一些数据，这些数据有一定的上传格式，下面的网址汇总了上传格式content参数</p>
<ul>
<li><a href="https://www.runoob.com/http/http-content-type.html" target="_blank">HTTP的content格式汇总网址</a></li>
</ul>
<hr>
<p>2024.8.19</p>
<h4 id="json数据解析步骤">json数据解析步骤</h4>
<p>方法一：</p>
<p><a href="#R-image-05c7cb62c9bcf7e993102ca2071a0a62" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-26.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-05c7cb62c9bcf7e993102ca2071a0a62"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-26.png" alt="1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-f299ede2bf3110c7cac10b9548679839" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-27.png" alt="2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f299ede2bf3110c7cac10b9548679839"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-27.png" alt="2" class="lightbox-image        " loading="lazy"></a></p>
<p>方法二：</p>
<p>使用第三方库Gson,在使用前需要创建一个Jsonbear，就是接收Jsons数据的格式。</p>
<p>总结：</p>
<p>在Android Studio中，如果你想要生成代码，例如getter和setter方法，可以使用快捷键Alt + Insert（Windows/Linux系统）或Command + N（Mac系统） 。这个快捷操作会引导你通过一个菜单来选择想要生成的代码类型，比如构造函数、toString方法、以及各种重写方法等。</p>
<p>此外，如果你需要查看某个方法的参数信息，可以使用快捷键Ctrl + P（Windows/Linux系统）或Command + P（Mac系统），这将展示出当前方法的参数列表及其类型。</p>
<h3 id="stm32电脑模拟esp32esp8266通信">STM32+电脑(模拟ESP32)+ESP8266通信</h3>
<p>STM32————电脑：串口1（PA 9  PA10）,手机连接指定热点，连接成功后等待一段时间把摄像头的网址发给单片机，单片机通过串口2发给ESP8266.ESP8266再传到OneNet上。</p>
<p><strong>注意</strong>：在用ESP8266最小系统通信的时，需要给板子单独供电，否则通信可能失败，原因我想可能是因为电压不够。</p>
<h3 id="设备热点配网技术wifimanager">设备热点配网技术——WIFIManager</h3>
<p>这个配网技术是让开发板设置热点，然后让手机连接，连接好后配置要让开发板连接的WIFI和密码，这个技术叫设备热点技术。相比于以往的一键配网技术，我个人觉得这个设备热点配网技术成功率要要一些。</p>
<p>缺点是这个技术不能用AT指令来实现，所以目前AT指令在不配合其他设备的情况下，通常都使用一键配网技术。</p>
<p><strong>ESP32和ESP8266使用设备热点配网技术的区别</strong></p>
<ul>
<li>区别一：使用的WiFi库不同，ESP32使用<code>WiFi.h</code>，而ESP8266使用<code>ESP8266WiFi.h</code></li>
<li>区别二：使用的WiFiManager.h版本不同，ESP32使用<code>2.0.17</code>(目前这个版本是最新的)，而ESP8266使用<code>0.16或0.15</code>
在使用ESP32时，请使用目前最新版的wifimanage库，而使用ESP8266的话请使用0.15或0.16版本的WIFIManager，如果ESP8266使用最新版的可能会报错。报什么错呢？</li>
</ul>
<h4 id="报错error-wifi_country_t-does-not-name-a-type-const-wifi_country_t-wm_country_usus111wifi_country_policy_auto">报错：error: &lsquo;wifi_country_t&rsquo; does not name a type const wifi_country_t WM_COUNTRY_US{&ldquo;US&rdquo;,1,11,WIFI_COUNTRY_POLICY_AUTO};</h4>
<p>完整报错如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>d:<span style="color:#960050;background-color:#1e0010">\</span>Program <span style="color:#a6e22e">Files</span> (x86)<span style="color:#960050;background-color:#1e0010">\</span>arduino<span style="color:#960050;background-color:#1e0010">\</span>libraries<span style="color:#960050;background-color:#1e0010">\</span>WiFiManager<span style="color:#f92672">/</span>wm_consts_en.h:<span style="color:#ae81ff">162</span><span style="color:#f92672">:</span><span style="color:#ae81ff">7</span><span style="color:#f92672">:</span> error: <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#66d9ef">wifi_country_t</span><span style="color:#960050;background-color:#1e0010">&#39;</span> does not name a type
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">wifi_country_t</span> WM_COUNTRY_US{<span style="color:#e6db74">&#34;US&#34;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">11</span>,WIFI_COUNTRY_POLICY_AUTO};
</span></span><span style="display:flex;"><span>       <span style="color:#f92672">^</span>
</span></span><span style="display:flex;"><span>d:<span style="color:#960050;background-color:#1e0010">\</span>Program <span style="color:#a6e22e">Files</span> (x86)<span style="color:#960050;background-color:#1e0010">\</span>arduino<span style="color:#960050;background-color:#1e0010">\</span>libraries<span style="color:#960050;background-color:#1e0010">\</span>WiFiManager<span style="color:#f92672">/</span>wm_consts_en.h:<span style="color:#ae81ff">163</span><span style="color:#f92672">:</span><span style="color:#ae81ff">7</span><span style="color:#f92672">:</span> error: <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#66d9ef">wifi_country_t</span><span style="color:#960050;background-color:#1e0010">&#39;</span> does not name a type
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">wifi_country_t</span> WM_COUNTRY_CN{<span style="color:#e6db74">&#34;CN&#34;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">13</span>,WIFI_COUNTRY_POLICY_AUTO};
</span></span><span style="display:flex;"><span>       <span style="color:#f92672">^</span>
</span></span><span style="display:flex;"><span>d:<span style="color:#960050;background-color:#1e0010">\</span>Program <span style="color:#a6e22e">Files</span> (x86)<span style="color:#960050;background-color:#1e0010">\</span>arduino<span style="color:#960050;background-color:#1e0010">\</span>libraries<span style="color:#960050;background-color:#1e0010">\</span>WiFiManager<span style="color:#f92672">/</span>wm_consts_en.h:<span style="color:#ae81ff">164</span><span style="color:#f92672">:</span><span style="color:#ae81ff">7</span><span style="color:#f92672">:</span> error: <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#66d9ef">wifi_country_t</span><span style="color:#960050;background-color:#1e0010">&#39;</span> does not name a type
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">wifi_country_t</span> WM_COUNTRY_JP{<span style="color:#e6db74">&#34;JP&#34;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">14</span>,WIFI_COUNTRY_POLICY_AUTO};
</span></span><span style="display:flex;"><span>       <span style="color:#f92672">^</span></span></span></code></pre></div><p>这个错误我目前没有解决，如果你解决了还请评论区或邮件（3256149770@qq.con）告诉我。</p>
<h3 id="通信过程中遇到的问题">通信过程中遇到的问题</h3>
<ul>
<li>
<p>keil5中一点击下载就闪退或点击debug中的setting就闪退。<a href="https://blog.csdn.net/wcanon/article/details/129645304" target="_blank">参照文章</a></p>
</li>
<li>
<p>Keil5编程之warning: #223-D: function “xxx“ declared implicitly.<a href="https://blog.csdn.net/weixin_45714385/article/details/114965914" target="_blank">参考链接</a></p>
</li>
</ul>
<h3 id="这一部分所用到的资料下载地址">这一部分所用到的资料下载地址</h3>
<ul>
<li><a href="http://www.openedv.com/docs/modules/iot/atk-esp.html" target="_blank">正点原子AKT-ESP-Fwifi模块</a></li>
</ul>
<hr>
<p><strong>2024.8.12(更新).</strong></p>
<h3 id="实验spiffs文件系统的使用">【实验】SPIFFS文件系统的使用</h3>
<p><a href="https://blog.csdn.net/Naisu_kun/article/details/90442925" target="_blank">参考地址</a></p>
<h3 id="实验tcpudp通信实验">【实验】TCP/UDP通信实验</h3>
<p><a href="https://blog.csdn.net/sinat_25923849/article/details/123682679" target="_blank">参考地址</a></p>
<h2 id="stm32f4学习摄像头">【STM32F4学习】摄像头</h2>
<h3 id="参考资料">参考资料</h3>
<ul>
<li><a href="https://blog.csdn.net/LiangWF22/article/details/113618532" target="_blank">基于STM32F407的摄像头（不带FIFO的OV7670）图像采集及LCD显示实验-笔记整理</a></li>
<li><a href="https://openatomworkshop.csdn.net/664701d5b12a9d168eb6e4d6.html?dp_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MTY4MDg5NSwiZXhwIjoxNzIyMTgwMzc2LCJpYXQiOjE3MjE1NzU1NzYsInVzZXJuYW1lIjoicXFfNjU3OTU3ODUifQ.xZCSUMCprrwP5K6jTYw716zgdx461uUG6SQOkClUhhw" target="_blank">STM32F4驱动OV7670总结</a></li>
<li><a href="https://github.com/weizhangCJLU/stm32f407vgt6-ov7670-tft" target="_blank">基于stm32f407vgt6驱动ov7670的TFT实时视频显示</a></li>
</ul>
<h2 id="stm32f4工程代码">STM32F4工程代码</h2>
<p><strong>使用三个ADC通道要注意按顺序去初始化，否则可能会出现问题，运营我还不知道.</strong></p>
<h2 id="服务器nginx">【服务器】NGINX</h2>
<h3 id="在linux中搭建nginx服务器">在Linux中搭建NGINX服务器</h3>
<h3 id="tcpip协议">TCP/IP协议</h3>
<p><a href="#R-image-84991bec36b7f02404906c2bd34b4f0d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-6.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-84991bec36b7f02404906c2bd34b4f0d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-6.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-c07ac15c55b5cec821530ed5ba5aa227" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-7.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c07ac15c55b5cec821530ed5ba5aa227"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-7.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-2f00acf750d9ae8a0ca18d0958ad1b34" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2f00acf750d9ae8a0ca18d0958ad1b34"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-9987202115e1114191a15b43dcfb9f9a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9987202115e1114191a15b43dcfb9f9a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-c070efb40cf423d6e839cf264e34a29c" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-10.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c070efb40cf423d6e839cf264e34a29c"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-10.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5c794897c6bfef6ccc42068fe59c3a34" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5c794897c6bfef6ccc42068fe59c3a34"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<hr>
<h3 id="知识储备">[知识储备]</h3>
<p><a href="https://www.digitalocean.com/community/tools/nginx?global.app.lang=zhCN" target="_blank">在线自动生成nginx配置文件的网站</a></p>
<ul>
<li>可以自由选择所需的应用，生成nginx配置作为参考。</li>
<li>根据你的业务需求，自动生成复杂的nginx配置文件，提供你作为参考，非常好用</li>
</ul>
<h3 id="nginx架构">NGINX架构</h3>
<h4 id="nginx中master的工作原理">NGINX中master的工作原理</h4>
<p><a href="#R-image-15f7c8f6d710e85e4abf1a6660290f58" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-15f7c8f6d710e85e4abf1a6660290f58"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="nginx处理http请求的过程">nginx处理HTTP请求的过程</h3>
<p><a href="#R-image-cd1e5474664abfd57c01d6545e217ef4" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-13.png" alt="过程" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cd1e5474664abfd57c01d6545e217ef4"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-13.png" alt="过程" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="安装nginx">安装NGINX</h3>
<p><a href="#R-image-830847027aac59609800bd80acacc2b4" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-15.png" alt="任务" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-830847027aac59609800bd80acacc2b4"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-15.png" alt="任务" class="lightbox-image        " loading="lazy"></a></p>
<p>安装路径：https://blog.csdn.net/u011715638/article/details/138670319</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>server {
</span></span><span style="display:flex;"><span>    listen <span style="color:#ae81ff">80</span>;
</span></span><span style="display:flex;"><span>    listen [<span style="color:#f92672">::</span>]<span style="color:#f92672">:</span><span style="color:#ae81ff">80</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    server_name example.com www.example.com;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    root <span style="color:#f92672">/</span>var<span style="color:#f92672">/</span>www<span style="color:#f92672">/</span>html;
</span></span><span style="display:flex;"><span>    index index.html index.htm;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    location <span style="color:#f92672">/</span> {
</span></span><span style="display:flex;"><span>        try_files <span style="color:#960050;background-color:#1e0010">$</span>uri <span style="color:#960050;background-color:#1e0010">$</span>uri<span style="color:#f92672">/</span> <span style="color:#f92672">=</span><span style="color:#ae81ff">404</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>上面是配置文件的内容，下面说明一下配置时的一些注意事项：</p>
<ul>
<li>把配置文件的<code>example.com www.example.com</code>换成172.0.0.1，这样方便在本地测试；</li>
<li>在Ubuntu中可以下载ifconfig来查看Ubuntu的IP地址（ip addr也可以）</li>
<li>每次修改配置文件记<code>sudo systemctl reload nginx</code></li>
</ul>
<h2 id="服务器tomcat">【服务器】Tomcat</h2>
<p>1.安装Tomcat要使用哪个版本的java？</p>
<p>使用jdk8或更高版本，详细参考<a href="https://tomcat.apache.org/tomcat-9.0-doc/setup.html" target="_blank">官方文档</a></p>
<p>2.如何在Ubuntu安装Tomcat？</p>
<ul>
<li>安装jdk8或更高版本</li>
<li>安装</li>
</ul>
<h2 id="服务器zlmedaikit流媒体服务器">【服务器】ZLMedaikit流媒体服务器</h2>
<p>需要掌握的知识点：
<a href="#R-image-06d8b2d825a332106e0bb64b68b4bfbb" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-29.png" alt="知识点" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-06d8b2d825a332106e0bb64b68b4bfbb"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-29.png" alt="知识点" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="第三方库ffmpeg媒体流转码工具">【第三方库】FFmpeg媒体流转码工具</h2>
<ul>
<li><a href="https://cn.linux-console.net/?p=16693" target="_blank">Ubuntu上安装ffmpeg的方法</a></li>
<li><a href="https://git.ffmpeg.org/ffmpeg.git" target="_blank">下载ffmpeg源代码地址</a></li>
</ul>
<h2 id="深度学习飞桨paddlepaddle实战">【深度学习】飞桨paddlepaddle实战</h2>
<hr>
<p>2024.8.18</p>
<p><strong>1.从入门到实际运用，请参考B站up主视频：</strong><a href="https://www.bilibili.com/video/BV1AM4y187yR/?spm_id_from=333.999.0.0" target="_blank">点击链接</a></p>
<p><strong>2.学完上面的视频后学习paddlepaddle的语音识别课程：</strong></p>
<p><strong>3.接着参考STM32cudeXM.AI的相关知识，把模型转换成onnx格式然后在但【单片机上运行：</strong></p>
<p><strong>3.1先用一个项目练练手：</strong><code>https://shequ.stmicroelectronics.cn/thread-632736-1-1.html</code></p>
<ul>
<li><a href="https://stm32ai.st.com/zh/stm32-cube-ai/" target="_blank">官网</a></li>
<li><a href="https://www.st.com/resource/zh/user_manual/dm00570145-getting-started-with-x-cube-ai-expansion-package-for-artificial-intelligence-ai-stmicroelectronics.pdf" target="_blank">入门手册文档</a></li>
<li><a href="https://shequ.stmicroelectronics.cn/forum.php?mod=forumdisplay&amp;fid=1327&amp;filter=dateline&amp;orderby=dateline" target="_blank">官网视频</a></li>
<li><a href="https://www.bilibili.com/video/BV1ns4y1D7ea/?p=16" target="_blank">B站视频</a></li>
</ul>
<p>意外收获，这是一个学习论坛：<code>https://www.waveshare.net/study/portal.php?mod=list&amp;catid=38</code></p>
<hr>
<p>2024.8.25</p>
<p>参考文献：</p>
<ul>
<li>禹鑫鹏,贺庆,王世昕,.基于STM32CubeMX AI和NanoEdge AI的眼动信号分类效果对比研究【J】.传感器世界,2024,(04):6-10.</li>
</ul>
<hr>
<p>2024.8.26</p>
<h3 id="x-cudeai在线课程">X-CUDE—AI在线课程</h3>
<p><a href="https://www.st.com.cn/content/st_com/zh/support/learning/stm32-education/stm32-moocs/Introduction_to_STM32CubeAI_MOOC.html" target="_blank">参考地址</a></p>
<p>当模型验证结束后，需要修改以下内容：
<a href="#R-image-94ca62fe98c2e9dc98bb9acb3b1e0b1e" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-28.png" alt="修改文件" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-94ca62fe98c2e9dc98bb9acb3b1e0b1e"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-28.png" alt="修改文件" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="相关论文参考">相关论文参考</h3>
<ul>
<li><a href="https://github.com/ldknight/Babysound-Sort-tensorflow/blob/main/README.md" target="_blank">【github项目网址】婴儿哭声分类识别</a></li>
</ul>
<h2 id="机器学习hmm模型隐马尔科夫列">【机器学习】HMM模型（隐马尔科夫列）</h2>
<p>隐马尔科夫列模型定义：
<a href="#R-image-b228739cd5a20fee4b16208fd8cef420" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-25.png" alt="定义" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b228739cd5a20fee4b16208fd8cef420"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-25.png" alt="定义" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="相关论文参考-1">相关论文参考</h3>
<p>-<a href="https://sprateam-ustc.github.io/Publications/shuxianwang-2022-ncmmsc.pdf" target="_blank">【1.基于声学的婴儿哭声识别细分市场模型】(Baby Cry Recognition Based on Acoustic)</a>
-<a href="https://asmp-eurasipjournals.springeropen.com/articles/10.1186/s13636-018-0124-x" target="_blank">【2.使用隐马尔可夫模型自动分割婴儿哭闹信号】(Automatic segmentation of infant cry signals using hidden Markov models)</a></p>
<h3 id="导入库">导入库</h3>
<h2 id="音视频学习">【音视频学习】</h2>
<h3 id="h264编码">H.264编码</h3>
<p>所谓视频编码就是指通过特定的压缩技术，将某个视频格式文件转换成另一种视频格式文件的方式。</p>
<p>视频流传输中最重要的编解码标准有国际电联(TU-T，国际电信联盟)的H.261、H.263、H.264等，运动静止图像专家组（由ISO国际标准化组织与IEC国际电子委员会于1988年联合成立)的MPEG系列标准MPEG1、MPEG2、MPEG4 AVC等。</p>
<p>其中ITU-TH.264/MPEG-4 AVC是ITU-T与ISO/IEC连手合作制订的新标准。ITU-T方面称之为H.264。但ISOIEC的则将这个新标准归纳于MPEG系列,称为MPEG-4 AVC。</p>
<p>而H.265则被视为是ITU-TH.264/MPEG-4AVC标准的继任者，又称为高效率视频编码(High Efficiency VideoCoding，简称HEVC)</p>
<p><a href="#R-image-0ec0f07b505aafcf914ea9a30ce62199" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-17.png" alt="h264" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0ec0f07b505aafcf914ea9a30ce62199"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-17.png" alt="h264" class="lightbox-image        " loading="lazy"></a></p>
<p>格式：
<a href="#R-image-840ac39d497d8b06f3f0a303c20eff72" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-16.png" alt="h264" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-840ac39d497d8b06f3f0a303c20eff72"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-16.png" alt="h264" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="安卓音视频实战编程">安卓音视频实战编程</h3>
<p>构建预览布局-使用SurfaceView或者TextureView</p>
<p>打开相机- Camera.open</p>
<p>设置参数- Camera.Parameters</p>
<p>设置预览数据回调- PreviewCallback</p>
<p>设置预览画布并启动- setPreviewTexture/startPreview</p>
<p>释放相机- stopPreview/release</p>
<h3 id="yuv">YUV</h3>
<p>YUV主要应用于优化彩色视频信号的传输，与RGB相比，YUV只需要占用极少的频宽(RGB需要三个独立的视频信号同时传输)。YUV中Y代表明亮度，也称灰阶值;U与V表示的则是色度（色调和饱和度)也可以记作:YCbCr。如果只有Y数据,那么表示的图像就是黑白的。</p>
<p>使用YUV的原因：</p>
<p>使用YUV格式才能极大地去除冗余信息，人眼对亮点信息更敏感，对色度敏感度不高。也就是说,可以压缩UV数据,而人眼难以发现。所以压缩算法的第一步，往往先把RGB数据转换成YUV数据。对Y少压缩一点，对UV多压缩一点，以平衡图像效果和压缩率。这也是为什么编码选择使用YUV而不是RGB。</p>
<p>推算公式：
<a href="#R-image-c0d07d10dfee78633e641cdbe238cc3f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-18.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c0d07d10dfee78633e641cdbe238cc3f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-18.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>YUV是一组数据的压缩格式，其下还有因为排列不同而衍生的不同格式名称</p>
<p><a href="#R-image-624cc84880cd1c5ca3c3b1e2f2ad3969" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-19.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-624cc84880cd1c5ca3c3b1e2f2ad3969"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-19.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>NV21转I420
<a href="#R-image-6d62e6d9776c125336d4803fd192da6a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-20.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6d62e6d9776c125336d4803fd192da6a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-20.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>MediaCode组件：
<a href="#R-image-749a9254b4711d00231e31c4dafb3a0d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-21.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-749a9254b4711d00231e31c4dafb3a0d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-21.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="rtmp协议所在所在的网络层结构">RTMP协议所在所在的网络层结构</h3>
<p><a href="#R-image-6357a288aa95b6f37a34696620f06586" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-22.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6357a288aa95b6f37a34696620f06586"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-22.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="第三方库librtmp">【第三方库】LIBRTMP</h3>
<h3 id="工具类似安卓虚拟机total-control">【工具】类似安卓虚拟机：Total Control</h3>
<h3 id="采集音频数据工具">采集音频数据工具</h3>
<p><a href="#R-image-46abce7d5aa17d6493183effe53f43f9" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-23.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-46abce7d5aa17d6493183effe53f43f9"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-23.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="视频采集工具---mediaprojection">视频采集工具&mdash;MediaProjection</h3>
<p><a href="#R-image-bf623480ff9bbadc9cdc96dae31b76b3" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-24.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bf623480ff9bbadc9cdc96dae31b76b3"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-24.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<hr>
<p>安卓P18</p>
<hr>
<p>2024.8.27</p>
<p>方法一：</p>
<p><a href="https://blog.csdn.net/gs12software/article/details/130618598?spm=1001.2101.3001.6650.3&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7Ebaidujs_baidulandingword%7ECtr-3-130618598-blog-114264625.235%5Ev43%5Epc_blog_bottom_relevance_base2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7Ebaidujs_baidulandingword%7ECtr-3-130618598-blog-114264625.235%5Ev43%5Epc_blog_bottom_relevance_base2&amp;utm_relevant_index=6" target="_blank">安卓使用VLC库实内网播放ESPCam摄像头数据</a></p>
<p>方法二：</p>
<p><a href="https://blog.csdn.net/u011418943/article/details/107561111" target="_blank">Mediacode编解码</a></p>
<h2 id="安卓app制作">【安卓APP制作】</h2>
<p>1.安卓登录开发</p>
<hr>
<p>2024.8.21</p>
<h3 id="安卓的两种登录方式">安卓的两种登录方式</h3>
<p>登录可以进去就强登录，或进去后在某个页面触发登录。</p>
<p>对于第一个只需要在第一个页面做登录处理即可，而第二种需要<code>Hook AMS + APT</code>框架实现，具体看这篇博文：<a href="https://blog.csdn.net/calm1516/article/details/114482477" target="_blank">文章连接</a></p>
<h3 id="安卓中集成第三方库进行登录">安卓中集成第三方库进行登录</h3>
<p>可以使用目前比较流行的第三方库实现：</p>
<p><code>JustAuth开源组件</code>：<strong>JustAuth</strong>是一个整合了国内外数十家知名平台的OAuth登录的开源组件，它提供了丰富的OAuth平台支持，自定义State、自定义OAuth、自定义Http接口和自定义Scope等功能，极大地简化了开发者在第三方登录功能上的工作量。</p>
<hr>
<p>2024.8.23</p>
<p>2.数据显示</p>
<h3 id="安卓显示onenet提供的可视化链接">安卓显示ONENet提供的可视化链接</h3>
<p><a href="https://blog.csdn.net/qq_52608074/article/details/138144200" target="_blank">参考链接</a></p>
<hr>
<p>2024.8.29</p>
<h2 id="硬件系统">硬件系统</h2>
<p>一、设备选型</p>
<p>1.空气质量模块设备选型：</p>
<p><a href="https://blog.csdn.net/qilin001cs/article/details/118771474" target="_blank">（1）MQ135测量空气质量和氨气PPM的计算</a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
      <li><a href="./branch-bundle-1/12.%e5%ae%9e%e6%88%98%e9%a1%b9%e7%9b%ae/%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1/index.files/ESP-12ConnectOnenet.c">ESP-12ConnectOnenet.c</a> (7 KB)</li>
      <li><a href="./branch-bundle-1/12.%e5%ae%9e%e6%88%98%e9%a1%b9%e7%9b%ae/%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1/index.files/ESP32ConnectOnenet%20.c">ESP32ConnectOnenet .c</a> (7 KB)</li>
      <li><a href="./branch-bundle-1/12.%e5%ae%9e%e6%88%98%e9%a1%b9%e7%9b%ae/%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1/index.files/https.java">https.java</a> (2 KB)</li>
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b3-%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">B3-毕业设计</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/stm32%E5%AD%A6%E4%B9%A0/">STM32学习</a></li>
  </ul>
</div>
            </header>
<h1 id="电赛">电赛</h1>

<hr>
<p><strong>以下笔记皆基于HAL库。</strong></p>
<h2 id="新建stm32cubemx工程步骤">新建STM32CubeMX工程步骤</h2>
<p><a href="#R-image-3f6279deb6fa33a496949d674a33d89a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image.png" alt="步骤" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3f6279deb6fa33a496949d674a33d89a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image.png" alt="步骤" class="lightbox-image        " loading="lazy"></a></p>
<p>创建工程中如果勾选MCO表示向外部输出时钟，
<a href="#R-image-5c248892edd211980453e7c3bd46e46f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-1.png" alt="打钩" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5c248892edd211980453e7c3bd46e46f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-1.png" alt="打钩" class="lightbox-image        " loading="lazy"></a>
输出的是哪一个引脚可以查看，如下图。
<a href="#R-image-cda1dbe4950585c83e94e61ba142cbef" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-2.png" alt="PA8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cda1dbe4950585c83e94e61ba142cbef"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-2.png" alt="PA8" class="lightbox-image        " loading="lazy"></a></p>
<p>外部时钟设置
<a href="#R-image-f6f928c5b0143a65dbb0946a9a2cc8a8" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-3.png" alt="时钟" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f6f928c5b0143a65dbb0946a9a2cc8a8"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-3.png" alt="时钟" class="lightbox-image        " loading="lazy"></a></p>
<p>工程设置
<a href="#R-image-6bb146b06ac642c60944adddd8c56fae" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-4.png" alt="项目设置" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6bb146b06ac642c60944adddd8c56fae"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-4.png" alt="项目设置" class="lightbox-image        " loading="lazy"></a></p>
<p>如果Application Structure设置为Basic，那么会把下面的两个文件分开放
<a href="#R-image-d4f56b8dfd8e8792e804d84613950d6d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-5.png" alt="xx " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d4f56b8dfd8e8792e804d84613950d6d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-5.png" alt="xx " class="lightbox-image        " loading="lazy"></a>
否则项目会把两个文件放在一个文件夹里，如Core</p>
<p>最后还需要设置Code Generator，如下：
<a href="#R-image-bd2a6f8fcf2e2a2f2538399b2d9d60de" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-6.png" alt="Code Generator" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bd2a6f8fcf2e2a2f2538399b2d9d60de"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-6.png" alt="Code Generator" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="时钟">时钟</h2>
<p>1.初识时钟周期</p>
<p>2.时钟树
<a href="#R-image-cd9bdcab3d39a880d7a9b4b635ab97fe" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-7.png" alt="时钟树" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cd9bdcab3d39a880d7a9b4b635ab97fe"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-7.png" alt="时钟树" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-911bc397b4d53946229683d04d074069" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-8.png" alt="时钟树1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-911bc397b4d53946229683d04d074069"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-8.png" alt="时钟树1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-22b0177eba9f73a3cd5894666560fb4b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-9.png" alt="时钟树2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-22b0177eba9f73a3cd5894666560fb4b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-9.png" alt="时钟树2" class="lightbox-image        " loading="lazy"></a></p>
<p>3.时钟配置步骤
<a href="#R-image-a6457f54ae87b109e9c8beba9f303dae" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-10.png" alt="步骤" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a6457f54ae87b109e9c8beba9f303dae"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-10.png" alt="步骤" class="lightbox-image        " loading="lazy"></a></p>
<p>4.外设时钟使能和失能</p>
<p>5.sys_stm32_cloc_init()函数</p>
<ul>
<li>
<p>HAL_RCC_OscConfig()</p>
<ul>
<li>HSE高速外设振荡器</li>
<li>LSE</li>
<li>RC振荡器，随着电压的变化而变化，所以需要一个检验值</li>
<li>PLL锁相环</li>
</ul>
</li>
<li>
<p>HAL_RCC_ClockConfig()
<a href="#R-image-d2c578b2963bb03d57d2a18087c8c58f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d2c578b2963bb03d57d2a18087c8c58f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-8d51d6291b72c5eb4c6ff9762743d21b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8d51d6291b72c5eb4c6ff9762743d21b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>第一个参数
<ul>
<li>结构体中的第一个参数里的HCLK是指AHB总线、PCLK1是指APB1总线、PCLK2是指APB2总线，这个配置表示要配那条总线的时钟。</li>
</ul>
</li>
<li>第二个形参
<a href="#R-image-ec8a40573e7025475b94d5854e75da47" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ec8a40573e7025475b94d5854e75da47"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<ul>
<li>F1系统时钟72MHz,如果使用72MHz访问闪存（Flash）那么是需要等待的，因为闪存的允许最大时钟频率是42MHz,所以需要等待，等待多少个周期需要下图
<a href="#R-image-509c35e0c3d6c99946782e6385b94e18" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-13.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-509c35e0c3d6c99946782e6385b94e18"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-13.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>6.SYSTEN文件夹</p>
<ul>
<li>sys文件夹
<a href="#R-image-922b880c8250642452bc3ad9b19a5dd3" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-15.png" alt="sys表" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-922b880c8250642452bc3ad9b19a5dd3"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-15.png" alt="sys表" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="nvic介绍">NVIC介绍</h3>
<h4 id="中断基本概念">中断基本概念</h4>
<p><a href="#R-image-511e37106625a5d1185a889520dcd39d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-17.png" alt="概念" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-511e37106625a5d1185a889520dcd39d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-17.png" alt="概念" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-acccf4373bda13e12473159041f61847" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-18.png" alt="中断表" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-acccf4373bda13e12473159041f61847"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-18.png" alt="中断表" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="中断向量表">中断向量表</h4>
<p><a href="#R-image-79ab17ac3307665167e927a466433ef6" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-79ab17ac3307665167e927a466433ef6"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="文件里的中断在哪里呢">文件里的中断在哪里呢？</h4>
<p>在文件<strong>startup_stm32f10x_hd.s</strong>中这里列出内部中断，外部中断就在内部中断之下，这里不再列出。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>__Vectors       DCD     __initial_sp               ; Top of Stack
</span></span><span style="display:flex;"><span>                DCD     Reset_Handler              ; Reset Handler
</span></span><span style="display:flex;"><span>                DCD     NMI_Handler                ; NMI Handler
</span></span><span style="display:flex;"><span>                DCD     HardFault_Handler          ; Hard Fault Handler
</span></span><span style="display:flex;"><span>                DCD     MemManage_Handler          ; MPU Fault Handler
</span></span><span style="display:flex;"><span>                DCD     BusFault_Handler           ; Bus Fault Handler
</span></span><span style="display:flex;"><span>                DCD     UsageFault_Handler         ; Usage Fault Handler
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     SVC_Handler                ; SVCall Handler
</span></span><span style="display:flex;"><span>                DCD     DebugMon_Handler           ; Debug Monitor Handler
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     PendSV_Handler             ; PendSV Handler
</span></span><span style="display:flex;"><span>                DCD     SysTick_Handler            ; SysTick Handler</span></span></code></pre></div><h4 id="中断寄存器">中断寄存器</h4>
<p><a href="#R-image-2d8557350f14aa67b577a2701203f048" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-20.png" alt="中断寄存器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2d8557350f14aa67b577a2701203f048"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-20.png" alt="中断寄存器" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="中断原理">中断原理</h4>
<p><a href="#R-image-a914fac22f8e720cbd9e30ecfbc810f8" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-21.png" alt="原理" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a914fac22f8e720cbd9e30ecfbc810f8"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-21.png" alt="原理" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="中断优先级">中断优先级</h3>
<p><a href="#R-image-7d4cdffc97df883ab194ad5c7eb3411e" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-22.png" alt="优先级" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7d4cdffc97df883ab194ad5c7eb3411e"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-22.png" alt="优先级" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-60f26fd2740e0ba409a31c31ad8edc5b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-23.png" alt="优先级" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-60f26fd2740e0ba409a31c31ad8edc5b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-23.png" alt="优先级" class="lightbox-image        " loading="lazy"></a>
响应优先级又叫子优先级</p>
<p><strong>中断的抢占优先级由AICR寄存器的后三位控制，而响应优先级由IPRx寄存器的后四位控制</strong>，最终分配结果参考下面的表格
<a href="#R-image-241346191b9095c2a37d6f1e886cda68" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-24.png" alt="表" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-241346191b9095c2a37d6f1e886cda68"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-24.png" alt="表" class="lightbox-image        " loading="lazy"></a></p>
<p>中断一般只设置一次，设置多次可能会导致中断紊乱，一般以最后一次的中断设置为准，详细说明参考手册4.4.5</p>
<p>中断执行的顺序：抢占优先级（先执行数值小的）————响应优先级（先执行数值小的）————自然优先级（先执行数值大的）</p>
<h3 id="nvic-的使用">NVIC 的使用</h3>
<hr>
<p><strong>以下笔记皆基于标准库。</strong></p>
<h2 id="标准库中额中断">标准库中额中断</h2>
<p><a href="#R-image-9ab511f75b0475ebc618dd93643defe7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-25.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9ab511f75b0475ebc618dd93643defe7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-25.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="extiextern-interrupt外部中断">EXTI（Extern Interrupt）外部中断</h3>
<p>EXTI可以监测指定GPIO口的电平信号，当其指定的GPIO口产生电平变化时，EXTI将立即向NVIC发出中断申请，经过NVIC裁决后即可中断CPU主程序，使CPU执行EXTI对应的中断程序</p>
<p>简而言之，gpio电平发生变化时，申请外部中断。</p>
<ul>
<li><strong>支持的触发方式</strong>：上升沿/下降沿/双边沿/软件触发（<em>引脚没有发生变化，执行一段代码就申请中断</em>）</li>
<li><strong>支持的GPIO口</strong>：所有GPIO口，但相同的Pin不能同时触发中断（<em>如PA1，PB1，PC1不能同时触发中断</em>）</li>
<li><strong>通道数</strong>：16个GPIO_Pin，外加PVD输出、RTC闹钟、USB唤醒、以太网唤醒</li>
<li><strong>触发响应方式</strong>：中断响应/事件响应（<em>事件响应不会触发中断。而是触发别的外设操作。属于外设之间的联合工作</em>）</li>
</ul>
<h3 id="afio复用io口">AFIO复用IO口</h3>
<p>主要用于引脚复用功能的选择和重定义</p>
<p>在STM32中，AFIO主要完成两个任务：</p>
<ul>
<li>复用功能引脚重映射</li>
<li>中断引脚选择
<a href="#R-image-17344dc96d14385d028face2621d8b45" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-26.png" alt="GPIO口中断申请图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-17344dc96d14385d028face2621d8b45"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-26.png" alt="GPIO口中断申请图" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="exti实现代码">EXTI实现代码</h3>
<p>这段代码的中断端口是GPIOB_Pin14，所以需要将相关的传感器接到PB14这个端口</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">CountSensor_Init</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//配置RCC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB2PeriphClockCmd</span>(RCC_APB2Periph_GPIOB,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//AFIO、
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB2PeriphClockCmd</span>(RCC_APB2Periph_AFIO,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//EXTI、一直打开着不用配置打开时钟
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">//NVIC  一直打开着不用配置打开时钟
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	GPIO_InitTypeDef GPIO_InitStructure;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Mode<span style="color:#f92672">=</span>GPIO_Mode_IPU;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Pin<span style="color:#f92672">=</span>GPIO_Pin_14;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Speed<span style="color:#f92672">=</span>GPIO_Speed_50MHz;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">GPIO_Init</span>(GPIOB,<span style="color:#f92672">&amp;</span>GPIO_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">GPIO_EXTILineConfig</span>(GPIO_PortSourceGPIOB,GPIO_PinSource14);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//EXTI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	EXTI_InitTypeDef EXTI_InitStructure;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Line<span style="color:#f92672">=</span>EXTI_Line14;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_LineCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Mode<span style="color:#f92672">=</span>EXTI_Mode_Interrupt;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Trigger<span style="color:#f92672">=</span>EXTI_Trigger_Falling;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">EXTI_Init</span>(<span style="color:#f92672">&amp;</span>EXTI_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//NVIC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	NVIC_InitTypeDef NVIC_InitStructure;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannel<span style="color:#f92672">=</span>EXTI15_10_IRQn;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelSubPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">NVIC_Init</span>(<span style="color:#f92672">&amp;</span>NVIC_InitStructure);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">EXTI15_10_IRQHandler</span>(<span style="color:#66d9ef">void</span>){<span style="color:#75715e">//中断函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">EXTI_GetITStatus</span>(EXTI_Line14)<span style="color:#f92672">==</span> SET){
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">EXTI_ClearITPendingBit</span>(EXTI_Line14);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="定时器">定时器</h2>
<h3 id="timtimer定时器">TIM（Timer）定时器</h3>
<p>定时器可以对输入的时钟进行计数，并在计数值达到设定值时触发中断</p>
<p>16位计数器、预分频器、自动重装寄存器的时基单元，在72MHz计数时钟下可以实现最大59.65s的定时
不仅具备基本的定时中断功能，而且还包含内外时钟源选择、输入捕获、输出比较、编码器接口、主从触发模式等多种功能
根据复杂度和应用场景分为了高级定时器、通用定时器、基本定时器三种类型</p>
<h3 id="使用内部时钟源实现中断标准库中">使用内部时钟源实现中断（标准库中）</h3>
<p>在编写代码前先看看定时器的实现原理图</p>
<ul>
<li>基本定时器
<a href="#R-image-ebd775daf28610a084c3e8c707b8a1b8" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-27.png" alt="基本定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ebd775daf28610a084c3e8c707b8a1b8"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-27.png" alt="基本定时器" class="lightbox-image        " loading="lazy"></a></li>
<li>通用定时器
<a href="#R-image-e484e1e0d8eb33cd70d317c1df2a3f5f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-28.png" alt="通用定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e484e1e0d8eb33cd70d317c1df2a3f5f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-28.png" alt="通用定时器" class="lightbox-image        " loading="lazy"></a></li>
<li>高级定时器（红色框出来的部分是高级定时器独有的）
<a href="#R-image-260723f066597b4668d9f983f81aad4d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-29.png" alt="高级定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-260723f066597b4668d9f983f81aad4d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-29.png" alt="高级定时器" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>此处主要参考通用计时器的结构图，下面是基于内部时钟RCC的定时器。</p>
<p>在 <strong>stm32f103xxx_rcc.c</strong> 文件对 <strong>RCC_APB1PeriphClockCmd</strong> 这样的介绍：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * @brief  Enables or disables the High Speed APB (APB2) peripheral clock.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * @param  RCC_APB2Periph: specifies the APB2 peripheral to gates its clock.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *   This parameter can be any combination of the following values:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *     @arg RCC_APB2Periph_AFIO, RCC_APB2Periph_GPIOA, 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  ……
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  ……
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  ……+
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  */</span></span></span></code></pre></div><p>specifies the APB2 peripheral to gates its clock.即：指定APB 2外围设备到其时钟门。而这里的时钟门代码里选择了TIM2。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Timer_Init</span>(<span style="color:#66d9ef">void</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//1.RCC 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB1PeriphClockCmd</span>(RCC_APB1Periph_TIM2,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//2.选择时基单元时钟源，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">TIM_InternalClockConfig</span>(TIM2);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//3.时基单元
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
</span></span><span style="display:flex;"><span>	TIM_TimeBaseInitStructure.TIM_ClockDivision<span style="color:#f92672">=</span>TIM_CKD_DIV1;		<span style="color:#75715e">//时钟分频，这里是1分频
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_CounterMode<span style="color:#f92672">=</span>TIM_CounterMode_Up;	<span style="color:#75715e">//计数方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_Period<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;					<span style="color:#75715e">//自动重装值，计数达到这个值后触发中断，然后重新开始计数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_Prescaler<span style="color:#f92672">=</span><span style="color:#ae81ff">7200</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;				<span style="color:#75715e">//预分频，计数频率，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>																	<span style="color:#75715e">//假设计数为1s则自动重装值可设置为10000，预分频可设置为7200，公式为秒数=27MHz/PSC/ARR
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_RepetitionCounter<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;				<span style="color:#75715e">//重复计数数器高级定时器才有，这里设置为0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">TIM_TimeBaseInit</span>(TIM2,<span style="color:#f92672">&amp;</span>TIM_TimeBaseInitStructure);				<span style="color:#75715e">//时基单元设置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">TIM_ITConfig</span>(TIM2,TIM_IT_Update,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//4.中断输出控制 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">NVIC_PriorityGroupConfig</span>(NVIC_PriorityGroup_2);					<span style="color:#75715e">//抢占优先级,0-3， 响应优先级0-3，一个工程只设置一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//5.NVIC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	NVIC_InitTypeDef  NVIC_InitStructure;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannel<span style="color:#f92672">=</span>TIM2_IRQn;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelSubPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">NVIC_Init</span>(<span style="color:#f92672">&amp;</span>NVIC_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">TIM_Cmd</span>(TIM2,ENABLE);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">TIM2_IRQHandler</span>(<span style="color:#66d9ef">void</span>){
</span></span><span style="display:flex;"><span>	 <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">TIM_GetITStatus</span>(TIM2,TIM_IT_Update) <span style="color:#f92672">==</span> SET){
</span></span><span style="display:flex;"><span>		Num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">TIM_ClearITPendingBit</span>(TIM2,TIM_IT_Update);
</span></span><span style="display:flex;"><span>	 }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="实现输出比较">实现输出比较</h2>
<h3 id="ocoutput-compare输出比较">OC（Output Compare）输出比较</h3>
<ul>
<li>
<p>输出比较可以通过比较CNT与CCR寄存器值的关系，来对输出电平进行置1、置0或翻转的操作，用于输出一定频率和占空比的<strong>PWM波形</strong></p>
</li>
<li>
<p>每个高级定时器和通用定时器都拥有4个输出比较通道</p>
</li>
<li>
<p>高级定时器的前3个通道额外拥有死区生成和互补输出的功能</p>
</li>
<li>
<p>OC：<strong>输出比较</strong></p>
</li>
<li>
<p>IC：<strong>输入比较</strong></p>
</li>
<li>
<p>CC：<strong>输入/输出比较</strong></p>
</li>
</ul>
<h3 id="pwm波形">PWM波形</h3>
<ul>
<li>PWM（Pulse Width Modulation）脉冲宽度调制，广泛应用于各种电子和电气系统中，用于控制功率转换、电机速度、信号传输等</li>
<li>在具有<a href="%E6%83%AF%E6%80%A7%E7%9A%84%E7%B3%BB%E7%BB%9F">^1</a>中，可以通过对一系列脉冲的宽度进行调制，来等效地获得所需要的模拟参量，常应用于电机控速等领域
<a href="%E4%BE%8B%E5%A6%82%E7%94%B5%E6%9C%BA%E8%BD%AC%E5%8A%A8%E6%9A%82%E5%81%9C%E5%90%8E%E4%B8%8D%E4%BC%9A%E9%A9%AC%E4%B8%8A%E5%81%9C%E6%AD%A2%EF%BC%8C%E8%80%8C%E6%98%AF%E8%BF%87%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E6%89%8D%E4%BC%9A%E5%81%9C%E6%AD%A2%E3%80%82">^1</a></li>
<li>PWM参数：
<ul>
<li>频率 = 1 / TS</li>
<li>占空比 = TON / TS</li>
<li>分辨率 = 占空比变化步距
<a href="#R-image-663b6d7ec9b30d94b3fb6a97030b6688" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-31.png" alt="PWM" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-663b6d7ec9b30d94b3fb6a97030b6688"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-31.png" alt="PWM" class="lightbox-image        " loading="lazy"></a>
一些电平变化图可以等效为图中的虚线。
<a href="#R-image-bfad9867efe3cf1b84e0b2ce41639a68" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-30.png" alt="信息" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bfad9867efe3cf1b84e0b2ce41639a68"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-30.png" alt="信息" class="lightbox-image        " loading="lazy"></a></li>
</ul>
</li>
</ul>
<p><a href="#R-image-3a1a433352d299036aa41af4f4bb04cb" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-33.png" alt="通用定时器结构图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3a1a433352d299036aa41af4f4bb04cb"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-33.png" alt="通用定时器结构图" class="lightbox-image        " loading="lazy"></a>
上图框出来的部分具体如下图：
<a href="#R-image-f1701f8a36cab1ccff9e9d541c5a2684" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-32.png" alt="捕获/比较通道的输出部分" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f1701f8a36cab1ccff9e9d541c5a2684"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-32.png" alt="捕获/比较通道的输出部分" class="lightbox-image        " loading="lazy"></a></p>
<p>在信号通过比较后输出到CC1P，然后再输出到输出使用电路，输出使用电路的OC1可以查看<strong>引脚定义表</strong></p>
<p>在上图中需要注意的一些引文缩写：</p>
<ul>
<li><strong>REF</strong> 是reference的缩写。意思是 <strong>参考信号</strong></li>
</ul>
<h3 id="输出比较的设置">输出比较的设置</h3>
<p>设置的函数为</p>
<p><a href="#R-image-b90e228d11b241a89f6f25987b6c0d68" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-34.png" alt="模式" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b90e228d11b241a89f6f25987b6c0d68"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-34.png" alt="模式" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="pwm基本结构">PWM基本结构</h3>
<p>配置PWM的时候可以参考下面的图，
<a href="#R-image-18d981efa36fe159f1f9518b5ee90272" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-35.png" alt="结构图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-18d981efa36fe159f1f9518b5ee90272"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-35.png" alt="结构图" class="lightbox-image        " loading="lazy"></a>
图中的参考坐标系图红色线表示CCR的值，蓝色线表示CNT的值，黄色线表示自动重装载值即ARR。
了解了这点后我们再看看PWM的是如何计算的，如下公式</p>
<p><strong>PWM频率：</strong>
[ \text{Freq} = \frac{CKPSC}{(PSC + 1) \times (ARR + 1)} ]
可以看出PWM的频率等于CNT的更新频率</p>
<p><strong>PWM占空比：</strong>
[ \text{Duty} = \frac{CCR}{(ARR + 1)} ]</p>
<p><strong>PWM分辨率：</strong>
[ \text{Reso} = \frac{1}{(ARR + 1)} ]</p>
<h3 id="代码编写">代码编写</h3>
<p><a href="#R-image-bb366630fed472508ec3c49e01a9d864" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-36.png" alt="高级定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bb366630fed472508ec3c49e01a9d864"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-36.png" alt="高级定时器" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b5-%E6%AF%94%E8%B5%9B/">B5-比赛</a></li>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%90%8E%E7%AB%AF/">后端</a></li>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
  </ul>
</div>
            </header>
<h1 id="唛盟杯比赛详记">唛盟杯比赛详记</h1>

<h2 id="比赛说明">比赛说明</h2>
<p>自己有幸参加这次唛盟杯的比赛，这次比赛流程如下：</p>
<p>一、报名时2024年1月1到31日本来是12月份但延期了。</p>
<p>二、培训时间，现在还不确定，不过也是可以肯定是年后的事了。</p>
<p>三、项目制作时间3-5月，不知道后面会不会改。</p>
<p>四、项目环境及操作流程</p>
<p>（一）、开发工具</p>
<p>1、要求使用唛盟低代码平台作为开发项目模板<a href="https://gitee.com/maimengcloud/mdp-lcode-ui-web" target="_blank">唛盟低代码平台链接</a>；</p>
<p>2、要求使用唛盟研发管理系统（唛盟xm）进行软件研发项目管理<a href="https://maimengcloud.com/xm/m1/#/login" target="_blank">唛盟研发管理系统链接</a>;</p>
<p>（二）、唛盟xm操作流程</p>
<pre><code>1、先在唛盟xm中建立一个产品，产品名称为“知识产权流程管理系统”；
2、细化产品需求；
3、由产品派生一个项目，构建项目团队；
4、由需求派生项目任务，并确定任务执行人、计划完成时间等；
5、编制测试用例，建立测试计划，执行测试；
6、出具项目报告，提交结项申请。
</code></pre>
<p>（三）、代码提交</p>
<p>官方提供代码库链接，我们下载后，在该代码库基础上进行开发、提交代码。</p>
<h2 id="比赛题目">比赛题目</h2>
<h3 id="一项目主题">一、项目主题</h3>
<p>知识产权流程管理系统</p>
<p>二、项目描述</p>
<p>该系统用于知识产权项目申报的全过程跟踪管理，其功能包括：</p>
<ul>
<li>客户下单、</li>
<li>提交申请、</li>
<li>申请反馈、</li>
<li>订单查询、</li>
<li>订单详情、</li>
<li>文档查阅下载等六大部分。</li>
</ul>
<p>该系统分为客户端和管理端两个子系统。客户端对客户开放，主要功能包括：</p>
<ul>
<li>客户下单、</li>
<li>付款、</li>
<li>订单查询、</li>
<li>订单进度消息推送（推送到公众号、网站内部消息）、</li>
<li>文档查阅下载等。</li>
</ul>
<p>管理端对管理人员开放，不对客户开放，负责订单管理、文档上传（批量上传）等。</p>
<h3 id="三项目需求">三、项目需求</h3>
<p>（一）、用户端</p>
<p>个人中心模块：</p>
<p>1、订单查询</p>
<p>分为我的订单（综合查询）及商标、专利、版权、科技项目四大子类查询，订单查询按全部业务下单时间顺列。</p>
<p>订单查询功能大致效果图：
<a href="#R-image-a7d4e2c153a6aba9aa0e321ebe2e4aa8" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image.png" alt="订单查询" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a7d4e2c153a6aba9aa0e321ebe2e4aa8"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image.png" alt="订单查询" class="lightbox-image        " loading="lazy"></a></p>
<p>2、订单详细</p>
<p>可根据订单详情按钮跳转到对应的订单详情。
<a href="#R-image-d10a68035845736ba3a364cdb2fa451a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-1.png" alt="订单详细" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d10a68035845736ba3a364cdb2fa451a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-1.png" alt="订单详细" class="lightbox-image        " loading="lazy"></a>
订单详情页展示图：
<a href="#R-image-38bff6f1176fac491ad28c3b6f563fb7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-2.png" alt="订单详情页" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-38bff6f1176fac491ad28c3b6f563fb7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-2.png" alt="订单详情页" class="lightbox-image        " loading="lazy"></a></p>
<p>（二）、管理端</p>
<p>订单管理模块：</p>
<p><strong>1、订单查询</strong></p>
<p>查询订单，展示列表。</p>
<p><strong>2、订单详细</strong></p>
<p>在订单列表中点击某个订单，进入订单详情。</p>
<p><strong>3、文档上传</strong></p>
<p>在订单详情页，点击文档上传，选中本地文件，上传本地文件到服务器，支持批量、单文件上传。</p>
<h2 id="注册唛盟账号">注册唛盟账号</h2>
<h3 id="队长和队员注册账号">队长和队员注册账号</h3>
<p>一、扫描一级部门的二维码</p>
<p>这一部分只建议参加了比赛的网友查看。本次是组队参加，一队3-5人，队长要在他们的官方网页端注册号团队（二级部门），方便后面的项目管理，然后再通过一级部门添加自己的团队，首先是扫描官方给的二维码，扫这个二维码后注册就会在一级部门下，这也是要注册在一级部门之下的办法，</p>
<p>二、授权登录成功后，跳转到提示页面，点击“首页”</p>
<p><a href="#R-image-95861e7fa6f9c264c1fa6907943c80dd" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-95861e7fa6f9c264c1fa6907943c80dd"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5499a144c8669a5cc2a0ab313d8c8e5f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5499a144c8669a5cc2a0ab313d8c8e5f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>三、进入低代码平台首页，按照提示，点击“账户明细”</p>
<p>四、按照提示，输入姓名，并提交</p>
<p>五、点击唛盟低代码平台官网，选择微信扫码登录</p>
<p>唛盟低代码平台官网：https://maimengcloud.com/lcode/m1/#/login</p>
<p>六、看到用户名称是自己的即报名成功</p>
<h3 id="队长注册团队">队长注册团队</h3>
<h4 id="1要求">1要求</h4>
<pre><code>1.构建每个参赛团队的独立部门
2.将参赛队员拉入部门
3.给每个参赛队员设置好岗位
</code></pre>
<h4 id="2相关环境">2相关环境</h4>
<p><a href="https://maimengcloud.com/lcode/m1/" target="_blank">唛盟账户系统</a></p>
<h4 id="3操作步骤">3操作步骤</h4>
<p>3.1 在一级部门，即总部下建立子部门</p>
<p>进入【部门管理】，点击【添加下级】</p>
<p>3.2输入部门信息</p>
<ul>
<li>部门名称要求：以参赛团队名称作为部门名称</li>
<li>上级领导选：一级部门</li>
<li>部门负责人：选参赛团队组长</li>
<li>部门性质：技术部门</li>
<li>协作类型：内部组织</li>
</ul>
<p>其它字段不填</p>
<p>（如果你不是第一届比赛的同学，那这个不需要关注，可能每年都不一样）</p>
<p>3.3保存提交</p>
<p>3.4把岗位挂接到部门上</p>
<p>【部门管理】中找到刚才建立的部门，点击【岗位】按钮弹出以下岗位选择框：</p>
<p>选择左边需要绑定的岗位，移动到右边，点击【提交】按钮即完成岗位绑定（如果没有显示岗位，多次刷新，或者退出重新登录，这个知识第一届遇到此问题解决的方案）</p>
<p>3.5把用户拉入部门</p>
<p>打开【用户管理】菜单，先把自己的搜索出来，如果不是通过一级部门的二维码注册的，会搜不到的哦。找到需要拉入的队友，点击【部门/岗位】</p>
<p>弹出以下部门岗位选择界面：</p>
<p>在弹出的界面中左边选中归属的部门，右边选中岗位，再【提交】即可</p>
<p>这部分本来也不想记了，毕竟没什么用了，可能下一届又不一样了，但想想自己记一下当作回忆也可以。</p>
<h2 id="安装git和nodejs">安装git和nodejs</h2>
<p>在安装前我们通过这个链接<code>https://gitee.com/maimengcloud/mdp-lcode-ui-web</code>去看看这个项目的介绍，</p>
<p><a href="#R-image-2063f80c6220fcb2f37768ad06b84829" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2063f80c6220fcb2f37768ad06b84829"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>大概浏览一下，然后往下拉根据导航直接跳到 <strong>快速开始</strong></p>
<p><a href="#R-image-abfac9b1933178a215ea8dfa77048f86" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-7.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-abfac9b1933178a215ea8dfa77048f86"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-7.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>这里并不是说其他的不重要，只是说对于一个项目而言如果不是涉及本地启动的话不必花费时间去纠结，等你能让项目在本地启动后再回来看看也不迟，当然这也有弊端，可能会错一些细节哈。</p>
<p>在快速开始的地方提到：</p>
<hr>
<p>注意：该项目使用 <a href="mailto:element-ui@2.3.0">element-ui@2.3.0</a>+ 版本，所以最低兼容 <a href="mailto:vue@2.5.0">vue@2.5.0</a>+ nodejs版本v14.16.1</p>
<hr>
<p>所以我们安装的时候要注意版本的问题尽量不要选太高的，如果你已经安装了一部分或全部，而且版本很高或很低，这样也不必太担心（大不了删掉重新安装，哈哈），下面是我的一些经验，希望帮到你。</p>
<h3 id="git的安装">git的安装</h3>
<p>这部分没有太多可讲的，网上有很多的教程，讲的也很好，这里需要你记住的一条命令是：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git"> git clone &lt;远程仓库地址&gt;  &lt;本地存放目录&gt;</code></pre></div><p>这里举个例子，就比如这次比赛用到的这个项目,我们建一个文件夹装要下载的项目，比如是mdp文件夹，然后右键，win11选显示更多，在弹出的选项选择： <strong>git bash here</strong></p>
<p><a href="#R-image-1299382b14507483acd88d15529316d8" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1299382b14507483acd88d15529316d8"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制下面的内容回车就可以了。</p>
<hr>
<p>git clone <a href="https://gitee.com/maimengcloud/mdp-lcode-ui-web.git" target="_blank">https://gitee.com/maimengcloud/mdp-lcode-ui-web.git</a>  mdp-lcode-ui-web/</p>
<hr>
<p>但是有的时候也会因为网速的问题，导致无法下载，比如回车后报错，如下:</p>
<hr>
<p><a href="#R-image-3e99c265ba3041391c8174aab90bce44" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-13.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3e99c265ba3041391c8174aab90bce44"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-13.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
Cloning into &lsquo;mdp-lcode-ui-web&rsquo;&hellip;
fatal: unable to access &lsquo;<a href="https://gitee.com/maimengcloud/mdp-lcode-ui-web.git/%27" target="_blank">https://gitee.com/maimengcloud/mdp-lcode-ui-web.git/'</a>: Failed to connect to 127.0.0.1 port 26501 after 2017 ms: Couldn&rsquo;t connect to server</p>
<hr>
<p>简单翻译理解就是这个远程仓库无法访问，其实这也是使用让我比较烦恼的问题，这里的原因我可能没办法给你讲清楚（你有时间可以去琢磨哈），但有个软件可以分享给你，帮你解决这个问题，即 <strong>watt toolkit</strong> ,而且这个软件在微软软件商城就有。</p>
<p><a href="#R-image-478ed936e107c9a2970e0a4bd44f92d7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-478ed936e107c9a2970e0a4bd44f92d7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>下载后选github，然后点击一键加速。</p>
<p><a href="#R-image-72874cd0a3105a29f614c3224443ac75" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-10.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-72874cd0a3105a29f614c3224443ac75"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-10.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-1bd271dca1b8c63a4a58c8b42dae4e6e" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1bd271dca1b8c63a4a58c8b42dae4e6e"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>然我们再回到git base here，再次输入刚才的命令回车，</p>
<p><a href="#R-image-71e6744f046d49bd306c88163b9c0bad" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-71e6744f046d49bd306c88163b9c0bad"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>发现刚才的代码仓库已经下载到本地了。</p>
<p><a href="#R-image-7970d765655ad5c193f5b36db137dc40" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7970d765655ad5c193f5b36db137dc40"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>如果你使用上面的软件还是无法下载远程的仓库，那你需要根据报错信息在网上查考相关的信息，这里提供上面报错的可能解决方案，只是针对上面的问题哦！<a href="https://cloud.tencent.com/developer/article/2108855" target="_blank">参照文章</a></p>
<h3 id="安装node">安装node</h3>
<p>网上可能称为nodejs都是一个工具，这个工具的简介还请参照官方，这里我们有做过多的了解哦。在安装node之前我们要先安装nvm。这是一个管理node的工具，这里安装的主要目的是 <strong>升高或降低node版本</strong>，简单就是想安装哪个版本（已发布且可下载的版本）的可以用这个工具来实现。</p>
<p>nvm是否要安装取决于你的情况，除了nvm，此次项目还需要安装工具node，vue，mvn。</p>
<p>方案一：为防止版本过高过低影响运行，以后可能还需要，最好是下载nvm管理node，然后也要了解升级或降低vue版本的方法，最后下载mvn；</p>
<p>方案二：自己不管安装还是没安装，直接安装node，vue，mvn，本次项目用到的node，vue，mvn都在package.json文件里定义写好了，运行后会根据里面去下载，似乎对项目没太大影响（因为我工具处于最高版本，或是相对低一点的版本，使用相同的命令，报错都是一个，基于这点你可以尝试。）</p>
<h2 id="方案一">方案一</h2>
<h3 id="安装nvm">安装nvm</h3>
<p><a href="https://blog.csdn.net/HuangsTing/article/details/113857145" target="_blank">参照文档</a> 关于文章的几点说明：</p>
<ul>
<li>登录github的时候记得开watt toolket;</li>
<li>如果nvm下载不了要刷新或者退出重新进入，多试几次；</li>
<li>基于本次的项目我们只看文章的一——四，五往后有时间就了解一下就好了；</li>
</ul>
<p>里面的 <strong>三、配置路径和下载源</strong>我们需要把淘宝镜像改为如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>    node_mirror: https://cdn.npmmirror.com/binaries/node/
    npm_mirror: https://cdn.npmmirror.com/binaries/npm/</code></pre></div><p>这是因为淘宝的镜像换了。</p>
<p>接着<a href="https://blog.csdn.net/ZHANGYANG_1109/article/details/121229581" target="_blank">参照文章</a>，目的是node还要做一些配置，主要node的环境变量设置，还有目录<code>node_cache</code>和目录<code>node_global</code>的一些设置。从文章的下图开始看，关于node的下载就不看了。
<a href="#R-image-bfeadc12fc46906110bad0b1f793eb0e" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-15.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bfeadc12fc46906110bad0b1f793eb0e"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-15.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>注意在设置目录<code>node_cache</code>和目录<code>node_global</code>时，</p>
<hr>
<p>npm config set prefix &ldquo;&lt;自己的文件目录&gt;\node_global&rdquo;
npm config set cache &ldquo;&lt;自己的文件目录&gt;\node_cache&rdquo;</p>
<hr>
<p>这两个路径时要记得把它改成自己安装的路径：</p>
<h3 id="安装指定的vue版本">安装指定的vue版本</h3>
<h4 id="情况一你没安装过vue">情况一：你没安装过vue</h4>
<p>首先你要先安装好node，然后用node的npm工具安装vue。</p>
<p>使用命令查看可安装版本：</p>
<hr>
<p>要查看的vue版本是1.x和2.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">view</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span> <span style="color:#a6e22e">versions</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">json</span></span></span></code></pre></div><hr>
<p>要查看的vue版本是3.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">view</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span> <span style="color:#a6e22e">versions</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">json</span></span></span></code></pre></div><p><strong>安装vue指定的版本</strong>：</p>
<hr>
<p>安装的vue版本是1.x和2.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">install</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">add</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span></span></span></code></pre></div><hr>
<p>要查看的vue版本是3.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">install</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">add</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span></span></span></code></pre></div><p><strong>第一次安装要去配环境变量。</strong></p>
<h4 id="情况二你安装过vue">情况二：你安装过vue</h4>
<p>卸载已经安装的Vue Cli</p>
<hr>
<p>卸载 3.x 或 4.x 版本的Vue Cli</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">uninstall</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">remove</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span></span></span></code></pre></div><hr>
<p>卸载 1.x 或 2.x 版本的Vue Cli</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">uninstall</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">remove</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span></span></span></code></pre></div><p>重复情况一的步骤，然后打开cmd，输入：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>vue -V</span></span></code></pre></div><p>显示安装的版本则说明安装完成。</p>
<p><a href="https://blog.csdn.net/milijiangjun/article/details/108004669" target="_blank">原文章链接</a></p>
<h3 id="安装mvnmaven工具">安装mvn（Maven）工具</h3>
<p>直接参照<a href="https://blog.csdn.net/u012660464/article/details/114113349" target="_blank">这个文章</a>就好了。</p>
<h2 id="方案二">方案二</h2>
<h2 id="安装node和vue">安装node和vue</h2>
<p><a href="https://blog.csdn.net/zhouyan8603/article/details/109039732" target="_blank">参照文章</a>，同样的里面涉及到镜像文件的设置要注意换掉：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>    node_mirror: https://cdn.npmmirror.com/binaries/node/
    npm_mirror: https://cdn.npmmirror.com/binaries/npm/</code></pre></div><p>除此之外在设置目录<code>node_cache</code>和目录<code>node_global</code>这两个路径时要记得把它改成自己安装的路径：</p>
<hr>
<p>npm config set prefix &ldquo;&lt;自己的文件目录&gt;\node_global&rdquo;
npm config set cache &ldquo;&lt;自己的文件目录&gt;\node_cache&rdquo;</p>
<hr>
<h2 id="安装mvn">安装mvn</h2>
<p>直接参照<a href="https://blog.csdn.net/u012660464/article/details/114113349" target="_blank">这个文章</a>就好了。</p>
<p>至此工具就就安装完了，接着我们就要去启动项目了。</p>
<h2 id="本地启动项目">本地启动项目</h2>
<p>本次使用的系统是win11和code应用程序，如果你用的不是这个系统和应用程序情况可能不一样哈。</p>
<h3 id="根据项目的简介开始运行项目">根据项目的简介开始运行项目</h3>
<p>这里我使用的是code应用程序（你如果用的是别的应用程序另说咯），点击文件夹用code打开后，根据项目文档执行命令：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>    npm install</code></pre></div><p>结果…………………………报错啦（我就知道没这么简单）！！！错误如下：</p>
<p><a href="#R-image-55817b45918d242f0e2136528c386bb3" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/d997475b8182542e064b2551579b0f2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-55817b45918d242f0e2136528c386bb3"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/d997475b8182542e064b2551579b0f2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>上面的报错意思是：在尝试安装项目依赖时，npm遇到了依赖冲突问题。具体来说，babel-loader需要webpack的版本在2、3或4之间，但是你的项目中已经安装了webpack的5.90.1版本。这导致了peer依赖冲突，因为babel-loader期望的webpack版本与实际安装的版本不匹配，</p>
<p><strong>解决办法如下：</strong></p>
<p>1.查看自己的node版本；</p>
<pre><code>```
node -v
```
</code></pre>
<p><a href="#R-image-7bb40de9c70f6caddebf31f64b3c7d1a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7bb40de9c70f6caddebf31f64b3c7d1a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>2.修改&quot;package.json&quot;，在&quot;devDependencies&quot;中增加&quot;node&quot;: &ldquo;^21.6.1&quot;依赖；</p>
<pre><code>```
&quot;node&quot;:&quot;^21.6.1&quot;,
```
</code></pre>
<p><a href="#R-image-07169eec885925e4de7c794ed6f2a366" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-17.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-07169eec885925e4de7c794ed6f2a366"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-17.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>3.npm install -s <a href="mailto:node-sass@4.14.1">node-sass@4.14.1</a>;</p>
<p>4.npm install &ndash;save &ndash;legacy-peer-deps;</p>
<pre><code>结果……………………报错啦！！！！！
</code></pre>
<p><a href="#R-image-827cd12c8d6da695e164a2a0fb608cd7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-18.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-827cd12c8d6da695e164a2a0fb608cd7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-18.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>修改&quot;package.json&quot;，原来的改为&quot;node&quot;: &quot;^13.14.0&quot;依赖；

再次运行结果没报错。
</code></pre>
<p>5.npm install &ndash;registry=https://cdn.npmmirror.com</p>
<pre><code>接着我们运行如下代码 `npm install --registry=https://cdn.npmmirror.com`
</code></pre>
<p>6.npm run dev</p>
<pre><code>运行npm run dev，结果还是报错了……
</code></pre>
<p><a href="#R-image-1fc46063f450f339a262ae1b71c4635e" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-19.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1fc46063f450f339a262ae1b71c4635e"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-19.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>这里的错误说vue-template-compiler的版本为2.7.16，那我们就去&quot;package.json&quot;找到vue，

原来的vue版本：
</code></pre>
<p><a href="#R-image-1651d173a3184985179b6aecc1ac1c1a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-20.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1651d173a3184985179b6aecc1ac1c1a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-20.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>把上面的修改为`&quot;vue&quot;:&quot;^2.7.16&quot;,`

这时候要重新运行 `npm install --save --legacy-peer-deps`,然后再次运行 `npm run dev`;

结果还是报错，如下：
</code></pre>
<p><a href="#R-image-0feabaf3bc55ca5a68cfceca83e09827" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-21.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0feabaf3bc55ca5a68cfceca83e09827"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-21.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>大概意思是没有找到ajv这个包，那么我们在&quot;package.json&quot;里的 **&quot;dependencies&quot;** 添加`&quot;ajv&quot;: &quot;^8.12.0&quot;,`
然后重复`npm install --save --legacy-peer-deps`, `npm run dev`操作就可以了。

显示如下：
</code></pre>
<p><a href="#R-image-9b48a5d6b7f001660b93f857340537ed" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-22.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9b48a5d6b7f001660b93f857340537ed"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-22.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>我们再看看页面，页面如下：
</code></pre>
<p><a href="#R-image-196942b262e1c1e9b7f660ef7eba6ca0" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-23.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-196942b262e1c1e9b7f660ef7eba6ca0"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-23.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>到这里说明没问题了。
</code></pre>
<p>从上面我们可以了解到一点，自己安装的版本似乎并不会影响项目的运行，所以选择方案二来进行安装似乎更简单，但从往长远的看方案一更更好，他可以随时换版本，更为方便。</p>
<p><a href="https://www.cnblogs.com/happyfuns/p/16774117.html" target="_blank">原文章链接</a></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b5-%E6%AF%94%E8%B5%9B/">B5-比赛</a></li>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 13</div>
<h1 id="13计算机组成原理">13.计算机组成原理</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%BF%87%E5%B9%B4/">过年</a><p></p></li>
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/">计算机组成原理-复习</a><p>1 计算机系统概论 计算机的分类 计算机总体上分为：电子模拟计算机1和电子数字计算机。二者区别如下表 比较内容 电子数字计算机 电子模拟计算机 数据表示方</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">13.计算机组成原理 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 1</div>
<h1 id="过年">过年</h1>


<ul class="children children-li children-sort-">
	
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/r-%E8%BD%AF%E7%A1%AC%E4%BB%B6/">R-软硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="计算机组成原理-复习">计算机组成原理-复习</h1>

<h2 id="1-计算机系统概论">1 计算机系统概论</h2>
<h3 id="计算机的分类">计算机的分类</h3>
<p>计算机总体上分为：电子模拟计算机<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>和电子数字计算机。二者区别如下表</p>
<table>
<thead>
<tr>
<th>比较内容</th>
<th>电子数字计算机</th>
<th>电子模拟计算机</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据表示方法</td>
<td>0或1</td>
<td>电压</td>
</tr>
<tr>
<td>计算方式</td>
<td>数字计算</td>
<td>电压组合和测量值</td>
</tr>
<tr>
<td>控制方式</td>
<td>程序控制</td>
<td>盘上连线</td>
</tr>
<tr>
<td>精度</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>数据存储量</td>
<td>大</td>
<td>小</td>
</tr>
<tr>
<td>逻辑计算能力</td>
<td>强</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="计算机的五代变化">计算机的五代变化</h3>
<ul>
<li>第一代1946~1957年， <strong>数据处理</strong> 得到应用；</li>
<li>第二代1958~1964年， <strong>工业控制</strong> 开始得到应用；</li>
<li>第三代1965~1971年， <strong>小型计算机</strong>开始出现；</li>
<li>第四代1972~1990年， <strong>微型计算机</strong> 开始出现；</li>
<li>第五代1991年开始， <strong>单片机</strong> 开始出现</li>
</ul>
<h3 id="计算机的性能指标">计算机的性能指标</h3>
<p><strong>处理机字长</strong> 指处理机运算其中一次能工处理的二进制数运算的位数，例如32位，64位。
<strong>存储器带宽</strong> 单位时间内从存储器独处的二进制数信息量，一般用 <strong>字节数/秒</strong>表示。</p>
<h2 id="2-运算方法和运算器">2 运算方法和运算器</h2>
<p><strong>注：</strong></p>
<ol>
<li>掌握各进制之间的转换；</li>
<li>掌握小数点之间的二进制与十进制之间的转换；</li>
</ol>
<h3 id="二进制纯小数或纯整数表示方法">二进制纯小数或纯整数表示方法</h3>
<ul>
<li>二进制纯小数： <strong>0.10101</strong> 或 <strong>1.10101</strong>，0或1表示正负号，在正负号后面，在实际中计算机并不存储小数点；</li>
<li>二进制纯整数： <strong>10101.</strong>，同样纯整数也用0或1区分正负号。
用Xn-1表示二进制数的个数，Xn表示符号位，如下：
<table>
<thead>
<tr>
<th style="text-align:center">Xn</th>
<th style="text-align:center">Xn-1……X0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">符号</td>
<td style="text-align:center">量值（尾数）</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>纯小数表示范围： <strong>
<span class="math align-center">$0<=|x|<=1-2^{-n} $</span></strong>
纯整数表示范围： <strong>
<span class="math align-center">$0<=|x|<=2^{-n} - 1$</span></strong></p>
<h3 id="浮点数表示方法">浮点数表示方法</h3>
<p>电子质量(克)： 9×10^28 = 0.9×10^27
太阳质量(克)： 2×10^33 = 0.2×10^34</p>
<p>任意十进制数 <strong>N</strong> 可以表示为：</p>

<span class="math align-center">$$N=10^E \cdot M$$</span><p>同样在二进制中也有这样类似的表达：</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>在二进制浮点数表达中：</p>
<ul>
<li>尾数：M，是一个纯小数；</li>
<li>比例因子：e，表示指数，常用整数表示，也称为 <strong>阶码</strong> ；</li>
<li>基数：式子中的2</li>
</ul>
<p>二进制浮点数格式：</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$E_s$</span></th>
<th style="text-align:center">
<span class="math align-center">$E_m-1…E_1 E_0$</span></th>
<th style="text-align:center">
<span class="math align-center">$M_s$</span></th>
<th style="text-align:center">
<span class="math align-center">$M_m-1…M_1 M_0$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">阶符</td>
<td style="text-align:center">阶码</td>
<td style="text-align:center">数符</td>
<td style="text-align:center">尾数</td>
</tr>
</tbody>
</table>
<p><strong>IEEE754标准</strong>格式表示浮点数</p>
<p><strong>知识储备：</strong> 
<span class="math align-center">$\frac{1}{2^0}=1$</span>,
<span class="math align-center">$\frac{1}{2^1}=0.5$</span>,
<span class="math align-center">$\frac{1}{2^2}=0.25$</span>,
<span class="math align-center">$\frac{1}{2^3}=0.125$</span>,
<span class="math align-center">$\frac{1}{2^4}=0.0625$</span>,
<span class="math align-center">$\frac{1}{2^5}=0.03125$</span></p>
<p>浮点数表示：</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>浮点数所占位数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$S$</span></th>
<th style="text-align:center">
<span class="math align-center">$E$</span></th>
<th style="text-align:center">
<span class="math align-center">$M$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">
<span class="math align-center">$31$</span></td>
<td style="text-align:center">
<span class="math align-center">$30 \gets 23$</span></td>
<td style="text-align:center">
<span class="math align-center">$22 \gets 0$</span></td>
</tr>
</tbody>
</table>
<ul>
<li>基数R=2，基数固定，采用隐含方式来表示它。</li>
<li>32位的浮点数：
<ul>
<li>S数的符号位，1位，在最高位，“0”表示正数，“1”表示负
数。</li>
<li>M是尾数， 23位，在低位部分，采用纯小数表示,不对小数点进行存储；</li>
<li>E是阶码，8位，也就是说阶码最大不超过255，但阶码采用移码表示
<span class="math align-center">$E=2^{7}+e=127+e$</span>，原因是移码比较大小方便。</li>
<li>规格化： 若不对浮点数的表示作出明确规定，同一个浮点数的表示就不是惟一的，所以一般都会规定这个浮点数的位数
<ul>
<li>尾数域最左位(最高有效位)总是1， 故这一位经常不予存储，而认为隐藏在小数点的左边。</li>
<li>采用这种方式时，将浮点数的指数真值e变成阶码E时，应将指数e加上一个固定的偏移值127(01111111)，即E=e+127。如果是二进制转真值就E=e-127</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>下面举两个例子进行说明：</p>
<p><strong>例1：二进制转十进制</strong>若浮点数x的754标准存储格式为(41360000)16，求其浮点数的十进制数值。</p>
<p>解：将16进制数展开后，可得二制数格式为</p>
<p>0 100 00010 011 0110 0000 0000 0000 0000</p>
<p>符号S=0</p>
<p>阶码E=100 00010</p>
<p>尾数M=011 0110 0000 0000 0000 0000</p>
<p>指数e=E-127=10000010-01111111=00000011=
<span class="math align-center">$(3)_10$</span>，故有</p>
<p>1.M=1.011 0110 0000 0000 0000 0000=1.011011</p>
<p>于是有</p>

<span class="math align-center">$x=(-1)S \times 1.M \times 2^e=+(1.011011)  \times 2^3=+1011.011=(11.375)_10$</span>
<p><strong>问：</strong> 0.011怎么转成0.375？</p>
<p>根据上面的知识储备有
<span class="math align-center">$ \frac{1}{2^0}\times 0 + \frac{1}{2^1}\times 1 +\frac{1}{2^2}\times 1=0+0.25+0.125=0.375 $</span></p>
<p><strong>例2：十进制转二进制</strong>若浮点数为
<span class="math align-center">$(28.8125)_10$</span>，求其浮点数的IEEE754标准存储格式的二进制数值。</p>
<p>解：
<span class="math align-center">$(28.8125)_10$</span>=
<span class="math align-center">$(11100.1101)_2$</span></p>
<p>格式化表示为：
<span class="math align-center">$(11100.1101)_2=1.11001101 \times 2^4$</span></p>
<p>于是有</p>
<p>e=4</p>
<p>E=e+127=4+127=131=
<span class="math align-center">$(1000 0011)_2$</span></p>
<p>M=1100 1101 0000 0000 0000 000（去掉小数点和小数点前的1，而且有23位，不够补0）</p>
<p>S=0</p>
<p>IEEE754标准的32为存储数据位：0 1000 0011 1100 1101 0000 0000 0000 000</p>
<h3 id="数的机器码表示">数的机器码表示</h3>
<p>计算机进行运算时，会把符号位和数字一起编码表示为相应的数，这些数可以用不同的方法表示，例如：原码、补码、移码、反码；</p>
<p>为了区别一般写的数（比如-12，+3等）和机器中的编码（比如 <em><strong>0</strong></em> 1100,<strong>1</strong> 0011），通常前者称之为 <strong>真值</strong>，后者称为 <strong>机器数</strong> 或 <strong>机器码</strong> 。</p>
<p>
<span class="math align-center">$[x]_原$</span>表示机器数，x表示真值。</p>
<p>例如：</p>
<p>
<span class="math align-center">$x=+0011$</span>，
<span class="math align-center">$[x]{_原}=\textbf{0}0011$</span></p>
<p>
<span class="math align-center">$x=-0011$</span>，
<span class="math align-center">$[x]{_原}=\textbf{1}0011$</span>，</p>
<p>原码机器中有“+0”“-0”之分，固有两种形式：例如：
<span class="math align-center">$[x]{_原}$</span>与
<span class="math align-center">$\textbf{1}0011$</span>表达的意思一样。</p>
<p>数学上把类似于
<span class="math align-center">$-3=+9 (mod12)$</span>的式成为 <strong>同余式</strong>。</p>
<h4 id="原码反码补码移码">原码、反码、补码、移码</h4>
<p>对原码、反码、补码、移码的简单说明，已知计算机为4位，x=-3.</p>
<table>
<thead>
<tr>
<th style="text-align:center">例子</th>
<th style="text-align:center">表示方法</th>
<th style="text-align:center">二进制</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">原码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_原}$</span>=<strong>0</strong>0011</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">反码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_反}$</span>=<strong>0</strong>1100</td>
<td style="text-align:center">按位取反</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">补码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_补}$</span>=<strong>0</strong>1101</td>
<td style="text-align:center">反码最低位加1，注意这个时候符号还是1</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">移码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_移}$</span>=<strong>1</strong>,1101</td>
<td style="text-align:center">
<span class="math align-center">$[e]{_移}=2^{k}+e=2^4-0011=0,1101$</span></td>
</tr>
</tbody>
</table>
<p>对于正数来说，前三个都一样，重点说明移码：</p>
<p>定点整数定义 
<span class="math align-center">$[e]{_移}=2^{k}+e,  2^k >e≥-2^k$</span></p>
<p>上面的表达式中，
<span class="math align-center">$[e]{_移}$</span>表示机器码，e为真值，
<span class="math align-center">$2^k$</span>表示固定偏移常量。</p>
<p>已知e=+0011,k=4，
<span class="math align-center">$[e]{_移}=2^{k}+e=2^{4}+0011=1,0011$</span></p>
<p>已知e=-0011,k=4，
<span class="math align-center">$[e]{_移}=2^{k}+e=2^{4}-0011=0,1101$</span></p>
<p>移码中的逗号不是小数点，而是表示左边一位是符号位，显然移码中符号位与前三者的表示相反（<strong>详见P21</strong>）。</p>
<p>下面请看例题：</p>
<p>已知计算机是8位的，请分别写出纯整数125，-110，纯小数+0.125，-0.375；二进制数x=11011,y=-01010的原码、反码、补码、移码。（注意格式，要对齐）</p>
<table>
<thead>
<tr>
<th style="text-align:center">表示方法</th>
<th style="text-align:center"></th>
<th style="text-align:center">表示方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+125=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">-110=<strong>1</strong>0011 1011</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>0011 1011</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>1100 0100</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>1100 0101</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1100 0100</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">+0.125=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">-0.357=<strong>1</strong>.0110 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>.0110 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>.1001 1111</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>.1010 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1010 0000</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">x=11011</td>
<td style="text-align:center"></td>
<td style="text-align:center">-110=-01010</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>0000 1010</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>1111 0101</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>1111 0111</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1111 0111</td>
</tr>
</tbody>
</table>
<h3 id="定点加法减法运算">定点加法、减法运算</h3>
<p><strong>公式</strong>
补码加法：任意两数补码之和等于两数之和的补码，
<span class="math align-center">$[x]{_补}+[y]{_补}=[x+y]{_补}$</span></p>
<p>补码减法：
<span class="math align-center">$[x-y]{_补}=[x]{_补}-[y]{_补}=[x]{_补}+[-y]{_补}$</span></p>
<p>从
<span class="math align-center">$[y]{_补}$</span>求
<span class="math align-center">$[-y]{_补}$</span>的法则是对
<span class="math align-center">$[y]{_补}$</span>包括符号位在内求反，最低位加1得到表达式为：</p>

<span class="math align-center">$[-y]{_补}=\rightharpoondown [y]{_补}+2^{-n}$</span>
<p>其中，符号
<span class="math align-center">$\rightharpoondown$</span>表示对
<span class="math align-center">$[y]{_补}$</span>作求反操作，包括正负号在内，
<span class="math align-center">$2^{-n}$</span>表示末位（最低位）加1.</p>
<p>下面举例加以理解运算过程：</p>
<p>（ <strong>详见P29</strong> ）</p>
<h3 id="溢出概念与检验方法">溢出概念与检验方法</h3>
<p>在定点整数机器中，运算过程中出现大于字长绝对值的现象称为 <strong>溢出</strong>，溢出分正、负溢出两种，用两位符号位表示， <strong>00</strong>、<strong>11</strong>分别表示整数和负数，<strong>01</strong>表示正溢出，<strong>10</strong> 表示负溢出。</p>
<p><strong>详细说明原理：</strong> 假设x表示二进制数，用
<span class="math align-center">$2^{-n}<x<2^{+n}$</span>表示二进制数的范围，当n=4时，说明二进制最多4为，两个4位二进制运算结果如果为5位则说明溢出，要判断是什么溢出参照上面的方法。</p>
<h3 id="定点乘法运算">定点乘法运算</h3>
<p>乘法运算拆分来看主要有算术运算加法，逻辑运算异或，还有移位操作。</p>
<p>四位二进制数x,y，两数进行乘法运算，符号位不参与数值位分开运算，一开始y的最低位与x的每一位进行异或并输出结果，下一次y的次高位与x的每一位进行异或运算，结果输出并左移次高位的位数，假设次高位是2，那么左移两位输出结果。</p>
<p>举个例子，如下：</p>
<p><a href="#R-image-14cb1779e40d04b2fb81864768a4bb4e" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE1.png" alt="图1.png" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-14cb1779e40d04b2fb81864768a4bb4e"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE1.png" alt="图1.png" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="定点数除法运算">定点数除法运算</h3>
<p>定点数除法运算这里提供两种方法：</p>
<ol>
<li>恢复余数法</li>
</ol>
<p>这种方法是手工计算，而非机器计算，如下图：
定点原码一位除法实现方案（手工）０．１００１０／０．１０１１
<a href="#R-image-54aea3e62da87cdaba59fb69589c82d2" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE2.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-54aea3e62da87cdaba59fb69589c82d2"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE2.png" alt="tu" class="lightbox-image        " loading="lazy"></a>
2. 加减交替法（不恢复余数法）</p>
<p>在这之前我们先简单了解并行除法器，如下图：</p>
<p><a href="#R-image-8f734e5682c26f5bafd4c0f76c00441f" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE3.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f734e5682c26f5bafd4c0f76c00441f"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE3.png" alt="tu" class="lightbox-image        " loading="lazy"></a></p>
<p>被除数 
<span class="math align-center">$0.x{_6}x{_5}x{_4}x{_3}x{_2}x{_1}$</span></p>
<p>(双倍长)</p>
<p>除数 
<span class="math align-center">$0.y{_3}y{_2}y{_1}$</span></p>
<p>商数 
<span class="math align-center">$0.q{_3}q{_2}q{_1}$</span></p>
<p>余数 
<span class="math align-center">$0.r{_6}r{_5}r{_4}r{_3}r{_2}r{_1}$</span></p>
<p>除数右移</p>
<p>例题：ｘ＝0.101001, ｙ＝0.111, 求
<span class="math align-center">${x}\div{y}$</span></p>
<p><a href="#R-image-7de98a97e6cc4aed40a55f5b0dd4bd0f" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE4.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7de98a97e6cc4aed40a55f5b0dd4bd0f"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE4.png" alt="tu" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="浮点运算方法浮点运算器">浮点运算方法，浮点运算器</h3>
<p>再次我们在此复习浮点数的表示方法</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>以及32位IEEE754标准格式</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$S$</span></th>
<th style="text-align:center">
<span class="math align-center">$E$</span></th>
<th style="text-align:center">
<span class="math align-center">$M$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">
<span class="math align-center">$31$</span></td>
<td style="text-align:center">
<span class="math align-center">$30 \gets 23$</span></td>
<td style="text-align:center">
<span class="math align-center">$22 \gets 0$</span></td>
</tr>
</tbody>
</table>
<h4 id="浮点运算步骤">浮点运算步骤</h4>
<ul>
<li>0操作数检查。一般就是检查运算数是否为0，不卸载步骤中</li>
<li>比较阶码（E）并完成对阶（小阶向大阶对齐）</li>
<li>尾数（M）求和运算</li>
<li>结果规格化，把运算结果写成1.M的格式</li>
<li>检查上溢出或下溢出（-127&lt;=x&lt;=127,x在这个范围就表示没有溢出,如果溢出需要通过 <strong>变形补码</strong> 来判断是正溢出（01），还是负溢出（10））</li>
<li>舍入处理。写出要求需要的有效位，并用十进制检验是否正确
<a href="#R-image-dadff899e354f3885f350778d7799df6" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE5.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dadff899e354f3885f350778d7799df6"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE5.png" alt="tu" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>例题：设
<span class="math align-center">$x=0.5{_10},y=0.4375{_10}$</span>,假设尾数有效位为4位，用二进制求
<span class="math align-center">$(x+y){_浮}$</span></p>
<p>把x和化为1.M的格式

<span class="math align-center">$x=0.5{_10}=0.1{_2}=0.1{_2}\cdot 2^0=1.000{_2}\cdot 2^{-1}$</span>

<span class="math align-center">$x=-0.4375{_10}=-0.0111{_2}=-0.0111{_2}\cdot 2^0=-1.000{_2}\cdot 2^{-2}$</span></p>
<p>在这里需要对上面的转换进行说明，说明前我们先看
<span class="math align-center">$0.2\cdot10^{0}$</span>,如果现在想写成2，那上面的式子该怎么改呢？</p>
<p>修改如下：

<span class="math align-center">$0.2\cdot10^{0}=2\cdot10^{-1}$</span></p>
<p>也就是要让式子的左右相等，所以后面10的次方就不一样，理解了上面这个我们再来看
<span class="math align-center">$-0.1{_2}\cdot 2^0=-1.000{_2}\cdot 2^{-1}$</span>就会更好理解。</p>
<p>下面是具体的步骤：</p>
<ol>
<li>对阶，由上可知y的阶小，向x的看齐

<span class="math align-center">$-1.000{_2}\cdot 2^2=-0.100{_2}\cdot 2^{-1}$</span></li>
<li>尾数相加，

<span class="math align-center">$1.000{_2}\cdot 2^{-1}+(-0.100{_2}\cdot 2^{-1})=0.001{_2}\cdot 2^{-1}$</span></li>
<li>规格化：把结果把x和化为1.M的格式

<span class="math align-center">$0.001{_2}\cdot 2^{-1}=1.0000{_2}\cdot 2^{-4}$</span></li>
<li>检验上溢或下溢
由于指数-4用移码表示，-127&lt;=-4&lt;=127,-4在这个范围即没有溢出</li>
<li>舍入操作
根据题目要求
<span class="math align-center">$(x+y){_浮}=1.0000{_2}\cdot 2^{-4}=0.0625{_10}$</span>
十进制检验结果x+y=0.5-0.4375=0.0625</li>
</ol>
<h3 id="浮点数乘除法运算">浮点数乘除法运算</h3>
<p>乘除运算分为四步</p>
<ul>
<li>0操作数检查</li>
<li>阶码加减操作</li>
<li>尾数乘除操作</li>
<li>结果规格化和舍入处理</li>
</ul>
<p>流程与浮点数乘除法类似，但也有不同的地方，下面以乘法运算为例子详细说明具体步骤：</p>
<ol>
<li>将两数的指数部分相加（前提是你要把两数规格化为1.M的形式）</li>
<li>将被乘数和乘数的尾数相乘</li>
<li>规格化于溢出检测</li>
<li>舍入操作</li>
<li>确定乘积的符号（同号为正，异号为负）</li>
</ol>
<h2 id="存储系统">存储系统</h2>
<h3 id="存储系统的层次结构">存储系统的层次结构</h3>
<p>目前存储器的特点是：</p>
<p>• 速度快的存储器价格贵，容量小；
• 价格低的存储器速度慢，容量大。</p>
<ul>
<li>高速缓冲存储器简称<strong>cache</strong>，它是计算机系统中的一个高速小容量半导体存储器。</li>
<li>主存储器简称 <strong>主存</strong>，是计算机系统的主要存储器，用来存放计算机运行期间的 <strong>大量程序</strong> 和 <strong>数据</strong> 。</li>
<li>外存储器简称 <strong>外存</strong>，它是大容量辅助存储器。
<a href="#R-image-1646ca3922504d5a1e2aa5075a56e2fd" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu6.png" alt=" tu6" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1646ca3922504d5a1e2aa5075a56e2fd"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu6.png" alt=" tu6" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="存储系统分类">存储系统分类</h3>
<ul>
<li>按 <strong>存储介质</strong> 分类：磁表面/半导体存储器</li>
<li>按 <strong>存取方式</strong> 分类：随机/顺序存取（磁带）</li>
<li>按 <strong>读写功能</strong> 分类：ROM，RAM
<ul>
<li>RAM，<strong>随机存取存储器</strong> ：双极型/MOS</li>
<li>ROM，<strong>只读存储器</strong> ：MROM/一次可编程只读存储器PROM/可擦除EPROM/电可擦除EEPROM</li>
</ul>
</li>
<li>按信息的可保存性分类：永久性和非永久性的</li>
<li>按存储器系统中的作用分类：主/辅/缓/控</li>
</ul>
<h3 id="存储器的编制和端模式">存储器的编制和端模式</h3>
<ul>
<li>字存储单元：存放一个机器字的存储单元，相应的单元地址叫字地址。</li>
<li>字节存储单元：存放一个字节的单元，相应的地址称为字节地址。</li>
<li>端模式：一个存储字内部的多字节排列方式。
<ul>
<li>大端 big-endian</li>
<li>小端 little-endian</li>
</ul>
</li>
</ul>
<h3 id="存储器技术">存储器技术</h3>
<ul>
<li><strong>存储容量：</strong> 指一个存储器中可以容纳的存储单元总数。存储容量越大，能存储的信息就越多。</li>
<li><strong>存取时间</strong> 又称存储器访问时间：指一次读操作命令发出到该操作完成，将数据读出到数据总线上所经历的时间。通常取写操作时间等于读操作时间，故称为存储器存取时间。</li>
<li><strong>存储周期：</strong> 指连续启动两次读操作所需间隔的最小时间。通常，存储周期略大于存取时间，其时间单位为ns。</li>
<li><strong>存储器带宽：</strong> 单位时间里存储器所存取的信息量，通常以位/秒或字节/秒做度量单位。
记住：
<span class="math align-center">$1KB=2^{10}B，1MB=2^{20}B，1GB=2^{30}B，1TB=2^{40}B$</span></li>
</ul>
<h3 id="sram存储器">SRAM存储器</h3>
<ul>
<li>主存（内部存储器）是半导体存储器。根据信息存储的机理不同可以分为两类：
<ul>
<li>静态读写存储器(SRAM)：存取速度快</li>
<li>动态读写存储器(DRAM)：存储密度和容量比SRAM大。</li>
</ul>
</li>
</ul>
<p>三组信号线：
 地址线:n条地址线，确定存储单元（地址）的个数，或说有2^n个存储单元。
 数据线：决定字的长度（位数）。6条地址线，4条数据线，没那么有64*4个存储位元的总数。
 行线
 列线
 控制线：控制读/写，读写不会同时进行
例如一台计算机数据线有4条，那么它就是4位的计算机。
<a href="#R-image-619b3918f436193178dce76996eb7a3b" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu7.png" alt="tu7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-619b3918f436193178dce76996eb7a3b"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu7.png" alt="tu7" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="存储容量的扩充">存储容量的扩充</h4>
<p>1、字长位数扩展
字节不变，即给的地址线不变，改变数据线让芯片容量符合设计要求。</p>
<p>芯片个数d=设计要求的存储器容量/选择芯片存储器容量</p>
<p>[例2] 利用1M×4位的SRAM芯片，设计一个存储容量
为1M×8位的SRAM存储器。</p>
<p>解：所需芯片数量=(1M×8)/(1M×4)=2片</p>
<p>2、字存储容量扩展</p>
<p>位不变，即数据线不变，通过增加芯片改变地址线使其符合设计要求。</p>
<p>芯片个数d=设计要求的存储器容量/选择芯片存储器容量</p>
<p>[例3]利用1M×8位的DRAM芯片设计2M×8位的DRAM存储
器
解：所需芯片数d=（2M×8）/（1M×8）=2(片)</p>
<p>3、字节扩展</p>
<p>先进行位扩展（数据线bite），字节扩展（字节扩展Byte）</p>
<h3 id="动态随机存取存储器">动态随机存取存储器</h3>
<h4 id="工作原理图">工作原理图</h4>
<p><a href="#R-image-00b988b1cb678b4e043931558cd276b5" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu8.png" alt="tu8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-00b988b1cb678b4e043931558cd276b5"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu8.png" alt="tu8" class="lightbox-image        " loading="lazy"></a>
原理图上的刷新本质上是给mos管充电。</p>
<h4 id="动态随机存取存储器的刷新操作">动态随机存取存储器的刷新操作</h4>
<p>刷新的目的是为了保存存储器的存储信息。
注：读出1才会刷新，读出0不会刷新。
当前主流的DRAM器件的刷新周期间隔时间为64秒</p>
<ul>
<li>集中式刷新。先工作最后在进行充电，假设DRAM有1024行，刷新周期为8ms（这里假设是8ms）</li>
<li>分散式刷新。边工作边刷行，假设DRAM有1024行，由8ms（这里假设是8ms）除以1024=7.4us,所以刷新周期为7.4us</li>
</ul>
<h3 id="只读存储器">只读存储器</h3>
<p>ROM叫做只读存储器。顾名思义，只读的意思是
在它工作时只能读出，不能写入。然而其中存储的原
始数据，必须在它工作以前写入。只读存储器由于工
作可靠，保密性强，在计算机系统中得到广泛的应用。</p>
<p>主要有两类：</p>
<ul>
<li>掩模ROM：掩模ROM实际上是一个存储内容固定的ROM，由生产厂家提供产品。</li>
<li>可编程ROM：用户后写入内容，有些可以多次写入。
<ul>
<li>一次性编程的PROM</li>
<li>多次编程的EPROM和E2PROM。</li>
</ul>
</li>
</ul>
<h4 id="掩模rom">掩模ROM</h4>
<p>1、掩模ROM的阵列结构和存储元
<a href="#R-image-1013f086f41cff345413c9b20938a5ab" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu9.png" alt="tu9" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1013f086f41cff345413c9b20938a5ab"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu9.png" alt="tu9" class="lightbox-image        " loading="lazy"></a></p>
<p>2、可编程ROM</p>
<p> EPROM叫做 <em><strong>光擦除可编程可读存储器</strong></em>。它的存储内容可以根据需要写入，当需要更新时将原存储内容抹去，再写入新的内容。
 现以浮栅雪崩注入型MOS管为存储元的EPROM为例进行说明，结构如下图所示。</p>
<p>E2PROM存储元</p>
<p>EEPROM，叫做电擦除可编程只读存储器。其存储元是一个具有两个栅极的NMOS管，如图(a)和(b)所示，G1是控制栅，它是一个浮栅，无引出线；G2是抹去栅，它有引出线。在G1栅和漏极D之间有一小面积的氧化层，其厚度极薄，可产生隧道效应。如图(c)所示，当G2栅加20V正脉冲P1时，通过隧道效应，电子由衬底注入到G1浮栅，相当于存储了1”。利用此方法可将存储器抹成全“1”状态。
<a href="#R-image-333aec1139b34f0173f7097440ca768b" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu10.png" alt=" tu10" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-333aec1139b34f0173f7097440ca768b"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu10.png" alt=" tu10" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="flash">FLASH</h4>
<p>FLASH存储器也翻译成闪速存储器，它是高密度非失易失性的读/写存储器。高密度意味着它具有巨大比特数目的存储容量。非易失性意味着存放的数据在没有电源的情况下可以长期保存。总之，它既有RAM的优点，又有ROM的优点，称得上是存储技术划时代的进展。</p>
<p><strong>FLASH存储器的基本操作</strong> 编程操作、读取操作、擦除操作。</p>
<h3 id="并行存储器">并行存储器</h3>
<p>并行存储器的作用：提高读写效率</p>
<h4 id="双端口与存储器">双端口与存储器</h4>
<p>1、双端口存储器的逻辑结构</p>
<p>双端口存储器由同一个存储器具有两组 <strong>相互独立的读写控制电路</strong> 而得名。由于进行并行的独立操作，因而是一种高速工作的存储器，在科研和工程中非常有用。 举例说明，双端口存储器IDT7133的逻辑框图 。如下图：
<a href="#R-image-076bc880db87e3272fee4c87c6aa2e44" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu11.png" alt="tu11" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-076bc880db87e3272fee4c87c6aa2e44"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu11.png" alt="tu11" class="lightbox-image        " loading="lazy"></a></p>
<p>2、无冲突读写控制</p>
<p>当两个端口的地址不相同时，在两个端口上进行读写操作，一定不会发生冲突。当任一端口被选中驱动时，就可对整个存储器进行存取，每一个端口都有自己的片选控制(CE)和输出驱动控制(OE)。读操作时，端口的OE(低电平有效)打开输出驱动器，由存储矩阵读出的数据就出现在I/O线上。</p>
<p>3、有冲突读写控制</p>
<p>当两个端口同时存取存储器同一存储单元时，便发生读写冲突。为解决此问题，特设置了BUSY标志。在这种情况下，片上的判断逻辑可以决定对哪个端口优先进行读写操作，而对另一个被延迟的端口置BUSY标志(BUSY变为低电平)，即暂时关闭此端口。</p>
<h4 id="多模块交叉存储器">多模块交叉存储器</h4>
<p>1、存储器的模块化组织
一个由若干个模块组成的主存储器是线性编址的。这些地址在各模块中如何安排，有两种方式：</p>
<ul>
<li>一种是 <strong>顺序方式</strong> ，</li>
<li>一种是 <strong>交叉方式</strong> 。
<a href="#R-image-07c41728e025512f2404e74c8d85904c" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu12.png" alt="tu12" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-07c41728e025512f2404e74c8d85904c"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu12.png" alt="tu12" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h5 id="顺序方式">顺序方式</h5>
<p>[例]M0－M3共四个模块，则每个模块8个字</p>
<p>顺序方式：</p>
<p>M0：0—7
M1：8－15
M2：16－23
M3：24－31</p>
<ul>
<li>5位地址组织如下： X X X X X</li>
<li>高位选模块，低位选块内地址</li>
<li>特点：某个模块进行存取时，其他模块不工作，优点是某一模块出现故障时，其他模块可以照常工作，通过增添模块来扩充存储器容量比较方便。缺点是各模块串行工作，存储器的带宽受到了限制。</li>
</ul>
<h5 id="交叉方式">交叉方式</h5>
<ul>
<li>
<p>M0：0，4,&hellip;除以4余数为0</p>
</li>
<li>
<p>M1：1，5,&hellip;除以4余数为1</p>
</li>
<li>
<p>M2：2，6,&hellip;除以4余数为2</p>
</li>
<li>
<p>M3：3，7,&hellip;除以4余数为3</p>
</li>
<li>
<p>5位地址组织如下： X X X X X</p>
</li>
<li>
<p>高位选块内地址，低位选模块</p>
</li>
<li>
<p>特点：连续地址分布在相邻的不同模块内，同一个模块内的地址都是不连续的。优点是对连续字的成块传送可实现多模块流水式并行存取，大大提高存储器的带宽。使用场合为成批数据读取。</p>
</li>
</ul>
<p><strong>多模块交叉存储器的基本结构</strong> 下图为四模块交叉存储器结构框图。主存被分成4个相互独立、容量相同的模块M0，M1，M2，M3，每个模块都有自己的读写控制电路、地址寄器和数据寄存器，各自以等同的方式与CPU传送信息。在理想情况下，如果程序段或数据块都是连续地在主存中存取，那么将大大提高主存的访问速度。
!p<a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu13.png">tu13</a></p>
<ul>
<li>通常在一个存储器周期内，n个存储体必须分时启动，则各个存储体的启动间隔为
<span class="math align-center">$t=\frac{T}{n}$</span>（n为交叉存取度）</li>
<li>整个存储器的存取速度有望提高n倍

<span class="math align-center">$t{_顺序}=xT$</span>

<span class="math align-center">$t{_交叉}=T\frac{x+n-1}{n}$</span></li>
</ul>
<h3 id="cache-基本原理">cache 基本原理</h3>
<p>为了解决CPU和主存之间速度不匹配而采取的一种重要技术。</p>
<ul>
<li>一般采用高速的SRAM构成。</li>
<li>CPU和主存之间的速度差别很大采用两级或多级Cache系统</li>
<li>早期的一级Cache在CPU内，二级在主板上</li>
<li>现在的CPU内带L1 Cache和L2 Cache</li>
<li>全由硬件调度，对用户透明
<a href="#R-image-d060086e043f706a507754fe04a6f54d" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu14.png" alt="tu14" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d060086e043f706a507754fe04a6f54d"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu14.png" alt="tu14" class="lightbox-image        " loading="lazy"></a>
cpu与缓存之间数据交换是以字节为单位，而缓存与主存之间的数据交换以块为单位，一个块有若干组成，是定长的。</li>
</ul>
<p>从CPU来看，增加一个cache的目的，就是在性能上使主存的平均读出时间尽可能接近cache的读出时间。为了达到这个目的，在所有的存储器访问中由cache满足CPU需要的部分应占很高的比例，即cache的命中率应接近于1。由于程序访问的局部性，实现这个目标是可能的。</p>
<p>命中率：CPU访问cache且需要获取的文件在cache里，即为命中，公示如下：

<span class="math align-center">$h=\frac{N{_c}}{N{_c}+N{_m}}$</span></p>
<p>
<span class="math align-center">$N{_c}$</span>:cache完成存取的总次数（访问cache的总次数）；</p>
<p>
<span class="math align-center">$N{_m}$</span>:主存完成存取的总次数。</p>
<h3 id="主存与cache的地址映射">主存与cache的地址映射</h3>
<p>无论选择那种映射方式，都要把主存和cache划分为同样大小的“块”。下面介绍三种一映射方式：</p>
<p>1、全相联的映射方式（一对多，一是指缓存，多是指主存里的数据块）</p>
<p>（1）将地址分为两部分（块号和字），在内存块写入Cache时，同时写入块号标记；
（2）CPU给出访问地址后，也将地址分为两部分（块号和字），比较电路块号与Cache 表中的标记进行比较，相同表示命中，访问相应单元；如果没有命中访问内存，CPU 直接访问内存，并将被访问内存的相对应块写入Cache。
<a href="#R-image-f6d378691a53997a6ccc76a5c8df74c0" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu16.png" alt=" tu15" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f6d378691a53997a6ccc76a5c8df74c0"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu16.png" alt=" tu15" class="lightbox-image        " loading="lazy"></a></p>
<p>1、全相联映射方式</p>
<p>特点：</p>
<ul>
<li>优点：冲突概率小，Cache的利用高。</li>
<li>缺点：比较器电路难实现，适用于小容量的Cache</li>
</ul>
<h3 id="直接映射方式">直接映射方式</h3>
<p>2、直接映射方式（一对多）：</p>
<ul>
<li>i= j mod m</li>
<li>m为cache中的总行数</li>
<li>主存第j块内容拷贝到Cache的i行</li>
<li>一般I和m都是2^N级
<a href="#R-image-eacc18745c55c5c40ebc80c552689419" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu15.png" alt="tu15" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-eacc18745c55c5c40ebc80c552689419"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu15.png" alt="tu15" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>[例]cache容量16字，主存容量256字，则地址2，18，34…..242等都存放在cache的地址2内，如果第一次2在cache中，下次访问34内容，则不管cache其他位置的内容访问情况，都会引起2块内容的替换。</p>
<p>特点</p>
<ul>
<li>优点：比较电路少m倍线路，所以硬件实现简单，Cache地址为主存地址的低几位，不需变换。</li>
<li>缺点：冲突概率高（抖动）</li>
<li>适合大容量Cache</li>
</ul>
<h3 id="组相联映射方式">组相联映射方式</h3>
<p>前两者的组合</p>
<ul>
<li>Cache分组，组间采用直接映射方式，组内采用全相联的映射方式</li>
<li>Cache分组U，组内容量V</li>
<li>映射方法（一对多）
<ul>
<li>q= j mod u</li>
<li>主存第j块内容拷贝到Cache的q组中的某行</li>
</ul>
</li>
<li>地址变换
<ul>
<li>设主存地址x，看是不是在cache中，先y= x mod u，则在y组中一次查找</li>
</ul>
</li>
</ul>
<p>分析：比全相联容易实现，冲突低</p>
<ul>
<li>v=1，则为直接相联映射方式</li>
<li>u=1，则为全相联映射方式</li>
<li>v的取值一般比较小， 一般是2的幂，称之为v路组相联cache。
<a href="#R-image-2d5cee545dc982b80dde78aa8ae4f3d6" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu17.png" alt="tu17" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2d5cee545dc982b80dde78aa8ae4f3d6"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu17.png" alt="tu17" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="cache替换策略">cache替换策略</h3>
<ul>
<li>LFU（最不经常使用 ）：每行有一个计数器，被访问的行计数器增加1，哪一行的值小，就换值小的行，不能反映近期cache的访问情况，</li>
<li>LRU（近期最少使用） ：被访问的行计数器置0，其他的计数器增加1，哪一行的值大，换值大的行，符合cache的工作原理</li>
<li>随机替换：随机替换策略实际上是不要什么算法，从特定的行位置中随机地选取一行换出即可。这种策略在硬件上容易实现，且速度也比前两种策略快。
<ul>
<li>缺点：随意换出的数据很可能马上又要使用，从而降低命中率和cache工作效率。</li>
<li>优点：但这个不足随着cache容量增大而减小。随机替换策略的功效只是稍逊于前两种策略。</li>
</ul>
</li>
</ul>
<p>由于cache的内容只是主存部分内容的拷贝，它应当 <strong>与主存内容保持一致</strong>。而CPU对cache的写入更改了cache的内容。如何与主存内容保持一致，可选用如下三种写操作策略。</p>
<ul>
<li>写回法：换出时，对行的修改位进行判断，决定是写回还是舍掉。当主存数据传向缓存而缓存满的时候，缓存就要进行替换，只有这个时候才将数据写回主存。</li>
<li>全写法：写命中时，Cache与内存一起写，也就是主存和缓存一起更改；</li>
<li>写一次法：与写回法一致，第一次Cache命中时采用全写法，也就是这个时候要把数据写回主存，因为第一次命中的时候CPU会在总线上启动一个存储写周期，其他cache即可监听到该消息，选择复制或丢弃该数据，以便委会系统全部cache的一致性。</li>
</ul>
<h2 id="4-指令系统">4 指令系统</h2>
<h3 id="指令系统基本概念">指令系统基本概念</h3>
<p>指令：就是要计算机执行某种操作的命令。从计算机组成的层次结构来说，计算机的指令有微指令、机器指令和宏指令之分。</p>

<span class="math align-center">$指令=\begin{cases}微指令\\机器指令\\宏指令\end{cases}$</span>
<ul>
<li><strong>微指令</strong> 是微程序级的命令，它属于硬件；</li>
<li><strong>宏指令：</strong> 由若干条机器指令组成的软件指令，它属于软件；</li>
<li><strong>机器指令：</strong> 介于微指令与宏指令之间，通常简称为指令，每一条指令可完成一个独立的算术运算或逻辑运算操作。</li>
</ul>
<p><strong>本小节介绍的就是机器指令。</strong></p>
<h3 id="指令系统的性能要求">指令系统的性能要求</h3>
<ul>
<li>完备性</li>
<li>规整性</li>
<li>有效性</li>
<li>兼容性</li>
</ul>
<p>低级语言与高级语言的关系
<a href="#R-image-c7710f8bd4ca835cfb39fa020e97f738" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu18.png" alt="tu18" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c7710f8bd4ca835cfb39fa020e97f738"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu18.png" alt="tu18" class="lightbox-image        " loading="lazy"></a></p>
<p>机器程序员看到的计算机属性就是指令系统体系结构，简称 <strong>ISA</strong>。</p>
<h3 id="指令格式">指令格式</h3>
<table>
<thead>
<tr>
<th>操作字段OP</th>
<th>地址码字段A</th>
</tr>
</thead>
<tbody>
<tr>
<td>表示进行什么性质的操作，如+、-等</td>
<td>存储操作数的地址</td>
</tr>
</tbody>
</table>
<p>不同的指令用操作码字段的不同编码来表示，每一种编码代表一种指令。</p>
<p>根据一条指令中有几个操作数地址，可将该指令称为几操作数指令或几地址指令。</p>
<ul>
<li>三地址指令</li>
<li>二地址指令</li>
<li>单地址指令</li>
<li>零地址指令
<table>
<thead>
<tr>
<th>地址码名称</th>
<th>操作码</th>
<th>地址块1</th>
<th>地址块2</th>
<th>地址块3</th>
</tr>
</thead>
<tbody>
<tr>
<td>三地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A_1$</span></td>
<td>
<span class="math align-center">$A_2$</span></td>
<td>
<span class="math align-center">$A_3$</span></td>
</tr>
<tr>
<td>二地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A_1$</span></td>
<td>
<span class="math align-center">$A_2$</span></td>
<td></td>
</tr>
<tr>
<td>一地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A$</span></td>
<td></td>
<td></td>
</tr>
<tr>
<td>零地址指令</td>
<td>OP码</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="三地址指令">三地址指令</h4>
<table>
<thead>
<tr>
<th>三地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A_1$</span></th>
<th>
<span class="math align-center">$A_2$</span></th>
<th>
<span class="math align-center">$A_3$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>被操作数或源操作数地址</td>
<td>操作数或终点操作数地址</td>
<td>存放结果操作数地址</td>
</tr>
</tbody>
</table>
<ul>
<li>功能描述：
<ul>
<li>(A1) op(A2)→A3（把A1A2的结果存放到A3中）</li>
<li>(PC) +1→PC（PC加1）</li>
</ul>
</li>
</ul>
<p>这种格式虽然省去了一个地址，但指令长度仍比较长，所以只在字长较长的大、中型机中使用，而小型、微型机中很少使用。</p>
<h4 id="二地址指令双操作数指令">二地址指令（双操作数指令）</h4>
<table>
<thead>
<tr>
<th>二地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A_1$</span></th>
<th>
<span class="math align-center">$A_2$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>第一操作数</td>
<td>第二操作数</td>
</tr>
</tbody>
</table>
<ul>
<li>功能描述：
<ul>
<li>(A1) op(A2)→A1</li>
<li>(PC)+1→PC</li>
</ul>
</li>
<li>二地址指令在计算机中得到了广泛的应用，但是在使用时有一点必须注意：指令执行之后，A1中原存的内容已经被新的运算结果替换了。</li>
</ul>
<p>二地址地址根据操作数的物理位置分为：</p>
<ul>
<li>SS 存储器-存储器类型</li>
<li>RS 寄存器-存储器类型</li>
<li>RR 寄存器-寄存器类型
RR到RS再到SS，指令执行会越来越慢，也就是说指令执行从内存某个单元到内存的另一个单元比较慢。</li>
</ul>
<h4 id="一地址指令">一地址指令</h4>
<table>
<thead>
<tr>
<th>一地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>操作数</td>
</tr>
</tbody>
</table>
<p>功能描述：</p>
<ul>
<li>(AC) op(A1) →A1</li>
<li>(PC)+1→PC</li>
<li>单操作数运算指令，如“+1”、“-1”、“求反”</li>
<li>指令中给出一个源操作数的地址</li>
</ul>
<h4 id="零地址指令">零地址指令</h4>
<table>
<thead>
<tr>
<th>零地址指令</th>
<th>OP码</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
</tr>
</tbody>
</table>
<p>功能：“停机”、“空操作”、“清除”等控制类指令。</p>
<h4 id="指令字长度">指令字长度</h4>
<p>概念</p>
<ul>
<li>指令字长度（一个指令字包含二进制代码的位数）</li>
<li>机器字长：计算机能直接处理的二进制数据的位数。</li>
<li>单字长指令</li>
<li>半字长指令</li>
<li>双字长指令</li>
</ul>
<p>多字长指令的优缺点</p>
<ul>
<li>
<p>优点提供足够的地址位来解决访问内存任何单元的寻址问题 ；</p>
</li>
<li>
<p>缺点必须两次或多次访问内存以取出一整条指令，降低了CPU的运算速度，又占用了更多的存储空间。</p>
</li>
<li>
<p>指令系统中指令采用 <strong>等长指令</strong> 的优点：各种指令字长度是相等的，指令字结构简单，且指令字长度是不变的 ；</p>
</li>
<li>
<p>采用 <strong>非等长指令</strong> 的的优点：各种指令字长度随指令功能而异，结构灵活，能充分利用指令长度，但指令的控制较复杂 。</p>
</li>
</ul>
<h4 id="指令助记符">指令助记符</h4>
<table>
<thead>
<tr>
<th>零地址指令</th>
<th>OP码</th>
<th>OP码</th>
</tr>
</thead>
<tbody>
<tr>
<td>加法</td>
<td>ADD</td>
<td>001</td>
</tr>
<tr>
<td>减法</td>
<td>SUB</td>
<td>010</td>
</tr>
<tr>
<td>传送</td>
<td>MOV</td>
<td>011</td>
</tr>
<tr>
<td>跳转</td>
<td>JMP</td>
<td>100</td>
</tr>
<tr>
<td>转子</td>
<td>JSR</td>
<td>101</td>
</tr>
<tr>
<td>存数</td>
<td>STO</td>
<td>110</td>
</tr>
<tr>
<td>取数</td>
<td>LAD</td>
<td>111</td>
</tr>
</tbody>
</table>
<h3 id="操作数类型">操作数类型</h3>
<ul>
<li>地址数据:地址实际上也是一种形式的数据。（ <strong>类似指针</strong> ）</li>
<li>数值数据:计算机中普遍使用的三种类型的数值数据。</li>
<li>字符数据:文本数据或字符串，目前广泛使用ASCII码。</li>
<li>逻辑数据:一个单元中有几位二进制bit项组成，每个bit的值可以是1或0。当数据以这种方式看待时，称为逻辑性数据。（类似布尔型）</li>
</ul>
<h3 id="指令和数据的寻址方式">指令和数据的寻址方式</h3>
<p>
<span class="math align-center">$指令寻址方式=\begin{cases}顺序寻址\\跳跃寻址\end{cases}$</span>
此处的跳跃寻址包含了选择和循环。</p>
<h3 id="操作数基本寻址方式">操作数基本寻址方式</h3>
<p>1、隐含寻址</p>
<p><a href="#R-image-de136e3ac39d76f6537260ef7aab59ab" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu20.png" alt="tu20" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-de136e3ac39d76f6537260ef7aab59ab"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu20.png" alt="tu20" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>指令中隐含着操作数的地址，比如隐藏累加器的地址，当该指令被执行时会执行累加器，但累加器的地址是没有表现在该指令上的。</li>
<li>如某些运算，隐含了累加器AC作为源和目的寄存器</li>
<li>如8086汇编中的STC指令，设置标志寄存器的C为1</li>
</ul>
<p>2、立即寻址</p>
<p><a href="#R-image-bcb791b0f607c59e605092e2d276e332" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu21.png" alt="tu21" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bcb791b0f607c59e605092e2d276e332"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu21.png" alt="tu21" class="lightbox-image        " loading="lazy"></a></p>
<p>指令的地址指出的不是操作数地址，而是操作数本身。比如</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>,y<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> z<span style="color:#f92672">=</span>x<span style="color:#f92672">+</span>y;</span></span></code></pre></div><p>在上面这个例子中，执行加法的时候x,y不是6和7的地址，而是6和7本身；</p>
<p>3、直接寻址</p>
<p><a href="#R-image-55f26d12a8a89bca15a3c06534b9d7fc" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu22.png" alt="tu22" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-55f26d12a8a89bca15a3c06534b9d7fc"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu22.png" alt="tu22" class="lightbox-image        " loading="lazy"></a></p>
<p>在指令格式中的地址上指出操作数在内存中的地址。其实这很像数组，例如</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1&#39;</span>;<span style="color:#75715e">//地址为5673
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> cha[]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;x&#39;</span>};<span style="color:#75715e">//地址为2341
</span></span></span></code></pre></div><p>我们在使用cha[0]的时候,地址2341指向的就是1的地址5673，一个地址指向另一个地址。</p>
<p>4、间接寻址</p>
<p><a href="#R-image-c4910ff4531466e0afcbd99a2424c11a" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu23.png" alt="tu23" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c4910ff4531466e0afcbd99a2424c11a"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu23.png" alt="tu23" class="lightbox-image        " loading="lazy"></a></p>
<p>类似二维数组</p>
<p>5、寄存器寻址</p>
<p><a href="#R-image-bc6de32dbc123db970a1d8f13b379d40" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu24.png" alt="tu24" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bc6de32dbc123db970a1d8f13b379d40"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu24.png" alt="tu24" class="lightbox-image        " loading="lazy"></a></p>
<p>当操作数不在内存而是在CPU的寄存器中时使用这个寻址方式</p>
<p>6、寄存器简介寻址</p>
<p><a href="#R-image-631047469b53c0e497968c02cdaefbd9" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu25.png" alt="tu25" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-631047469b53c0e497968c02cdaefbd9"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu25.png" alt="tu25" class="lightbox-image        " loading="lazy"></a></p>
<p>操作数不在寄存器中，而是在寄存器地址所知的位置，比如内存（类似二维数组）</p>
<p>7、偏移寻址</p>
<p><a href="#R-image-dd74b178b33edcd48fc76c5efcb8633a" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu26.png" alt="tu26" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dd74b178b33edcd48fc76c5efcb8633a"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu26.png" alt="tu26" class="lightbox-image        " loading="lazy"></a></p>
<p>类似于数组中，数组下标的变化会对应不同的地址上的值，下标的变化可以理解为加了某一个偏移量而产生改变。</p>
<p>下面介绍三种不同的偏移寻址，他们的不同我觉得就是使用的寄存器不一样，本质上都是地址加了偏移量后找到第二个地址，再通过第二个地址上的值进行操作。</p>
<p>7.1 相对寻址</p>
<p>使用的是程序计数器（CP），CP作为原始地址，EA=A+（CP）</p>
<p>7.2 基址寻址</p>
<p><a href="#R-image-9173f7f2561011d8f7f9ae80d05ea169" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu28.png" alt="tu27" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9173f7f2561011d8f7f9ae80d05ea169"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu28.png" alt="tu27" class="lightbox-image        " loading="lazy"></a></p>
<p>使用存储器地址，作为原始地址，</p>
<p>7.3 变址寻址</p>
<p><a href="#R-image-c7a2809ce60118270a859bdd88deebde" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu29.png" alt="tu28" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c7a2809ce60118270a859bdd88deebde"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu29.png" alt="tu28" class="lightbox-image        " loading="lazy"></a></p>
<p>就是将指令的地址码部分给出的基准地址A与CPU内某特定的变址寄存器Rx中的内容相加，以形成操作数的有效地址。</p>
<p>8、分寄存器堆栈、存储器堆栈以先进后出原理存储数据
<a href="#R-image-bc891d829546b8a1a4a05dd0452b8a5e" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu27.png" alt="tu27" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bc891d829546b8a1a4a05dd0452b8a5e"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu27.png" alt="tu27" class="lightbox-image        " loading="lazy"></a></p>
<p>9、段寻址方式</p>
<p>存储空间划分为多段
<a href="#R-image-0efbd339ac3cf8fb6466131f3e16ee80" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu30.png" alt="tu30" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0efbd339ac3cf8fb6466131f3e16ee80"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu30.png" alt="tu30" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="典型的指令">典型的指令</h3>
<ul>
<li>数据处理</li>
<li>数据存储</li>
<li>数据传送</li>
<li>程序控制</li>
</ul>
<ol>
<li>数据传送指令</li>
<li>算术运算指令</li>
<li>逻辑运算指令</li>
<li>程序控制指令</li>
<li>输入输出指令</li>
<li>字符串处理指令</li>
<li>特权指令</li>
</ol>
<h2 id="中央处理器">中央处理器</h2>
<p>冯诺一曼机的运算器与控制器是分开的，二现今这两个是设计在同一块芯片上，成为 <strong>CPU</strong> ，而单片机就是 <strong>CPU+存储器</strong>。</p>
<h3 id="cpu的功能和组成">CPU的功能和组成</h3>
<h4 id="cpu的功能">CPU的功能</h4>
<p>取指令，执行指令</p>
<ul>
<li>指令控制。程序的<strong>顺序控制</strong> 。</li>
<li>操作控制。控制指令的取出与执行。</li>
<li>时间控制。对操作实施时间上的定时。</li>
<li>数据加工。例如算数运算和逻辑运算</li>
</ul>
<h4 id="cpu的组成">CPU的组成</h4>
<p><a href="#R-image-64fcba6d9247613606c9d15862a8f266" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu31.png" alt="tu31" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-64fcba6d9247613606c9d15862a8f266"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu31.png" alt="tu31" class="lightbox-image        " loading="lazy"></a>
中央处理器CPU = 运算器 + cache + 控制器</p>
<h5 id="运算器">运算器</h5>
<ul>
<li>ALU：算术逻辑运算单元</li>
<li>通用寄存器：R0～R3</li>
<li>数据缓冲寄存器：DR</li>
<li>程序状态字寄存器：PSWR</li>
</ul>
<h5 id="控制器">控制器</h5>
<p>程序计数器、指令寄存器、时序发生器、操作控制寄存器；</p>
<ul>
<li>程序计数器PC(Programming Counter)
<ul>
<li>用来存放正在执行的指令的地址或接着将要执行的下一条指令的地址。</li>
<li><strong>顺序执行</strong> 时，每执行一条指令，PC的值应 <strong>加1</strong></li>
<li>要改变程序执行顺序的情况时，一般由转移类指令将转移目标地址送往PC ，可实现程序的转移。</li>
</ul>
</li>
<li>指令寄存器IR(Instruction Register)
<ul>
<li>指令寄存器用来存放从存储器中 <strong>取出的待执行的指令</strong>。</li>
<li>在执行该指令的过程中，指令寄存器的内容不允许发生变化，以保证实现指令的全部功能。</li>
</ul>
</li>
</ul>
<h3 id="重要的寄存器">重要的寄存器</h3>
<ul>
<li>数据缓冲寄存器（DP）：暂时存放ALU（算术逻辑运算单元）运算结果，或或有数据寄存器读出的数据字，或外部接口的数据字。
<a href="#R-image-e9d4e8fea37897adf54f2f57c7477134" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu32.png" alt="tu32" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e9d4e8fea37897adf54f2f57c7477134"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu32.png" alt="tu32" class="lightbox-image        " loading="lazy"></a></li>
<li>指令寄存器(IR)：用来保存当前正在执行的第一条指令</li>
<li>程序计数器(PC)：总是保持将要执行的下一条指令，绝大多数是顺序程序，所以修改过程中通常是简单的PC加1.</li>
<li>数据地址寄存器(AR)用来保存当前CPU所访问的数据存储单元的地址。</li>
<li>通用寄存器(R0～R3)：存常用的指令，</li>
<li>状态字寄存器(PSW)：保存有算术运算或逻辑运算或测试结果产生的更重条件代码，简而言之就是存储一些运算的结果，比如进位、溢出、零标志、负标志等</li>
</ul>
<h3 id="指令周期">指令周期</h3>
<p><a href="#R-image-7028985270caac0c84759d9400db2f9d" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu33.png" alt="tu23" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7028985270caac0c84759d9400db2f9d"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu33.png" alt="tu23" class="lightbox-image        " loading="lazy"></a>
指令周期由若干个CPU周期数表示，CPU周期又称为机器周期，在一些系统中称机器周期为时钟周期。</p>
<p>指令周期又分为取指令周期与执行指令周期</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>也被称为电脑，或者电子计算机。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 14</div>
<h1 id="14电子电路">14.电子电路</h1>

<p>模拟电子技术知识。

<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">模拟电子技术基础笔记</a><p>常用半导体器件 本征半导体 半导体：介于导体与绝缘体之间的 本征半导体： 载流子 3.1 本征激发 3.2 自由电子，带负电 3.3 空穴，带正电 自由电子和空穴都能到点。 3.4</p></li>
</ul></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">14.电子电路 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%A8%A1%E7%94%B5/">模电</a></li>
  </ul>
</div>
            </header>
<h1 id="模拟电子技术基础笔记">模拟电子技术基础笔记</h1>

<h2 id="常用半导体器件">常用半导体器件</h2>
<h3 id="本征半导体">本征半导体</h3>
<ol>
<li>
<p>半导体：介于导体与绝缘体之间的</p>
</li>
<li>
<p>本征半导体：
<a href="#R-image-b9bb9eefd346d1643905e7c946af5620" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image.png" alt="图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b9bb9eefd346d1643905e7c946af5620"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image.png" alt="图" class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>载流子
3.1 本征激发
<a href="#R-image-ef3096be7bb5bea280e40fdc7f5874f5" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ef3096be7bb5bea280e40fdc7f5874f5"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
3.2 自由电子，带负电
3.3 空穴，带正电
自由电子和空穴都能到点。
3.4 复合：与本真激发相反的过程</p>
</li>
<li>
<p>本征半导体的导电能力与载流子的浓度有关：此时处于动态平衡，本证激发与复合的速度一样。</p>
<p>从工程的角度看，只加热温度让导电能力增加不实际，还好它具有掺杂别的东西让导电能力增加。</p>
</li>
</ol>
<h3 id="杂质半导体">杂质半导体</h3>
<h4 id="概念">概念</h4>
<p>掺杂<strong>少量</strong> 的杂志元素。</p>
<h4 id="n型半导体">N型半导体</h4>
<p>掺杂P元素（5价元素），本征半导体的导电能力增加，自由电子是多子，空穴是少子；</p>
<p>温度对多子影响小，因为多子本身就多，但对少子浓度的影响大，因为少子的量少；</p>
<p><a href="#R-image-7e4680a26319cb18cc821e9a450b215a" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-2.png" alt="N型半导体" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7e4680a26319cb18cc821e9a450b215a"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-2.png" alt="N型半导体" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="p型半导体">P型半导体</h4>
<p>掺杂硼元素（3价元素），本征半导体的导电能力增加，自由电子是少子，空穴是多子；</p>
<h3 id="pn结半导体">PN结半导体</h3>
<p><a href="#R-image-d7d71e1bac99f0f6a35544dff0af9e46" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-3.png" alt="PN结半导体" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d7d71e1bac99f0f6a35544dff0af9e46"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-3.png" alt="PN结半导体" class="lightbox-image        " loading="lazy"></a></p>
<p>1.扩散运动：在浓度梯度的作用下，浓度高的地方向浓度低的地方扩散；</p>
<p>2.空间电荷区（耗尽层、PN结），这里举个例子，就右边空间电荷区的正电荷而言，从电场线出发，两边平衡我们可以理为正电荷发出的电场阻止了左边的空穴移动，而对于负电荷他也有这样的特性，所以两边达到平衡的状态。</p>
<p>虽然中间有空间电荷区形成势垒（由电压形成）组织了两遍的多子运动，但是这样的势垒能百分之百阻止多子向两边运动吗？</p>
<p>答案是不完全，还是有一小部分的多子冲破避雷向两边运动。下面是一张简单的图。</p>
<p>3.漂移运动：两边少子的运动称之为漂移运动</p>
<p>4.对称结与不对称结：由上面的图可以看出两边宽度一样，原因是掺杂的浓度一样，如果不一样？那么两边就不对称了，这时候称之为不对称结。</p>
<h4 id="加外电压的pn结半导体">加外电压的PN结半导体</h4>
<p>加正电压（P流向N，空间电荷区被削弱）
<a href="#R-image-7c8f0ee7d6cee85b1dbe13368a8e7426" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-4.png" alt="PN结加外电压" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7c8f0ee7d6cee85b1dbe13368a8e7426"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-4.png" alt="PN结加外电压" class="lightbox-image        " loading="lazy"></a></p>
<p>加反向电压（，空间电荷区增加）
<a href="#R-image-f9906ec6644d0c738ef5bd7ea975114f" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f9906ec6644d0c738ef5bd7ea975114f"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>这个时候的漂移运动是增加的，但漂移运动是由少子形成的所以他的影响是很小的，值得注意的是漂移运动对 <strong>温度</strong> 是很敏感的。</p>
<h3 id="pn结的电流方程">PN结的电流方程</h3>
<p><a href="#R-image-418bc37ed1dd8e44a94c50ed4bebdf29" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-6.png" alt="伏安特性" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-418bc37ed1dd8e44a94c50ed4bebdf29"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-6.png" alt="伏安特性" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-bee01d065c586594467d2175d1d36f8e" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-7.png" alt="方程" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bee01d065c586594467d2175d1d36f8e"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-7.png" alt="方程" class="lightbox-image        " loading="lazy"></a>

<span class="math align-center">$i=I_s(e^{U/U{_T}}-1),其中V_T=26V$</span></p>
<p>锗：0.2-0.3V
硅：0.6-0.7V</p>
<h4 id="特性">特性</h4>
<ol>
<li>正向特性</li>
<li>反向特性
2.1雪崩击穿（掺杂浓度低，温度越高，击穿电压越高，因为粒子需要加速）
2.2齐纳击穿（掺杂浓度高，温度越高，击穿电压越低，因为）</li>
</ol>
<h4 id="pn结的电容效应">PN结的电容效应</h4>
<p>当正负极两边的电压变化时，中间的电量发生改变；</p>
<p>1.势垒电容
<a href="#R-image-85388b111991fff4f87551812b84c528" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-85388b111991fff4f87551812b84c528"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>2.扩散电容：非平衡少子形成
<a href="#R-image-7b9d9fda9112117e3a5beaa8ac11d834" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7b9d9fda9112117e3a5beaa8ac11d834"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>电压增高为2线，浓度增高，电压减小为3，浓度降低；</p>
<h3 id="半导体二极管">半导体二极管</h3>
<p><a href="#R-image-80aaf0bdf1260fbd0f6f939312c4452d" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-10.png" alt="二极管" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-80aaf0bdf1260fbd0f6f939312c4452d"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-10.png" alt="二极管" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="常见结构">常见结构</h4>
<p><a href="#R-image-d1fe0662a486470a133d0881806c91b5" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-11.png" alt="结构" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d1fe0662a486470a133d0881806c91b5"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-11.png" alt="结构" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="伏安特性">伏安特性</h4>
<p><a href="#R-image-5f9ba66d59426eeb5105b30b05e359bf" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-12.png" alt="二极管伏安特性" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5f9ba66d59426eeb5105b30b05e359bf"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-12.png" alt="二极管伏安特性" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>体电阻的存在，电流的PN结小；</li>
<li>反向电流大一些；</li>
</ul>
<h4 id="温度的影响">温度的影响</h4>
<p>正向电流：温度升高，本证激发，粒子热运动增加，所以电压固定的时候，温度高的电流可定大，所以曲线往上走；</p>
<p>反向电流：温度升高，对少子影响大，饱和电流增加，所以曲线往下走；</p>
<h3 id="二极管作用">二极管作用</h3>
<ul>
<li>单向导电性，规定电流流向，做整流器件；也可以稳压，但一般用反向的稳压</li>
<li>反向的饱和电流，简单的温度传感器；</li>
<li>反向截止电流，稳压二极管；</li>
</ul>
<p><strong>问：为什么稳压电路不用正向的电压稳压</strong>？</p>
<h3 id="二极管的主要参数">二极管的主要参数</h3>
<ul>
<li>IF：工作的时候电流的最大流过电流，</li>
<li>UR：最高反向电压，</li>
<li>IR：反向电流（未击穿时），</li>
<li>FM：最高频率（选高频电路的时候需要参考），</li>
</ul>
<h3 id="二极管的等效电路">二极管的等效电路</h3>
<p><a href="#R-image-d27dfcf112b336a64698711e7422ce49" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-13.png" alt="伏安特性等效化" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d27dfcf112b336a64698711e7422ce49"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-13.png" alt="伏安特性等效化" class="lightbox-image        " loading="lazy"></a>
1.上图a为理想的等效电路</p>
<p>2.b图为常用的等效模型</p>
<p>上面三张图的<a href="#R-image-2def0b7f615342cb830f2a1f1fb7916e" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-15.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2def0b7f615342cb830f2a1f1fb7916e"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-15.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>中间没有一杠，这是与普通二极管的区别。</p>
<p>下面我们看二级管的几个应用：</p>
<ol>
<li><strong>整流</strong>电路
<a href="#R-image-5cb38490ea5b22b3302972a5be9c952f" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5cb38490ea5b22b3302972a5be9c952f"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></li>
</ol>
<p>在上面的这个电路中我们假设交流电10mV，要想在
<span class="math align-center">$u_R$</span>中测量出变化的电流那么需要加一个直流电压，将交流电抬高，曲线图如下：</p>
<p><a href="#R-image-f07f37f6202938f74547494e8781fb8d" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-18.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f07f37f6202938f74547494e8781fb8d"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-18.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>上图B点的电压10mV升到A点，它们的关系是：
<span class="math align-center">$U_A=U_B+V$</span>,那么此时就可以测量出
<span class="math align-center">$u_R$</span>两端的变化的电流了。具体电路图如下：</p>
<p><a href="#R-image-6dcd4e53a9dfdad821d8f535d3210499" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6dcd4e53a9dfdad821d8f535d3210499"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>最后得到的波形图是去掉Y轴的负半轴的正弦三角函数图像，也就是整流电路。</p>
<ol start="2">
<li><strong>限幅</strong>电路</li>
</ol>
<p><a href="#R-image-4548f0fb160be342aafdb47862c7e98e" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-19.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4548f0fb160be342aafdb47862c7e98e"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-19.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>在分析这个电路时，要先判断正向导通和反向截止。</p>
<ul>
<li>当
<span class="math align-center">$U_S-U_1<=Uon$</span>的时候截止</li>
<li>当
<span class="math align-center">$U_S-U_1>=Uon$</span>的时候导通</li>
</ul>
<p>这时候的三角函数上半边会被割掉如下图：</p>
<p><a href="#R-image-16c47977ba199b8d91d04c62251e22ed" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-20.png" alt="结果" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-16c47977ba199b8d91d04c62251e22ed"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-20.png" alt="结果" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E6%8B%93%E5%B1%95%E7%AC%94%E8%AE%B0/">B1-拓展笔记</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 15</div>
<h1 id="15外语类">15.外语类</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/15.%E5%A4%96%E8%AF%AD%E7%B1%BB/%E8%8B%B1%E8%AF%AD/">英语</a><p>听力相关 ： Cues 这里是关键词和提示。 Notes 有声书。 视频学习： ted， comedy，stand up. 1.看原文； 2.看中英； 3.看原文； 4.记笔记； 5.关</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">15.外语类 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%8B%B1%E8%AF%AD/">英语</a></li>
    <li><a class="term-link" href="./tags/%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%B1%87/">英语词汇</a></li>
  </ul>
</div>
            </header>
<h1 id="英语">英语</h1>

<p><strong>听力相关</strong> ：</p>
<link rel="stylesheet" href="./css/cornell-notes.css">  <div class="cornell-notes">    <div class="cues">
<h2 id="cues">Cues</h2>
<ul>
<li>这里是关键词和提示。</li>
</ul>
</div>
<div class="notes">
<h2 id="notes">Notes</h2>
<ul>
<li>
<p><a href="https://www.loyalbooks.com/" target="_blank">有声书</a>。</p>
</li>
<li>
<p>视频学习：
ted， comedy，stand up.
1.看原文；
2.看中英；
3.看原文；
4.记笔记；
5.关闭字母。</p>
</li>
<li>
<p>podcast：</p>
<p><a href="https://learningenglish.voanews.com/podcasts" target="_blank">音频链接</a></p>
<p><a href="https://www.bbc.co.uk/learningenglish/features" target="_blank">音频链接2</a></p>
</li>
</ul>
</div>
<div class="summary">
<h2 id="summary">Summary</h2>
<ul>
<li>这里是笔记的摘要。</li>
</ul>
</div>
</div>
<p><strong>阅读相关</strong> ：</p>
<link rel="stylesheet" href="./css/cornell-notes.css">  <div class="cornell-notes">    <div class="cues">
<h2 id="cues1">Cues1</h2>
<ul>
<li>单词、词汇。</li>
<li>英语阅读</li>
<li>阅读方法</li>
</ul>
</div>
<div class="notes">
<h2 id="notes1">Notes1</h2>
<ul>
<li>make time for reading.坚持每天都花一点时间阅读10分钟也可以；</li>
<li>使用浏览器搜索自己感兴趣的话题，推bing.com国际版;</li>
<li>ask questions as you read.试着带着问题去阅读；</li>
<li>read it again.</li>
<li>read a variety of texts.阅读丰富的文章。</li>
<li>Don&rsquo;t worry about looking words up as you&rsquo;re reading.
在查词的过程中把陌生词添加到自己的单词本中；</li>
</ul>
<p>上面是一些阅读方法，下面介绍如何找到自己的水平，找到适合自己水平的题材。</p>
<p>如何阅读，如果自己的四六级英语水平是三百多及一下，推荐这个网站</p>
<ul>
<li><strong>The news</strong> ：<a href="https://breakingnewsenglish.com/" target="_blank">breaking news english</a></li>
<li><strong>Articles</strong> :<a href="https://lingua.com/" target="_blank">Lingua</a> and the <a href="https://www.britishcouncil.org/english-assessment/eltons" target="_blank">British</a></li>
<li><strong>Stories</strong> :<a href="">English for Students</a></li>
</ul>
<p>如果还是看不懂上面的文章推荐去这个网站：<a href="https://learnenglishkids.britishcouncil.org/" target="_blank">English for Kids</a>。</p>
<p>四级过了但六级没过推荐下面的网站:</p>
<ul>
<li>
<p><a href="https://learnenglish.britishcouncil.org/general-english/magazine-zone" target="_blank">british council magazine</a> and <a href="https://ga01000549.schoolwires.net/site/default.aspx" target="_blank">Smithsonian Twen Tribune</a>,the <a href="https://www.mentalfloss.com/" target="_blank">Mental Floss</a></p>
</li>
<li>
<p><a href="https://www.leonardoenglish.com/" target="_blank">Leonardo English Blog</a></p>
</li>
<li>
<p>Reading:</p>
<p>ManyBooks</p>
<p>Librivox</p>
<p>Authorama</p>
<p>Project Gutenberg</p>
<p>Internatonal Children&rsquo;s Digital Library</p>
<p>Read Print</p>
<p>Archive.org</p>
</li>
</ul>
</div>
<div class="summary">
<h2 id="summary1">Summary1</h2>
<ul>
<li>renre:题材，体裁。</li>
<li>linguists:语言学家</li>
</ul>
</div>
</div>
<p><strong>名词解释</strong> ：</p>
<link rel="stylesheet" href="./css/cornell-notes.css">  <div class="cornell-notes">    <div class="cues">
<h2 id="cues3">Cues3</h2>
<ul>
<li>名词解释</li>
<li>英文术语</li>
</ul>
</div>
<div class="notes">
<h2 id="notes3">Notes3</h2>
<p>College VS. university.</p>
</div>
<div class="summary">
<h2 id="summary3">Summary3</h2>
<ul>
<li>这里是笔记的摘要。</li>
</ul>
</div>
</div>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/y1-%E5%A4%96%E8%AF%AD/">Y1-外语</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 16</div>
<h1 id="16考试类">16.考试类</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/">教资 小学</a><p>科目一： 教育观与职业道德 教育与社会的发展 点击查看流程图 考题 简述教育对生产力的关系（制约作用）？ 教育与人的发展 点击查看流程图 教育制度 理解记住教</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">16.考试类 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%95%99%E8%B5%84/">教资</a></li>
  </ul>
</div>
            </header>
<h1 id="教资-小学">教资 小学</h1>

<p><strong>科目一</strong>：</p>
<p><a href="%E7%A7%91%E7%9B%AE%E4%B8%80.html">教育观与职业道德</a></p>
<h2 id="教育与社会的发展">教育与社会的发展</h2>
<p><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/./markmap_index.html">点击查看流程图</a></p>
<h2 id="考题">考题</h2>
<p>简述教育对生产力的关系（制约作用）？</p>
<h2 id="教育与人的发展">教育与人的发展</h2>
<p><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/./markmap_index.html">点击查看流程图</a></p>
<h2 id="教育制度">教育制度</h2>
<ul>
<li>理解记住教育制度的概念，尤其是狭义教育制度；</li>
<li>理解并记住建立学制的依据</li>
<li>理解教育制度的发展</li>
<li>理解我国教育制度的沿革</li>
<li>理解并记住现代教育的改革和发展</li>
<li>理解并记住义务教育的特性</li>
</ul>
<h3 id="教育制度概念">教育制度概念</h3>
<p>1.教育制度的概念</p>
<p>2.教育学制的依据</p>
<p>可能需要考虑的因素可能有哪些呢？请思考思考。</p>
<ul>
<li>城乡地域因素</li>
<li>经济因素</li>
<li>国家性质因素&mdash;社会主义</li>
<li>文化因素</li>
<li>人口因素</li>
</ul>
<p>3.教育学制的形式发展</p>
<p><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/./markmap_index.html">点击查看流程图</a></p>
<p><strong>科目二</strong> ：
<a href="%E7%A7%91%E7%9B%AE%E4%BA%8C--%E6%95%99%E8%82%B2%E6%95%99%E5%AD%A6.html">教育观与职业道德</a></p>
<p>测试文字</p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/j1-%E6%95%99%E5%B8%88%E8%B5%84%E6%A0%BC%E8%80%83%E8%AF%95/">J1-教师资格考试</a></li>
  </ul>
</div>
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">教资 小学 的子部分</h1>
          </section>
          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 18</div>
<h1 id="18c编程语言">18.C&#43;&#43;编程语言</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/12.%E5%85%B6%E4%BB%96%E5%BA%93%E7%9A%84%E4%BB%8B%E7%BB%8D/">12.其他库的介绍</a><p>为什么需要哈希函数？ 哈希函数在计算机科学中扮演着重要的角色，其主要作用包括： 数据检索：哈希函数可以将键（key）映射到哈希表中的一个位置，从</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/">11.STL库学习之适配器</a><p>整体框架的回顾 存在多种适配器-adapters 一个人理解，要将适配器理解透彻，我们需要先从别的组件入手，这里以vector容器为例，我们都知</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/">10.STL库学习之仿函数</a><p>仿函数的个人理解 仿函数是行为类似函数的一个类，比较明显的特征是仿函数重载了operate()，比如你写了一个struct，并在里面重载了op</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/">9.STL库学习之迭代器与算法</a><p>标准库常用算法 迭代器 迭代器-的分类 struct input_iterator_tag {}； struct output_iterator_tag {}; struct forward_iterator_tag:public input_iterator_tag{}; struct bidirectional_iterator_tag:public forward_iterator_tag{}; struct random_access_tag:public bidirectional_iterator_tag {};以上5中迭代器的继承关系，如下图所示。 1.Input Iterator（输入迭代</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/">8.STL库学习之容器</a><p>list vector deque deque的迭代器 deque实现中间插入值的做法：如果欲插入值在最前端（最尾端）调用push_front()（push_back()）</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/7.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%88%86%E9%85%8D%E5%99%A8/">7.STL库学习之分配器</a><p>分配器源代码位置：xmemory.h 除了array和vector外，其他容器的适配器必须是一个类， 附件</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/6.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E7%AD%91%E5%9F%BA%E6%A6%82%E8%A6%81/">6.STL库学习之筑基概要</a><p>STL程序源代码位置 了解自身编译器STL程序源代码位置。 OOP 与 GP 面向对象编程（OOP）： 面向对象编程是一种编程范式，它将数据和处理这些数据的方</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">5.STL库之观其大略</a><p>一下主要讲STL组件的测试用例，特别是容器的测试 学习资料 CPLusPlus.com CppReference.com gcc.gnu.org 《STL源码剖析》 STL六大组件 容器-Containers，申请内存用于存储数</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/4.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%802.0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8/">4.C&#43;&#43;2.0特性的使用</a><p>VS 2022的设置 首先你可以先用下面的代码测试使用可以执行： #include &lt;iostream&gt; void printTypes() { } template &lt;typename T, typename... U&gt; void printTypes(const T&amp; t, const U&amp;... u) { std::cout &lt;&lt; t &lt;&lt; std::endl; printTypes(u...); } int main() { printTypes(&#39;a&#39;, 1.5, &#39;b&#39;); }如果报错了，如t</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/">3.导读</a><p>书籍推荐 《C++ Premier》 《C++ Programming Language》 《Effective Modern C++》 《Efficient C++》 《The C++ standard libra</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/">2.组合与继承</a><p>类与类的三种关系 Composition-复合 以我个人的理解，复合就是一个类中包含有另外一个类，使用到另一个类的内容。复合的类他们的构造和析构</p></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/">1.代码编写规范</a><p>如何写一个标准的.h文件 以下内容来自B站。 接下来将以复数的库文件为例来回答这个问题，下面是一段参考复数库文件代码： class complex { private: /* data */ double re,im; friend complex&amp; __doapl (complex*,const</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">18.C&#43;&#43;编程语言 的子部分</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="12其他库的介绍">12.其他库的介绍</h1>

<h3 id="为什么需要哈希函数">为什么需要哈希函数？</h3>
<p>哈希函数在计算机科学中扮演着重要的角色，其主要作用包括：</p>
<ol>
<li>
<p><strong>数据检索</strong>：哈希函数可以将键（key）映射到哈希表中的一个位置，从而快速检索数据。这是哈希表（如 C++ 中的 <code>std::unordered_map</code> 和 <code>std::unordered_set</code>）的基础。</p>
</li>
<li>
<p><strong>快速比较</strong>：在数据库和各种数据结构中，哈希函数可以快速比较字符串或对象，常用于检查两个字符串是否相等。</p>
</li>
<li>
<p><strong>数据分布</strong>：在分布式系统中，哈希函数可以将数据均匀地分布到多个节点上，以实现负载均衡。</p>
</li>
<li>
<p><strong>密码学应用</strong>：在密码学中，哈希函数用于生成数据的摘要，用于数据完整性验证和数字签名。</p>
</li>
<li>
<p><strong>缓存实现</strong>：哈希函数可以用于实现缓存机制，通过快速定位缓存中的数据。</p>
</li>
<li>
<p><strong>负载均衡</strong>：在网络流量管理中，哈希函数可以用于将请求分配到不同的服务器上。</p>
</li>
</ol>
<h3 id="c-库中哈希函数的实现和底层逻辑">C++ 库中哈希函数的实现和底层逻辑</h3>
<p>在 C++11 及以后的版本中，标准库提供了一个专门的哈希函数库 <code>&lt;functional&gt;</code>，其中包含了 <code>std::hash</code> 模板类。<code>std::hash</code> 为基本数据类型（如 <code>int</code>、<code>double</code>、<code>std::string</code> 等）提供了特化版本。</p>
<h4 id="实现底层逻辑">实现底层逻辑：</h4>
<ol>
<li>
<p><strong>整数类型</strong>：对于整数类型，<code>std::hash</code> 直接返回数值本身或其变体。例如，对于 <code>int</code> 类型，<code>std::hash&lt;int&gt;()(10)</code> 可能直接返回 10 或者 10 的一个简单变换。</p>
</li>
<li>
<p><strong>浮点类型</strong>：对于浮点类型，<code>std::hash</code> 通常会将浮点数的位表示转换为整数，然后应用整数的哈希函数。</p>
</li>
<li>
<p><strong>字符串类型</strong>：对于字符串，<code>std::hash</code> 通常会遍历字符串中的每个字符，将每个字符的哈希值组合起来，生成最终的哈希值。这可以通过位操作和数学函数（如乘法、加法、异或等）来实现。</p>
</li>
<li>
<p><strong>自定义类型</strong>：对于自定义类型，如果需要使用 <code>std::hash</code>，则需要为该类型提供自定义的哈希函数。</p>
</li>
<li>
<p><strong>组合哈希</strong>：对于复合类型（如结构体或类），哈希函数需要将各个成员的哈希值组合起来。这通常通过将成员的哈希值进行某种形式的数学运算（如加权求和、异或等）来实现。</p>
</li>
<li>
<p><strong>均匀分布</strong>：一个好的哈希函数应该能够产生均匀分布的哈希值，以减少哈希冲突。</p>
</li>
<li>
<p><strong>确定性</strong>：哈希函数应该是确定性的，即对于同一个输入总是产生相同的哈希值。</p>
</li>
<li>
<p><strong>快速计算</strong>：哈希函数的计算应该尽可能快，以减少对性能的影响。</p>
</li>
</ol>
<p>在 C++ 中，<code>std::hash</code> 的实现可能因编译器和平台而异，但基本原理是相似的。正确实现哈希函数对于哈希表的性能至关重要，因为它直接影响到哈希表的冲突率和检索效率。</p>
<h2 id="hash-function-哈希函数">hash function-哈希函数</h2>
<p>如果要自己给自己的数据写一个哈希函数，那又该怎么写呢？能否基于这些数据计算出hash code的呢？</p>
<h3 id="编写模版规范">编写模版规范</h3>
<div class="tab-panel" data-tab-group="82083abc1e6b97e1e0addca196d7e0e7">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="类型1fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('82083abc1e6b97e1e0addca196d7e0e7','类型1fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 类型1</span>
    </button>
    <button
      data-tab-item="类型1示例fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;"
      onclick="switchTab('82083abc1e6b97e1e0addca196d7e0e7','类型1示例fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 类型1示例</span>
    </button>
    <button
      data-tab-item="类型2fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;"
      onclick="switchTab('82083abc1e6b97e1e0addca196d7e0e7','类型2fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 类型2</span>
    </button>
    <button
      data-tab-item="类型3fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;"
      onclick="switchTab('82083abc1e6b97e1e0addca196d7e0e7','类型3fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 类型3</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="类型1fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;functional&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> test_hash_function
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Customer</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            string fname;
</span></span><span style="display:flex;"><span>            string lname;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> on;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                Customer( string fn,  string ln, <span style="color:#66d9ef">int</span> id) <span style="color:#f92672">:</span> fname(fn), lname(ln), on(id) {}
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">==</span>(<span style="color:#66d9ef">const</span> Customer<span style="color:#f92672">&amp;</span> other) <span style="color:#66d9ef">const</span> {<span style="color:#75715e">//需要重载==
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">return</span> fname <span style="color:#f92672">==</span> other.fname <span style="color:#f92672">&amp;&amp;</span> lname <span style="color:#f92672">==</span> other.lname <span style="color:#f92672">&amp;&amp;</span> on <span style="color:#f92672">==</span> other.on;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomerHash</span>;
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomerHash</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            std<span style="color:#f92672">::</span>size_t <span style="color:#66d9ef">operator</span>()(<span style="color:#66d9ef">const</span> Customer<span style="color:#f92672">&amp;</span> c) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> ...;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        unordered_set<span style="color:#f92672">&lt;</span>Customer, CustromerHash<span style="color:#f92672">&gt;</span> custsct;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="类型1示例fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>   <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;functional&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> test_hash_function
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> hash_combine(size_t<span style="color:#f92672">&amp;</span> seed, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> val) {
</span></span><span style="display:flex;"><span>            seed <span style="color:#f92672">^=</span> hash<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span>()(val) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ae81ff">0x9e3779b9</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                (seed <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">6</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                (seed <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> hash_val(size_t<span style="color:#f92672">&amp;</span> seed, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> val) {
</span></span><span style="display:flex;"><span>            hash_combine(seed, val);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T, <span style="color:#66d9ef">typename</span>... Types<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> hash_val(	size_t<span style="color:#f92672">&amp;</span> seed,
</span></span><span style="display:flex;"><span>                                    <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> val,
</span></span><span style="display:flex;"><span>                                    <span style="color:#66d9ef">const</span> Types<span style="color:#f92672">&amp;</span>... args) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            hash_combine(seed, val);
</span></span><span style="display:flex;"><span>            hash_val(seed, args...);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span>... Types<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">inline</span> size_t hash_val(<span style="color:#66d9ef">const</span> Types<span style="color:#f92672">&amp;</span>... args) {
</span></span><span style="display:flex;"><span>            size_t seed <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            hash_val(seed, args...);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> seed;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Customer</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            string fname;
</span></span><span style="display:flex;"><span>            string lname;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> on;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            Customer( string fn,  string ln, <span style="color:#66d9ef">int</span> id) <span style="color:#f92672">:</span> fname(fn), lname(ln), on(id) {}
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">==</span>(<span style="color:#66d9ef">const</span> Customer<span style="color:#f92672">&amp;</span> other) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> fname <span style="color:#f92672">==</span> other.fname <span style="color:#f92672">&amp;&amp;</span> lname <span style="color:#f92672">==</span> other.lname <span style="color:#f92672">&amp;&amp;</span> on <span style="color:#f92672">==</span> other.on;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomerHash</span>;
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomerHash</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            size_t <span style="color:#66d9ef">operator</span>()(<span style="color:#66d9ef">const</span> Customer<span style="color:#f92672">&amp;</span> c) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hash_val</span>(c.fname, c.lname, c.on);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() {
</span></span><span style="display:flex;"><span>            unordered_set<span style="color:#f92672">&lt;</span>Customer, CustomerHash<span style="color:#f92672">&gt;</span> s;
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;Asd&#34;</span>, <span style="color:#e6db74">&#34;dfw&#34;</span>, <span style="color:#ae81ff">1L</span>));
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;Dfg&#34;</span>, <span style="color:#e6db74">&#34;kjt&#34;</span>, <span style="color:#ae81ff">2L</span>));
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;VVB&#34;</span>, <span style="color:#e6db74">&#34;ert&#34;</span>, <span style="color:#ae81ff">3L</span>));
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;TgR&#34;</span>, <span style="color:#e6db74">&#34;uik&#34;</span>, <span style="color:#ae81ff">4L</span>));
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;Gdf&#34;</span>, <span style="color:#e6db74">&#34;pii&#34;</span>, <span style="color:#ae81ff">5L</span>));
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;Gdf&#34;</span>, <span style="color:#e6db74">&#34;pii&#34;</span>, <span style="color:#ae81ff">6L</span>));
</span></span><span style="display:flex;"><span>            s.insert(Customer(<span style="color:#e6db74">&#34;Gdf&#34;</span>, <span style="color:#e6db74">&#34;pii&#34;</span>, <span style="color:#ae81ff">7L</span>));<span style="color:#75715e">//8
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> s.bucket_count() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            CustomerHash hh;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;Asd&#34;</span>, <span style="color:#e6db74">&#34;dfw&#34;</span>, <span style="color:#ae81ff">1L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;Dfg&#34;</span>, <span style="color:#e6db74">&#34;kjt&#34;</span>, <span style="color:#ae81ff">2L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;VVB&#34;</span>, <span style="color:#e6db74">&#34;ert&#34;</span>, <span style="color:#ae81ff">3L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;TgR&#34;</span>, <span style="color:#e6db74">&#34;uik&#34;</span>, <span style="color:#ae81ff">4L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//7
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;Gdf&#34;</span>, <span style="color:#e6db74">&#34;pii&#34;</span>, <span style="color:#ae81ff">5L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;Gdf&#34;</span>, <span style="color:#e6db74">&#34;pii&#34;</span>, <span style="color:#ae81ff">6L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//7
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> hh(Customer(<span style="color:#e6db74">&#34;Gdf&#34;</span>, <span style="color:#e6db74">&#34;pii&#34;</span>, <span style="color:#ae81ff">7L</span>)) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">unsigned</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> s.bucket_count(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;bucked #&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;has&#34;</span> <span style="color:#f92672">&lt;&lt;</span> s.bucket_size(i) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;element</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// bucked #0has1element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #1has0element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #2has1element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #3has1element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #4has2element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #5has0element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #6has0element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// bucked #7has2element
</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="类型2fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;functional&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> test_hash_function
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Customer</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            string fname;
</span></span><span style="display:flex;"><span>            string lname;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> on;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                Customer( string fn,  string ln, <span style="color:#66d9ef">int</span> id) <span style="color:#f92672">:</span> fname(fn), lname(ln), on(id) {}
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">==</span>(<span style="color:#66d9ef">const</span> Customer<span style="color:#f92672">&amp;</span> other) <span style="color:#66d9ef">const</span> {<span style="color:#75715e">//需要重载==
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">return</span> fname <span style="color:#f92672">==</span> other.fname <span style="color:#f92672">&amp;&amp;</span> lname <span style="color:#f92672">==</span> other.lname <span style="color:#f92672">&amp;&amp;</span> on <span style="color:#f92672">==</span> other.on;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">friend</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomerHash</span>;
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomerHash</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            size_t customer_hash_func(<span style="color:#66d9ef">const</span> Customer<span style="color:#f92672">&amp;</span> c) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> ...;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        unordered_set<span style="color:#f92672">&lt;</span>Customer, size_t(<span style="color:#f92672">*</span>)(<span style="color:#66d9ef">const</span> Custromer<span style="color:#f92672">&amp;</span>)<span style="color:#f92672">&gt;</span> custsct(<span style="color:#ae81ff">20</span>,customer_hash_func);<span style="color:#75715e">//注意与类型1的不同写法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="类型3fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;">
      <div class="tab-content-text">
<p>第三种方式是对类里面的hash进行偏特化，比如你使用了unordered_set那么对于它的Hash，可以单独进行偏特化。
<a href="#R-image-36e5b28d1092662b73aeb63b05363c47" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/12.%E5%85%B6%E4%BB%96%E5%BA%93%E7%9A%84%E4%BB%8B%E7%BB%8D/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-36e5b28d1092662b73aeb63b05363c47"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/12.%E5%85%B6%E4%BB%96%E5%BA%93%E7%9A%84%E4%BB%8B%E7%BB%8D/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
</div>
    </div>
  </div>
</div>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="11stl库学习之适配器">11.STL库学习之适配器</h1>

<h2 id="整体框架的回顾">整体框架的回顾</h2>
<p><a href="#R-image-77032d51aa2dee67150ea8dbcc9de978" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-77032d51aa2dee67150ea8dbcc9de978"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="存在多种适配器-adapters">存在多种适配器-adapters</h2>
<p>一个人理解，要将适配器理解透彻，我们需要先从别的组件入手，这里以vector容器为例，我们都知道该容器需要迭代器，也就是一些智能指针来确定容器的头尾，以及内容位置，目的是方便后续的算法的怎删改查等操作，假设算法现在要做拿到位置8的数据，那么vector的指针要怎么移动呢？已知指针移动上，vector是随机访问指针，也就是前后都可以跑，而这个操作实际上是迭代器的其中一个内容，而这一内容就需要一个适配器去做适配。</p>
<p>下面做一个模拟问答，来加以了解：</p>
<p>&mdash;c
模拟问答
算法：你好，vector的迭代器，我需要知道你的迭代器类别，这样我才能正确地进行操作。</p>
<pre><code>vector的迭代器：好的，我先问一下我的适配器。

vector的迭代器：适配器，算法想知道 iterator_traits&lt;InputIterator&gt;::iterator_category 是什么类型的迭代器？

vector_iterator的适配器：你好，我们这里是随机访问迭代器（Random Access Iterator）。

算法：太好了，随机访问迭代器可以让我进行更高效的操作。那么，如果我想访问第8个元素，我该怎么做？

vector_iterator的适配器：很简单，你可以直接通过加上偏移量来访问第8个元素。比如，如果你有一个指向第一个元素的迭代器 first，那么 first + 7（因为迭代器是从0开始计数的）就会给你第8个元素的迭代器。

算法：明白了，那我可以直接使用 *(first + 7) 来获取第8个元素的值了。

vector_iterator的适配器：是的，完全正确。

算法：如果我需要反向迭代器，或者插入迭代器，你们能提供吗？

vector_iterator的适配器：当然可以。我们 vector 提供了多种迭代器适配器，包括反向迭代器（reverse_iterator）、插入迭代器（insert_iterator）等，以满足不同的需求。

算法：那太好了，这样我可以更灵活地处理 vector 中的数据了。谢谢你的帮助！
</code></pre>
<hr>
<h2 id="stl中适配器的重要特性">STL中适配器的重要特性</h2>
<p>对于容器、迭代器和仿函数它们第二次迭代器都有一个重要的特性，就是适配器会包含（也有继承）对应的类，比如stack包含了deque，然后使用了deque的某些功能，屏蔽了deque的某些某能，实现了先进后出的功能。</p>
<h2 id="仿函数适配器">仿函数适配器</h2>
<h3 id="binder2nd适配器">binder2nd适配器</h3>
<p>该适配器是用于绑定的，比如对于一个容器，需要操作比88小于数，这使用可以用binder2nd，第一个参数可以传入比较大小的less仿函数，第二个传入比较的数值x，本质上在binder2nd中，less的第二个参数传入就是x,这样就达到比较的目的了。
<a href="#R-image-45e70bf0c734d463046fed61055806f8" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-45e70bf0c734d463046fed61055806f8"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
小结：把A类和数值a传入另一个类B中，在B中再操作A和a.这样就实现了绑定。</p>
<h3 id="not1">not1</h3>
<p>对结果取反
<a href="#R-image-25781538f3b1f6f58f354b8b0afdeb67" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-25781538f3b1f6f58f354b8b0afdeb67"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="一些新的适配器">一些新的适配器</h3>
<p><a href="#R-image-6a78c366572fe63226afb0fb4896dfae" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6a78c366572fe63226afb0fb4896dfae"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="bind">bind</h3>
<p><a href="#R-image-478cbbcc37a20ba22c1a555d18d50051" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-478cbbcc37a20ba22c1a555d18d50051"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="迭代器适配器">迭代器适配器</h2>
<h3 id="reverseiterator">reverse——iterator</h3>
<p>三个细节：</p>
<ul>
<li>1.begin=rend,end=rbigin</li>
<li>2.取值是取后一个，所以内部实现的*是做&ndash;操作；</li>
<li>3.operate ++()操作重载后内部实现为&ndash;，operate &ndash;()重载后内部实现++操作。</li>
</ul>
<p>具体图下图所示
<a href="#R-image-d494e740adf3106b8d46441c8d773e86" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-6.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d494e740adf3106b8d46441c8d773e86"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-6.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="insert_iterator">insert_iterator</h3>
<p>在下面的案例中<code>copy(bar.begin(),bar.end(),inserter(foo,it));</code>欲将list的bar数据从it指向的位置
开始插入，但是foo的空间不够，为什么还能成功？</p>
<p>设计的小技巧，当传入copy中时，因为inserter对operate =()做了重载，重载中调用了insert()该函数能决绝以上问题，
因此不会因为foo的内存不足导致插入失败。
<a href="#R-image-86d35b49fbe23d2752d41206c9b1af8f" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-7.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-86d35b49fbe23d2752d41206c9b1af8f"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-7.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="ostream_iterator">ostream_iterator</h3>
<p>下面通过一个案例说明该迭代器的一些特性和使用方法：</p>
<p>1.当执行初始化操作std::ostream_iterator<int> out_it(std::cout,&quot;,&quot;)时调用构造函数，并初始化。
2.执行copy操作时，因为ostream_iterator对operate =()重载，所以会将值value传给*out_stream，通过这个方法把数据打印在屏幕上。
<a href="#R-image-4b917a53b3d8cdd3aee2fbb1d1bbdad1" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4b917a53b3d8cdd3aee2fbb1d1bbdad1"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="istream_iterator">istream_iterator</h3>
<p>下面也是两个例子说明istream_iterator的特性：</p>
<p>1.<code>std::istream_iterator&lt;double&gt; iit(std::cin);</code>时同样会调用对应的构造函数，并且此处会调用<code>operate ++()</code>重载，在该重载中，<code>*in_stream</code>接收按键输入的一个值，也就是说才定义时，就已经在准备接收一个值，如果此时在该语句下写一段打印操作没见无法看到输出！
<a href="#R-image-b05681a5fafa7e9978e978c283b92bea" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b05681a5fafa7e9978e978c283b92bea"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>2.下面是<code>copy</code>操作，对于这个操作，我们可以观察是否有对<code>*</code>和<code>=</code>的操作符进行重载，对于<code>=</code>的重载上述已经介绍， <code>*</code>的重载是将value返回，也就是 <code>*first</code>的操作取得的是容器中的值。
<a href="#R-image-785b70c98dd7e0072deefd5168369d1e" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-785b70c98dd7e0072deefd5168369d1e"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/11.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="10stl库学习之仿函数">10.STL库学习之仿函数</h1>

<h2 id="仿函数的个人理解">仿函数的个人理解</h2>
<p>仿函数是行为类似函数的一个类，比较明显的特征是仿函数重载了operate()，比如你写了一个struct，并在里面重载了operate()，当调用这个类的()时就会返回响应的数据。</p>
<p>你的理解是正确的，仿函数（functor）是 C++ 中的一个概念，它指的是那些可以像函数一样被调用的对象。这些对象通常重载了函数调用操作符 <code>operator()</code>，使得对象可以被当作函数来使用。以下是对你描述的一些补充说明：</p>
<h3 id="仿函数的特点">仿函数的特点</h3>
<ol>
<li>
<p><strong>重载 <code>operator()</code></strong>：仿函数类必须重载函数调用操作符 <code>operator()</code>，这样对象就可以被像函数那样调用。</p>
</li>
<li>
<p><strong>可以携带状态</strong>：与普通函数不同，仿函数可以拥有成员变量，这意味着它们可以携带状态。这些状态可以是私有的，也可以是公开的，取决于仿函数的设计。</p>
</li>
<li>
<p><strong>可以进行重载</strong>：仿函数可以重载 <code>operator()</code>，以接受不同数量和类型的参数。</p>
</li>
<li>
<p><strong>可以定义在类中</strong>：仿函数可以是类的成员函数，也可以是独立的类。</p>
</li>
<li>
<p><strong>可以有返回值</strong>：当仿函数被调用时，可以返回一个值，就像普通函数那样。</p>
</li>
<li>
<p><strong>可以作为参数传递</strong>：由于仿函数可以像函数一样被调用，它们可以作为参数传递给接受函数作为参数的函数。</p>
</li>
</ol>
<h3 id="仿函数的应用">仿函数的应用</h3>
<ol>
<li>
<p><strong>算法的参数</strong>：仿函数经常用作 STL 算法的参数，例如 <code>std::sort</code> 和 <code>std::find_if</code>，因为这些算法需要一个可以被调用的实体来比较元素或测试条件。</p>
</li>
<li>
<p><strong>回调函数</strong>：在事件驱动的编程中，仿函数可以作为回调函数，响应特定的事件。</p>
</li>
<li>
<p><strong>策略模式</strong>：在设计模式中，仿函数可以用于实现策略模式，允许算法的行为在运行时动态改变。</p>
</li>
<li>
<p><strong>简化代码</strong>：通过使用仿函数，可以减少函数指针和全局函数的使用，使得代码更加简洁和易于管理。</p>
</li>
</ol>
<h3 id="示例代码">示例代码</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Max</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 重载()操作符，使其可以被调用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">operator</span>()(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (a <span style="color:#f92672">&gt;</span> b) <span style="color:#f92672">?</span> a : b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Max max_functor;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> max_functor(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>); <span style="color:#75715e">// 使用仿函数对象调用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Max value: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> result <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>在这个例子中，<code>Max</code> 是一个仿函数，它重载了 <code>operator()</code> 来比较两个整数并返回最大值。然后，我们可以像调用函数一样调用 <code>max_functor</code> 对象。</p>
<h2 id="仿函数内部一般设计什么">仿函数内部一般设计什么？</h2>
<p>仿函数一般重载operate()后，会在内部设计运算操作，如算数、逻辑、相对关系等运算。如下图所示。
<a href="#R-image-123afb9e76c3404351380aeb593bc45b" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-123afb9e76c3404351380aeb593bc45b"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
从上面一张图也可以发现，plus,minus,logical_and,equal_to,less类都集成了binary_function，该类的作用是什么呢？</p>
<p><code>std::binary_function</code> 的主要作用是：</p>
<ol>
<li><strong>泛型框架</strong>：提供一个泛型框架，允许函数对象接受任意类型的参数。</li>
<li><strong>类型转换</strong>：允许参数类型和返回类型的转换，使得函数对象可以用于不同的数据类型。</li>
<li><strong>模板编程</strong>：支持模板编程，使得可以创建通用的算法和函数。</li>
</ol>
<ul>
<li><strong>原型</strong></li>
</ul>
<p><code>std::binary_function</code> 的原型如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Arg1Type</span>, <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Arg2Type</span>, <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResultType</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">binary_function</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">typedef</span> Arg1Type first_argument_type;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">typedef</span> Arg2Type second_argument_type;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">typedef</span> ResultType result_type;
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div><ul>
<li>
<p><code>Arg1Type</code>：第一个参数的类型。</p>
</li>
<li>
<p><code>Arg2Type</code>：第二个参数的类型。</p>
</li>
<li>
<p><code>ResultType</code>：函数返回值的类型。</p>
</li>
<li>
<p><strong>继承和使用</strong></p>
</li>
</ul>
<p>函数对象如 <code>std::plus</code>, <code>std::minus</code>, <code>std::logical_and</code>, <code>std::equal_to</code>, <code>std::less</code> 等都继承自 <code>std::binary_function</code>。这意味着这些函数对象都定义了 <code>first_argument_type</code>, <code>second_argument_type</code>, 和 <code>result_type</code> 这三个类型别名，它们分别表示函数对象接受的第一个参数类型、第二个参数类型和返回值类型。</p>
<p>关于 <code>std::binary_function</code>的具体细节在适配器一节会重点讲到。</p>
<p>下图是是否继承binary_function的一些示例，如果不继承会怎么样呢？以我个人的理解，继承会让仿函数的扩展性更高，它将来可以扩展出更好的功能。如下图所示。
<a href="#R-image-8fddb4b50386aebb7325dc61bd72a989" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8fddb4b50386aebb7325dc61bd72a989"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>除了上面讲到的binary_function还有unary_function，该类是针对单个变量的操作，比如取反，加加。如下图：
<a href="#R-image-2f77b9c4ebe3c557871b0bc8cf2e7540" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2f77b9c4ebe3c557871b0bc8cf2e7540"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/10.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E4%BB%BF%E5%87%BD%E6%95%B0/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>关于binary_function的细节此处先不介绍，下一节将着重说明。</p>
<p>对于仿函数，鲜明的特点就是对operate()做了重载，这样的类创建出来的对象叫仿函数对象，具有函数的行为。如果要对重载做更多操作需要结合一些仿函数适配器，比如相面讲到的binary_function和unary_funtion。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="9stl库学习之迭代器与算法">9.STL库学习之迭代器与算法</h1>

<h2 id="标准库常用算法">标准库常用算法</h2>
<p><a href="#R-image-779b0caa2caa2057f01170934dbdf1e8" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-779b0caa2caa2057f01170934dbdf1e8"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="迭代器">迭代器</h2>
<h3 id="迭代器-的分类">迭代器-的分类</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">input_iterator_tag</span> {}<span style="color:#960050;background-color:#1e0010">；</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">output_iterator_tag</span> {};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">forward_iterator_tag</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> input_iterator_tag{};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">bidirectional_iterator_tag</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> forward_iterator_tag{};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">random_access_tag</span><span style="color:#f92672">:</span><span style="color:#66d9ef">public</span> bidirectional_iterator_tag {};</span></span></code></pre></div><p>以上5中迭代器的继承关系，如下图所示。
<a href="#R-image-496bde1d77005d029b215353380da8b2" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-496bde1d77005d029b215353380da8b2"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>1.Input Iterator（输入迭代器）：
输入迭代器是最基本的迭代器类型，支持单向遍历，只能向前移动。</p>
<p>用法示例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> vec <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
</span></span><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>input_iterator<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> it <span style="color:#f92672">=</span> vec.begin();
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">while</span> (it <span style="color:#f92672">!=</span> vec.end()) {
</span></span><span style="display:flex;"><span>         std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">++</span>it;
</span></span><span style="display:flex;"><span>     }</span></span></code></pre></div><p>2.Forward Iterator（前向迭代器）：
前向迭代器支持双向遍历，可以向前和向后移动。</p>
<p>用法示例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>list<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> lst <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
</span></span><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>forward_iterator<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> it <span style="color:#f92672">=</span> lst.begin();
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">while</span> (it <span style="color:#f92672">!=</span> lst.end()) {
</span></span><span style="display:flex;"><span>         std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">++</span>it;
</span></span><span style="display:flex;"><span>     }</span></span></code></pre></div><p>3.Output Iterator（输出迭代器）：
输出迭代器允许对容器中的元素进行写操作，但不支持读操作。</p>
<p>用法示例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> vec;
</span></span><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>back_insert_iterator<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> it(vec);
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">*</span>it <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; <span style="color:#75715e">// 写操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     <span style="color:#f92672">++</span>it;
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">*</span>it <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; <span style="color:#75715e">// 写操作
</span></span></span></code></pre></div><p>4.Bidirectional Iterator（双向迭代器）：
双向迭代器支持双向遍历，可以向前和向后移动。</p>
<p>用法示例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>list<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> lst <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
</span></span><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>bidirectional_iterator<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> it <span style="color:#f92672">=</span> lst.end();
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">while</span> (it <span style="color:#f92672">!=</span> lst.begin()) {
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">--</span>it;
</span></span><span style="display:flex;"><span>         std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>     }</span></span></code></pre></div><p>5.Random Access Iterator（随机访问迭代器）：
随机访问迭代器支持任意位置的快速访问，类似于指针操作。</p>
<p>用法示例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> vec <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
</span></span><span style="display:flex;"><span>     std<span style="color:#f92672">::</span>random_access_iterator<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> it <span style="color:#f92672">=</span> vec.begin();
</span></span><span style="display:flex;"><span>     it <span style="color:#f92672">+=</span> <span style="color:#ae81ff">2</span>; <span style="color:#75715e">// 随机访问
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>     std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>it <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>;</span></span></code></pre></div><h2 id="各种容器的迭代器类型">各种容器的迭代器类型</h2>
<p>测试代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iterator&gt;</span><span style="color:#75715e"> 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> test_iterator_category
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> display_category(T itr) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">typename</span> iterator_traits<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;::</span>iterator_category cagy; <span style="color:#75715e">// 使用 std::iterator_traits 获取迭代器类别
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// 这里不需要递归调用 display_iterator 函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">typeid</span>(cagy).name() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_iterator_category....................</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            display_category(array<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">10</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(list<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(forward_list<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(deque<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            display_category(set<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(multiset<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>            display_category(multiset<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;::</span>iterator());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            display_category(istream_iterator<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>());
</span></span><span style="display:flex;"><span>            display_category(ostream_iterator<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(cout,<span style="color:#e6db74">&#34;&#34;</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>此处可以参考一下<code>display_category(array&lt;int, 10&gt;::iterator());</code>中传递<code>array&lt;int, 10&gt;::iterator()</code>的方法。</p>
<p>测试结果：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>test_iterator_category....................
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>random_access_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>random_access_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>bidirectional_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>forward_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>random_access_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>bidirectional_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>bidirectional_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>bidirectional_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>bidirectional_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>input_iterator_tag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">std</span><span style="color:#f92672">::</span>output_iterator_tag</span></span></code></pre></div><h2 id="迭代器对算法的影响">迭代器对算法的影响</h2>
<h3 id="例子1-distance">例子1-distance</h3>
<p>迭代器如何计算容器元素之间的距离呢？当调用迭代器时，迭代器是如何操作以协助算法完成后续的增删改查的？</p>
<p>在计算距离方面，我们可以看到调用接口需要传入容器的头，以及容器尾部，接着使用：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">typename</span> iterator_traits<span style="color:#f92672">&lt;</span>InputIterator<span style="color:#f92672">&gt;::</span>itrerator_category category;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">__distance</span>(first,last, category);</span></span></code></pre></div><p><code>typedef typename iterator_traits&lt;InputIterator&gt;::itrerator_category category;</code>这一句会判断迭代器的类型，进而执行加操作或一步一步加操作。详细如下图所示。
<a href="#R-image-360f588248a8bd5180c380020c543192" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-360f588248a8bd5180c380020c543192"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="例子2-copy">例子2-copy</h3>
<p>copy的动作也不仅仅是对迭代器类型的判断，还做了许多特化、偏特化。如下图所示。
<a href="#R-image-9a527dc81ee435cf214bd4003444f15f" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9a527dc81ee435cf214bd4003444f15f"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="例子3-destroy">例子3-destroy</h3>
<p><a href="#R-image-058d805cec8e650842b83efc653af054" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-058d805cec8e650842b83efc653af054"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="例子4-__unique_copy">例子4-__unique_copy</h3>
<p><a href="#R-image-bcb9273ec2f484dd8760b90aceef12fd" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bcb9273ec2f484dd8760b90aceef12fd"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="对传入的迭代器类型的暗示">对传入的迭代器类型的暗示</h2>
<p>在调用一些需要传入迭代器的函数时，从函数的形参名可以判断传入的迭代器类型，如InputIterator，由于forward_iterator_tag、bidirection_iterator_tag、random_asccess_iterator_tag与input_iterator的继承关系可知，前三者都可以传入，以此类推如果形参是forward_iterator_tag那么除了其本身，bidirection_iterator_tag、random_asccess_iterator_tag也可传入。</p>
<p><a href="#R-image-84f7abe603f8a79c196a1bfdb88d2ee6" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-6.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-84f7abe603f8a79c196a1bfdb88d2ee6"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-6.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="算法源码剖析">算法源码剖析</h2>
<h3 id="accumulate-累计">accumulate-累计</h3>
<p><a href="#R-image-80d3b1f37cbacccdad5dcba6610b2396" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-7.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-80d3b1f37cbacccdad5dcba6610b2396"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-7.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>测试用例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;functional&gt;</span><span style="color:#75715e">//std::minus
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;numeric&gt;</span><span style="color:#75715e">//std::accumulate
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> test_accumulate
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">myfcn</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y) { <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> y; }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">myclass</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">operator</span>()(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y) { <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">*</span> y; }
</span></span><span style="display:flex;"><span>        } myobj;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>(){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> init <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> nums[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>};
</span></span><span style="display:flex;"><span>        cout <span style="color:#f92672">&lt;&lt;</span> accumulate(nums, nums <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>, init)<span style="color:#f92672">&lt;&lt;</span>endl;<span style="color:#75715e">//40
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout <span style="color:#f92672">&lt;&lt;</span> accumulate(nums, nums <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>, init, test_accumulate<span style="color:#f92672">::</span>myfcn)<span style="color:#f92672">&lt;&lt;</span>endl;<span style="color:#75715e">//70
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        cout <span style="color:#f92672">&lt;&lt;</span> accumulate(nums, nums <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>, init, test_accumulate<span style="color:#f92672">::</span>myobj) <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//100
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }</span></span></code></pre></div><h3 id="for_each">for_each</h3>
<p>拿到每一个元素时都对该元素执行某一操作。
<a href="#R-image-dc50a36a3d11dbfd5a2c756044792434" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dc50a36a3d11dbfd5a2c756044792434"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>测试用例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span> test_for_each
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">myfcn</span>(<span style="color:#66d9ef">int</span> i) { cout<span style="color:#f92672">&lt;&lt;</span>i<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;-&#34;</span>; }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">myclass</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">operator</span>()(<span style="color:#66d9ef">int</span> i) { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;[&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;] &#34;</span>; }
</span></span><span style="display:flex;"><span>        } myobj;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() {
</span></span><span style="display:flex;"><span>            vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            c.push_back(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>            c.push_back(<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>            c.push_back(<span style="color:#ae81ff">30</span>);
</span></span><span style="display:flex;"><span>            for_each(c.begin(), c.end(), test_for_each<span style="color:#f92672">::</span>myfcn);<span style="color:#75715e">//10-20-30-
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            for_each(c.begin(), c.end(), test_for_each<span style="color:#f92672">::</span>myobj);<span style="color:#75715e">//[10] [20] [30]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="replacereplace_ifrreplace_copy">replace,replace_if,rreplace_copy</h3>
<p>replace用于将新值替换为旧值，例如将数组中所有的8替换为9.详细源码如下图所示。
<a href="#R-image-a8772029835c8dca620b8e558092e9c4" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a8772029835c8dca620b8e558092e9c4"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><code>replace</code>、<code>replace_if</code> 和 <code>replace_copy</code> 是 C++ 标准库中的算法，它们用于在容器或数组中替换元素。这些函数属于 <code>&lt;algorithm&gt;</code> 头文件。下面是每个函数的详细介绍和作用：</p>
<h3 id="1-replace">1. <code>replace</code></h3>
<p><code>replace</code> 函数用于将容器中所有满足特定条件的元素替换为另一个值。这个函数直接在原容器上操作，不创建新的容器。</p>
<p><strong>函数原型</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">replace</span>(ForwardIterator first, ForwardIterator last, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> old_value, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> new_value);</span></span></code></pre></div><ul>
<li><code>first</code>, <code>last</code>：定义了要替换元素的范围。</li>
<li><code>old_value</code>：要被替换的值。</li>
<li><code>new_value</code>：替换后的值。</li>
</ul>
<p><strong>示例</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>};
</span></span><span style="display:flex;"><span>replace(v.begin(), v.end(), <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// v 变为 {1, 5, 3, 4, 3, 5}
</span></span></span></code></pre></div><h3 id="2-replace_if">2. <code>replace_if</code></h3>
<p><code>replace_if</code> 函数用于将容器中满足特定条件的元素替换为另一个值。与 <code>replace</code> 不同，<code>replace_if</code> 需要一个谓词（条件函数），只有满足这个条件的元素才会被替换。这个函数也直接在原容器上操作。</p>
<p><strong>函数原型</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">replace_if</span>(ForwardIterator first, ForwardIterator last, Predicate pred, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> new_value);</span></span></code></pre></div><ul>
<li><code>first</code>, <code>last</code>：定义了要替换元素的范围。</li>
<li><code>pred</code>：一个谓词函数，返回 <code>true</code> 表示替换，<code>false</code> 表示不替换。</li>
<li><code>new_value</code>：替换后的值。</li>
</ul>
<p><strong>示例</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>};
</span></span><span style="display:flex;"><span>replace_if(v.begin(), v.end(), [](<span style="color:#66d9ef">int</span> i) { <span style="color:#66d9ef">return</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>; }, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// v 变为 {1, 5, 3, 4, 3, 5}
</span></span></span></code></pre></div><h3 id="3-replace_copy">3. <code>replace_copy</code></h3>
<p><code>replace_copy</code> 函数用于将容器中所有满足特定条件的元素复制到另一个容器中，并替换为另一个值。这个函数不会改变原容器，而是创建一个新的容器，其中包含替换后的元素。</p>
<p><strong>函数原型</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">InputIterator</span>, <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OutputIterator</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>OutputIterator replace_copy(InputIterator first, InputIterator last, OutputIterator result, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> old_value, <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> new_value);</span></span></code></pre></div><ul>
<li><code>first</code>, <code>last</code>：定义了要替换元素的范围。</li>
<li><code>result</code>：指向目标容器的迭代器，用于存储替换后的元素。</li>
<li><code>old_value</code>：要被替换的值。</li>
<li><code>new_value</code>：替换后的值。</li>
</ul>
<p><strong>示例</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>};
</span></span><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v2(v.size());
</span></span><span style="display:flex;"><span>replace_copy(v.begin(), v.end(), v2.begin(), <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// v 保持不变，v2 变为 {1, 5, 3, 4, 3, 5}
</span></span></span></code></pre></div><h3 id="countcount_if">count，count_if</h3>
<p>源代码如下：
<a href="#R-image-d1cf5cd582d2acb1a475bfd3bf8c43a4" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-10.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d1cf5cd582d2acb1a475bfd3bf8c43a4"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-10.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>小结：
<a href="#R-image-43c504e91215e133717627b3b2376ff4" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-43c504e91215e133717627b3b2376ff4"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="findfind_if">find，find_if</h3>
<p><a href="#R-image-5a4339b1856f25a8dfbbbdacf9ad98b8" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5a4339b1856f25a8dfbbbdacf9ad98b8"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="sort">sort</h3>
<p><a href="#R-image-045c95796e4f9e7ad8b697df19e23d58" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-13.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-045c95796e4f9e7ad8b697df19e23d58"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-13.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="binary_search">binary_search</h3>
<p><a href="#R-image-9cf87ba0478b34a749b18baef2130aaf" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9cf87ba0478b34a749b18baef2130aaf"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%8E%E7%AE%97%E6%B3%95/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><strong>算法原理：</strong></p>
<p>二分查找的基本思想是将一个有序序列分为两半，通过比较中间元素和目标值来缩小搜索范围。如果中间元素正好是目标值，则查找成功；如果目标值小于中间元素，则在序列的左半部分继续查找；如果目标值大于中间元素，则在右半部分继续查找。这个过程不断重复，直到找到目标值或搜索范围为空。</p>
<p><strong>函数原型：</strong></p>
<p><code>binary_search</code> 的函数原型如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ForwardIterator</span>, <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">T</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> binary_search(ForwardIterator first,
</span></span><span style="display:flex;"><span>                   ForwardIterator last,
</span></span><span style="display:flex;"><span>                   <span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> value);</span></span></code></pre></div><ul>
<li><code>first</code>, <code>last</code>：定义了要搜索的范围，<code>first</code> 是序列的开始迭代器，<code>last</code> 是序列的结束迭代器（指向序列末尾的下一个位置）。</li>
<li><code>value</code>：要查找的值。</li>
</ul>
<p><strong>返回值：</strong></p>
<ul>
<li>如果在序列中找到 <code>value</code>，则返回 <code>true</code>。</li>
<li>如果没有找到，则返回 <code>false</code>。</li>
</ul>
<p><strong>示例代码：</strong></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> data <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> target <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> found <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>binary_search(data.begin(), data.end(), target);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (found) {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Element found in the array.&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Element not found in the array.&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p><strong>注意事项：</strong></p>
<ol>
<li><strong>有序序列</strong>：<code>binary_search</code> 要求序列必须是有序的，否则查找结果将不可预测。</li>
<li><strong>效率</strong>：二分查找的时间复杂度为 O(log n)，其中 n 是序列中的元素数量。这使得它比线性查找（O(n)）更高效，尤其是在大数据集上。</li>
<li><strong>稳定性</strong>：如果存在多个相同的目标值，<code>binary_search</code> 将返回第一个匹配的位置。如果需要找到所有匹配项，可能需要使用其他方法。</li>
</ol>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="8stl库学习之容器">8.STL库学习之容器</h1>

<h2 id="list">list</h2>
<h2 id="vector">vector</h2>
<h2 id="deque">deque</h2>
<p><a href="#R-image-7674d90d2cbc83b4aaa3b6fc0bd791ad" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image.png?height=350px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 350px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7674d90d2cbc83b4aaa3b6fc0bd791ad"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image.png?height=350px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>deque的迭代器
<a href="#R-image-c6f167edb0795fc33e449ddad0bfea97" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-1.png?height=350px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 350px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c6f167edb0795fc33e449ddad0bfea97"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-1.png?height=350px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>deque实现中间插入值的做法：如果欲插入值在最前端（最尾端）调用<code>push_front()</code>（<code>push_back()</code>）,否则借助<code>insert_aux()</code>迭代器，实现如果欲插入位置靠近前端使用，就让前端的数据往前挪，否则往后挪。</p>
<p>deque中+=的实现：1.先计算+=后是否超过缓冲区，如果没有则直接+=，否则需要判断需要跨几个缓冲区，然后再去确定前进几个缓冲区。
<a href="#R-image-ec37d6cc19185ce520ec5435adcdb1ca" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-2.png?height=350px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 350px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ec37d6cc19185ce520ec5435adcdb1ca"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-2.png?height=350px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><strong>Vector的内存扩充：</strong></p>
<p>std::vector 在需要更多空间时，通常会将容量增加到当前大小的两倍（这是最常见的增长策略，但不是唯一的，具体实现可能有所不同）。</p>
<p>当发生扩充时，std::vector 会分配一个新的更大的内存块，然后将所有元素从旧内存块复制到新内存块，最后释放旧内存块。</p>
<p><strong>Deque的内存扩充：</strong></p>
<p>std::deque（双端队列）的内存管理机制与 std::vector 不同。std::deque 是一个使用多个固定大小的内存块来存储元素的容器，这些内存块被称为“chunks”或“maps”。</p>
<p>当 std::deque 需要更多空间时，它可能会在已有的内存块之后添加新的内存块，或者在前面添加，这取决于哪个方向上的空间更紧张。
std::deque 不会像 std::vector 那样将所有元素复制到一个新的连续内存块中，而是在多个内存块之间分配元素。</p>
<h2 id="stack和queue">stack和queue</h2>
<p>stack和queue默认使用deque的功能来分别实现先进后出和先进先出的功能，除此之外还可以使用list，stack还可以使用vector，但是deque就不能用vector，以我的理解，是因为vector不提供后端操作。</p>
<h2 id="rb-tree">Rb-tree</h2>
<p>在C++中，set和map的底层实现都是基于红黑树（RB-tree）。红黑树是一种自平衡的二叉搜索树，能够保证在最坏情况下，插入、删除和查找操作的时间复杂度均为O(log n)。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span>  <span style="color:#66d9ef">int</span> key,
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> value,
</span></span><span style="display:flex;"><span>                identity<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>,
</span></span><span style="display:flex;"><span>                less<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>,
</span></span><span style="display:flex;"><span>                alloc
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">rb_tree</span>;</span></span></code></pre></div><p><strong>set 和 map 的区别：</strong></p>
<p>set：set中的元素是唯一的键值，即Key和Value是同一个。插入时使用insert_unique()方法，确保键值不重复。</p>
<p>map：map中的元素是键值对（Key-Value），键值用于索引，值表示与索引相关联的数据。插入时使用insert_equal()方法，允许键值重复。</p>
<p><strong>红黑树的结构：</strong></p>
<p>红黑树的结构包括节点、根节点、最左节点和最右节点等。根节点通过header.parent保存，最左节点通过header.left保存，最右节点通过header.right保存。</p>
<ul>
<li>插入操作
<ul>
<li>set：插入操作调用insert_unique()，确保键值唯一。</li>
<li>map：插入操作调用insert_equal()，允许键值重复。</li>
</ul>
</li>
<li>迭代器
<ul>
<li>set：迭代器是RB-tree的const_iterator，不允许修改元素值。</li>
<li>map：迭代器也是RB-tree的const_iterator，但允许修改元素的值（因为值部分不是键）。</li>
</ul>
</li>
</ul>
<h2 id="set和multiset">set和multiset</h2>
<p>set与map的底层实现基本可以参考下面的源码图，</p>
<p><a href="#R-image-8b13fc66c83851949c9cde06215b7051" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-3.png?height=350px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 350px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8b13fc66c83851949c9cde06215b7051"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-3.png?height=350px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>需要说明的一点是，在不允许更改键值上，二者的设计还是有区别，主要体现在set使用const_iterator,这样迭代器指向的键值就无法更改，而map在设计上在传进来的Key设置为const，确保键值不会被更改。</p>
<h2 id="hashtable-哈希表">hashtable-哈希表</h2>
<p>在C++中，hash_set、hash_map、hash_multiset和hash_multimap等数据结构的底层实现确实采用了哈希表的思想。具体来说，这些数据结构的设计核心是通过哈希函数将键（key）映射到数组的索引位置，从而实现高效的插入、删除和查找操作。</p>
<h3 id="数据存储的设计思想">数据存储的设计思想</h3>
<p>每个键值通过一个哈希函数计算出一个哈希值。这个哈希值通常是一个整数，用于确定键值在数组中的存储位置。例如，对于一个整数键值12，哈希函数可能会直接返回12，这样12就会被存储在数组的第12个位置。</p>
<p>哈希表的核心是一个数组（通常是一个vector），数组的每个元素（即每个位置）可以存储一个指针。这个指针指向一个单向链表的头节点。如果多个键值通过哈希函数计算出相同的哈希值，它们会被存储在同一个位置的链表中。参考下图：
<a href="#R-image-5ccaa7f50b9d7a143d62a8da293e5077" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-4.png?height=350px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 350px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5ccaa7f50b9d7a143d62a8da293e5077"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-4.png?height=350px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a>
当多个键值映射到同一个哈希值时，这些键值会被存储在一个链表中。链表的每个节点包含一个键值和指向下一个节点的指针。这种设计允许在发生哈希冲突时，通过遍历链表来查找或插入特定的键值。
<a href="#R-image-2d607401d393402591cef85b999e2e31" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-5.png?height=350px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 350px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2d607401d393402591cef85b999e2e31"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-5.png?height=350px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a>
为了保持高效的性能，哈希表通常会有一个动态扩容机制。当哈希表中的元素数量超过一定阈值时，哈希表会自动重新分配更大的数组，并重新计算所有键值的哈希值，以减少链表的长度，从而提高查找效率。</p>
<p>在实际应用中，哈希函数可能会导致不同的键值计算出相同的哈希值，这种现象称为哈希冲突。常见的解决策略包括链地址法（即使用链表存储冲突的元素）和开放地址法（即在数组中寻找下一个空闲位置）。</p>
<h3 id="具体实现过程">具体实现过程</h3>
<ul>
<li>当插入一个新键值时，首先通过哈希函数计算出其哈希值，然后根据哈希值找到对应的数组位置。如果该位置已经有元素（即发生冲突），则将新元素插入到该位置的链表中。</li>
<li>查找操作同样通过哈希函数计算出键值的哈希值，然后根据哈希值找到对应的数组位置。如果该位置有元素，则遍历链表，直到找到匹配的键值或链表结束。</li>
<li>删除操作首先通过哈希函数计算出键值的哈希值，然后根据哈希值找到对应的数组位置。如果该位置有元素，则遍历链表，找到并删除匹配的键值。</li>
</ul>
<h3 id="实现代码">实现代码</h3>
<p>hashtable类的实现提供了六个模板参数。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>  <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">value</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">key</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">hashFcn</span>,<span style="color:#75715e">//计算编号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">extractKey</span>,<span style="color:#75715e">//取出键值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EqualKey</span>,<span style="color:#75715e">//判断类型是否相等
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Alloc</span><span style="color:#f92672">=</span>alloc
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&gt;</span></span></span></code></pre></div><p><a href="#R-image-cb0a03b5e4bccb3851d3867a1bc949ed" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-6.png?height=300px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 300px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cb0a03b5e4bccb3851d3867a1bc949ed"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-6.png?height=300px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>如果要自己使用这个哈希表，需要写hashFcn()的重载，对齐进行偏特化等操作,如下图：
<a href="#R-image-e48f188eaba00b8e8193c3cc9b9f3908" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-7.png?height=300px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 300px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e48f188eaba00b8e8193c3cc9b9f3908"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-7.png?height=300px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>如果传入的是字符串，那么字符串的编号计算可以参考下图计算方法：
<a href="#R-image-2068a5efc6b7296b80b1f5062f7d6365" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-8.png?height=300px&amp;width=600px" alt="alt text" class="figure-image        " style="height: 300px; width: 600px;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2068a5efc6b7296b80b1f5062f7d6365"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/8.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%AE%B9%E5%99%A8/image-8.png?height=300px&amp;width=600px" alt="alt text" class="lightbox-image        " loading="lazy"></a>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
            </header>
<h1 id="7stl库学习之分配器">7.STL库学习之分配器</h1>

<h2 id="分配器源代码位置xmemoryh">分配器源代码位置：xmemory.h</h2>
<p><a href="#R-image-1948184766ad9123837b25bea318ad8c" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/7.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%88%86%E9%85%8D%E5%99%A8/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1948184766ad9123837b25bea318ad8c"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/7.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%88%86%E9%85%8D%E5%99%A8/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>除了array和vector外，其他容器的适配器必须是一个类，

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
            </header>
<h1 id="6stl库学习之筑基概要">6.STL库学习之筑基概要</h1>

<h2 id="stl程序源代码位置">STL程序源代码位置</h2>
<p>了解自身编译器STL程序源代码位置。</p>
<h2 id="oop-与-gp">OOP 与 GP</h2>
<p>面向对象编程（OOP）：</p>
<p>面向对象编程是一种编程范式，它将数据和处理这些数据的方法封装在对象中。这种方法强调了数据和函数的捆绑，使得代码更加模块化，易于理解和维护。对象可以包含属性（数据）和方法（函数），它们一起工作来模拟现实世界的行为。</p>
<p>补充说明：OOP 通过类（Class）来定义对象的蓝图，支持继承、封装和多态等特性，从而提高代码的重用性和灵活性。例如list中有自己的sort()函数，专门为list而设计，比::sort()的算法更优。</p>
<p>泛型编程（GP）：</p>
<p>泛型编程是一种编程范式，它允许开发者定义操作类型数据结构的函数和类，而不需要在编译时指定具体的数据类型。这种方法强调了数据和处理方法的分离，提供了更高的代码复用性和类型安全性。</p>
<p>补充说明：GP 通过模板（Templates）或泛型容器（如 std::vector、std::map）来实现，允许开发者写出与数据类型无关的代码，从而在不同的数据类型间共享相同的算法逻辑。例如vector和deque没有为自身设计sort(),在做排序操作时，需要调用::sort()来实现。</p>
<h2 id="操作符重载">操作符重载</h2>
<p>STL源码程序中会包含很多的操作符重载，一般你会看到operate修饰符，后面就紧跟着操作符。注意：<code>::</code>、<code>.</code>、<code>.*</code>和 <code>:?</code>不能进行操作符重载。</p>
<p>在我看来操作符重载是一个重要的特性，它可以让你实现任何类的运算法则，这些法则有你自己规定，操作空间还是比较宽泛。</p>
<h2 id="模版-template">模版-template</h2>
<p>最常见的写法如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FOO</span>{
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="类模板">类模板</h3>
<p>最常见的写法如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">T</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FOO</span>{
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="成员模版">成员模版</h3>
<h3 id="泛化特化和偏特化">泛化、特化和偏特化</h3>
<p>以我个人的理解，泛化是为了应对大部分的情况，特化是为了应对特殊的情况，或使用单独的方法处理对某些情况而言更好，偏特化比偏特化更近一步，把处理的手段限定在一定范围内，举个简单的例子，假设为设计计算两种情况的相加做如下定义：</p>
<p>1.泛化</p>
<p>泛化编程在C++中通过模板实现。以下是一个泛化编程的示例，其中 AND 类是一个模板类，可以处理任何类型的数据。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">T</span>,<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">U</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AND</span>{
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>2.特化</p>
<p>特化是对模板类或函数的特定实例化。以下是特化的示例，其中 AND 类被特化为处理 string 和 Text 类型：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">T</span>, <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">U</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AND</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ... 类的泛型实现
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AND</span><span style="color:#f92672">&lt;</span>string, Text<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ... 类的特化实现
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };</span></span></code></pre></div><p>3.偏特化</p>
<p>偏特化允许对模板类的部分参数进行特化。以下是偏特化的示例，其中 AND 类被偏特化为处理第一个类型为 int 的情况：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">T</span>, <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">U</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AND</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ... 类的泛型实现
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">U</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AND</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, U<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ... 类的偏特化实现
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };</span></span></code></pre></div>
<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
    <li><a class="term-link" href="./tags/stl%E5%BA%93/">STL库</a></li>
  </ul>
</div>
            </header>
<h1 id="5stl库之观其大略">5.STL库之观其大略</h1>

<h2 id="一下主要讲stl组件的测试用例特别是容器的测试">一下主要讲STL组件的测试用例，特别是容器的测试</h2>
<h2 id="学习资料">学习资料</h2>
<ul>
<li>CPLusPlus.com</li>
<li>CppReference.com</li>
<li>gcc.gnu.org</li>
<li>《STL源码剖析》</li>
</ul>
<h2 id="stl六大组件">STL六大组件</h2>
<ul>
<li>容器-Containers，申请内存用于存储数据</li>
<li>分配器-Allocators，配合容器分配内存</li>
<li>算法- Algorithms，处理某一数据的最优办法</li>
<li>迭代器-  Iterators，指针的泛型，本质与指针类似</li>
<li>适配器- Adapters，</li>
<li>仿函数-Functors，类似函数。</li>
</ul>
<p>六者的关系</p>
<p><a href="#R-image-413bfa03533568f04ed388c32cfa852b" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-413bfa03533568f04ed388c32cfa852b"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="begin和end">begin()和end()</h2>
<p>以迭代器为例，begin()指向迭代器的首地址，而end()指向迭代器尾地址的下一位，可以用前闭后开区间来表示，即**[ )**</p>
<h2 id="容器的分类">容器的分类</h2>
<p><a href="#R-image-648e98485ba1e95397c6d00772f47cb6" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-648e98485ba1e95397c6d00772f47cb6"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-7c95ffa7706f62c7cda0d1c128b0745b" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7c95ffa7706f62c7cda0d1c128b0745b"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="数组容器的使用">数组容器的使用</h2>
<h3 id="array-的使用">array 的使用</h3>
<div class="tab-panel" data-tab-group="d0b9d83d66d087b528a44f1faa612e5b">
  <div class="tab-nav">
    <div class="tab-nav-title">示例1</div>
    <button
      data-tab-item="h文件"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('d0b9d83d66d087b528a44f1faa612e5b','h文件')"
    >
      <span class="tab-nav-text">.h文件</span>
    </button>
    <button
      data-tab-item="testcode"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('d0b9d83d66d087b528a44f1faa612e5b','testcode')"
    >
      <span class="tab-nav-text">testCode</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('d0b9d83d66d087b528a44f1faa612e5b','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="h文件"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>        <span style="color:#75715e">#ifndef __AUXFUN__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">#define __AUXFUN__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">#define RAMD_MAX 32767
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">get_a_target_long</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;target (0--&#34;</span> <span style="color:#f92672">&lt;&lt;</span> RAMD_MAX <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;):&#34;</span>;
</span></span><span style="display:flex;"><span>            cin <span style="color:#f92672">&gt;&gt;</span> target;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> target;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//将数值转为string，这样可以测试类似object的情况
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        string <span style="color:#a6e22e">get_a_target_string</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> target <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;target (0--&#34;</span> <span style="color:#f92672">&lt;&lt;</span> RAMD_MAX <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;):&#34;</span>;
</span></span><span style="display:flex;"><span>            cin <span style="color:#f92672">&gt;&gt;</span> target;
</span></span><span style="display:flex;"><span>            snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, target);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> string(buf);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">compareLongs</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> b)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (<span style="color:#f92672">*</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)a <span style="color:#f92672">-</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)b);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            1.类型转换：因为参数是const void* 类型，你需要将它们转换为具体的数据类型指针（在这个例子中是long* ），以便可以解引用并获取它们的值。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            2.解引用：在转换之后，通过在类型转换的结果前使用* 操作符来获取指针指向的实际值。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            3.强制转换的结果：* (long*)a实际上是一个long值，它是通过解引用转换后的指针得到的。*/</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">compareString</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> b)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)a <span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)b)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)a <span style="color:#f92672">&lt;</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)b)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#endif </span><span style="color:#75715e">// !__ENTRY__
</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="testcode"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;TestHeardFiles/AuxFun.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ctime&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdlib&gt;</span><span style="color:#75715e">//qsort()、 bsearch()、 NULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;array&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> size_t ASIZE <span style="color:#f92672">=</span> <span style="color:#ae81ff">50000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span> t01
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_array</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_array().............. </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            array<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span>, ASIZE<span style="color:#f92672">&gt;</span> c;<span style="color:#75715e">//使用数组容器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> ASIZE; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                c[i] <span style="color:#f92672">=</span> rand();<span style="color:#75715e">//可以产生随机数的函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli_seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;array.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//返回数组大小
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;array.back(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.back() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//返回数组最后一个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;array.data: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.data() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//返回第一个数的地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> target <span style="color:#f92672">=</span> get_a_target_long();
</span></span><span style="display:flex;"><span>            timeStart <span style="color:#f92672">=</span> clock();<span style="color:#75715e">//clock()返回毫秒数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            qsort(c.data(), ASIZE, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">long</span>), compareLongs);<span style="color:#75715e">//数组排序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">long</span><span style="color:#f92672">*</span> pItem <span style="color:#f92672">=</span> (<span style="color:#66d9ef">long</span><span style="color:#f92672">*</span>)bsearch(<span style="color:#f92672">&amp;</span>target, (c.data()), ASIZE, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">long</span>), compareLongs);<span style="color:#75715e">//数组查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;qsort()+bsearch(),milli-seconds:&#34;</span> <span style="color:#f92672">&lt;&lt;</span> clock() <span style="color:#f92672">-</span> timeStart <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> NULL)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>        t01<span style="color:#f92672">::</span>test_array();
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<p><a href="#R-image-dd81d69f950997f0965a8c1945a7b2a0" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dd81d69f950997f0965a8c1945a7b2a0"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
</div>
    </div>
  </div>
</div>
<h3 id="vector-的使用">vector 的使用</h3>
<p>vector是一种向后自动以2次方增加的内存的容器，一般使用push_back向后添加数据；</p>
<p>vector也有一定的缺点，假设我只需要5个内存空间，但是vector分配的是8个，剩下的3个后面如果不使用就会浪费。</p>
<div class="tab-panel" data-tab-group="cbc02d7f225e9cccc87be8a2b26bd467">
  <div class="tab-nav">
    <div class="tab-nav-title">示例2</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('cbc02d7f225e9cccc87be8a2b26bd467','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('cbc02d7f225e9cccc87be8a2b26bd467','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdexcept&gt;</span><span style="color:#75715e"> </span><span style="color:#75715e">//obort()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">	</span><span style="color:#75715e">//snprintf()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">//sort()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t02
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_vector</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value) {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_vector()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            vector<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push_back(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push_back()将数据存入容器尾部，这是vector的特性
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//同时值得注意，当空间不足时，内存会自动增加，怎么加方式是2的平方
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;vector.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;vector.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;vector.back(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.back() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;vector.data(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.data() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;vector.capacity(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.capacity() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">//返回的是向量当前分配的存储空间可以容纳的元素个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            string target <span style="color:#f92672">=</span> get_a_target_string();<span style="color:#75715e">//获取输入的数字，并转为string类型返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//使用算法find查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//返回类型是：使用全局::find()寻找目标，这是循环寻找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//判断有没有找到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//进行排序后使用bsearch查找。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                sort(c.begin(), c.end());<span style="color:#75715e">//该算法将任何类型进行排序，需要提供相应的比较函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                string<span style="color:#f92672">*</span> pItem <span style="color:#f92672">=</span> (string<span style="color:#f92672">*</span>)bsearch(<span style="color:#f92672">&amp;</span>target, (c.data()), c.size(), <span style="color:#66d9ef">sizeof</span>(string), compareString);
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;sort()+bsearch(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<p><a href="#R-image-5afdab9cb1fc13a9a001190be6f0c36e" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5afdab9cb1fc13a9a001190be6f0c36e"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
</div>
    </div>
  </div>
</div>
<p>从上面的结果来看，排序后使用二分查找反而比循环查找慢，原因在于排序话费了很多时间，因为string类型是一个object，其本身大小比较大，所以面对一个object进行查找时不建议使用排序后二分查找。</p>
<p>在实际应用中，选择排序加二分查找还是直接线性查找，需要根据具体情况来决定：</p>
<ul>
<li>如果容器已经排序，或者数据量不大，直接使用二分查找可能更简单、更快。</li>
<li>如果容器未排序，且数据量很大，那么可能需要考虑是否值得为了一次查找而进行排序，或者是否可以通过其他方式（如使用更高效的数据结构，如哈希表）来提高查找效率。</li>
<li>如果查找操作非常频繁，而插入和删除操作不频繁，那么维护一个已排序的容器可能是合理的，这样每次查找都可以利用二分查找的效率。</li>
</ul>
<p>总之，选择哪种方法取决于具体的应用场景和性能要求。在某些情况下，可能需要通过实验或性能分析来确定最佳的策略。</p>
<h3 id="链表容器-list">链表容器-list</h3>
<p>std::list 是 C++ 标准库中的一个容器，它提供了双向链表的实现。</p>
<p><strong>std::list 容器的特点：</strong></p>
<ul>
<li>双向链表结构：std::list 由一系列节点组成，每个节点包含一个元素和两个指针，分别指向前一个节点和后一个节点。</li>
<li>动态内存分配：std::list 中的每个节点都是独立分配内存的。这意味着当你添加或删除元素时，std::list 会为新元素分配内存，或释放不再使用的元素所占用的内存。</li>
<li>内存空间利用：由于 std::list 的元素是单独分配的，因此不存在像 std::vector 那样的连续内存块，也就不会有额外的内存浪费。每个元素恰好占用它所需的空间，加上一些指针存储开销。</li>
</ul>
<p><strong>查询操作效率：</strong></p>
<ul>
<li>查询效率较低：与 std::vector 或 std::array 这样的随机访问容器相比，std::list 的查询操作通常较慢。这是因为 std::list 没有提供快速的随机访问能力。</li>
<li>顺序访问：在 std::list 中，要访问一个特定位置的元素，你需要从头开始遍历，直到到达那个位置。这意味着访问时间与列表的大小成正比，最坏情况下的时间复杂度为 O(n)。</li>
<li>没有跳跃访问：与数组或 std::vector 不同，std::list 没有提供直接跳到任意位置的能力。在数组中，你可以通过简单的指针算术来访问任意位置的元素，而在 std::list 中，你必须遍历链表。</li>
</ul>
<p><strong>测试代码：</strong></p>
<div class="tab-panel" data-tab-group="19a3b4450b47669312a356ef0188d49e">
  <div class="tab-nav">
    <div class="tab-nav-title">示例3</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('19a3b4450b47669312a356ef0188d49e','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('19a3b4450b47669312a356ef0188d49e','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;list&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t03
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_list</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_list()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            list<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push_back(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push_back()将数据存入容器尾部，这是vector的特性
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//同时值得注意，当空间不足时，内存会自动增加，怎么加方式是2的平方
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;list.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;list.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;list.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;list.back(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.back() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            string target <span style="color:#f92672">=</span> get_a_target_string();<span style="color:#75715e">//获取输入的数字，并转为string类型返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//使用算法find查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//返回类型是：使用全局::find()寻找目标，这是循环寻找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//判断有没有找到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//测试排序花费的时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                c.sort();<span style="color:#75715e">//使用list自带的排序函数，当然也可以用全局的sort，一般如果容器自带，则选择自带的。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;list.sort(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_list</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1073</span>
</span></span><span style="display:flex;"><span>    list.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    list.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">329406144173384850</span>
</span></span><span style="display:flex;"><span>    list.<span style="color:#a6e22e">front</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>    list.<span style="color:#a6e22e">back</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">12679</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>    found,<span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    list.<span style="color:#a6e22e">sort</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1611</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<p><strong>总结：</strong>
std::list 的优点在于它的灵活性和高效的插入/删除操作，这些操作可以在 O(1) 时间内完成，因为它们只需要修改几个指针。然而，这种灵活性的代价是牺牲了快速随机访问的能力。因此，如果你的应用场景中需要频繁地在序列中间插入或删除元素，而不太关心随机访问性能，std::list 是一个很好的选择。反之，如果随机访问是一个关键操作，那么可能需要考虑使用其他类型的容器。</p>
<h3 id="链表容器-forward_list">链表容器-forward_list</h3>
<p>std::forward_list 是 C++ 标准库中的一个容器，它提供了单向链表的实现。</p>
<p><strong>std::forward_list 容器的特点：</strong></p>
<ul>
<li>单向链表结构：std::forward_list 由一系列节点组成，每个节点包含一个元素和一个指向下一个节点的指针。</li>
<li>内存分配：与 std::list 类似，std::forward_list 的元素也是动态分配内存的。但是，由于它是单向链表，所以只能从链表的前端（头部）开始进行内存分配。</li>
<li>操作限制：由于 std::forward_list 的单向特性，它只提供了 push_front() 和 pop_front() 操作来在链表的前端添加或删除元素。不支持快速的随机访问，也不支持在链表的中间或末尾进行插入和删除操作。</li>
</ul>
<p><strong>内存使用效率：</strong></p>
<ul>
<li>无尾插法：std::forward_list 没有 push_back() 方法，只能使用 push_front() 在链表的头部插入元素。这意味着，如果你需要在链表的末尾添加元素，你将不得不遍历整个链表以到达末尾，这在大型数据集中可能效率较低。</li>
<li>节省空间：与 std::list 相比，std::forward_list 每个节点只需要存储一个指向下一个节点的指针，因此它的内存开销比 std::list 小。</li>
</ul>
<p><strong>适用场景：</strong></p>
<ul>
<li>空间敏感的应用：如果你的应用对内存使用非常敏感，且需要从链表的前端进行频繁的插入和删除操作，std::forward_list 是一个不错的选择。</li>
<li>单向遍历：如果你的应用只需要从链表的前端开始遍历元素，那么 std::forward_list 可以提供良好的性能。</li>
</ul>
<p><strong>测试代码</strong></p>
<div class="tab-panel" data-tab-group="ea047c92fc29fd8295d88e1b4e088f5c">
  <div class="tab-nav">
    <div class="tab-nav-title">示例3</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('ea047c92fc29fd8295d88e1b4e088f5c','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('ea047c92fc29fd8295d88e1b4e088f5c','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;forward_list&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t04
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_forward_list</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">forward_list()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            forward_list<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push_front(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push_frond()将数据存入容器头部，forward_list没有push_back()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;forward_list.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;forward_list.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//cout &lt;&lt; &#34;forward_list.back(): &#34; &lt;&lt; c.back() &lt;&lt; endl;	没有该函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//cout &lt;&lt; &#34;forward_list.size(): &#34; &lt;&lt; c.size() &lt;&lt; endl;	没有该函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            string target <span style="color:#f92672">=</span> get_a_target_string();<span style="color:#75715e">//获取输入的数字，并转为string类型返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//使用算法find查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//返回类型是：使用全局::find()寻找目标，这是循环寻找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//判断有没有找到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//测试排序花费的时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                c.sort();<span style="color:#75715e">//使用forward_list自带的排序函数，当然也可以用全局的sort，一般如果容器自带，则选择自带的。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;forward_list.sort(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">forward_list</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">965</span>
</span></span><span style="display:flex;"><span>    forward_list.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">384307168202282325</span>
</span></span><span style="display:flex;"><span>    forward_list.<span style="color:#a6e22e">front</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">12679</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>    found,<span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    forward_list.<span style="color:#a6e22e">sort</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1595</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<p>值得注意的是：
std::forward_list 专为高效的前端插入和删除操作设计，std::forward_list 没有 push_back() 是因为它是单向链表，
只能高效地从前面操作。它没有 size() 函数，因为计算链表长度需要遍历整个链表，这与它优化前端操作的设计目标不符。</p>
<p><strong>总结：</strong></p>
<p>std::forward_list 是一个轻量级的容器，它在内存使用上比 std::list 更为高效，但在功能上也更为有限。它适合于那些只需要单向遍历和操作的场景。由于其单向链表的特性，std::forward_list 在进行元素插入和删除时，只能从链表的前端进行，这限制了它的使用场景。在选择 std::forward_list 时，需要根据应用的具体需求来权衡其优势和局限性。</p>
<h3 id="链表容器-slist">链表容器-slist</h3>
<p>slist容器与forward_list容器一样，只是slis容器存在于ext\slist头文件中。</p>
<p><strong>测试代码：</strong></p>
<div class="tab-panel" data-tab-group="e3fd4f84e45d3962744fbd0f87d6a3c7">
  <div class="tab-nav">
    <div class="tab-nav-title">示例3</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('e3fd4f84e45d3962744fbd0f87d6a3c7','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('e3fd4f84e45d3962744fbd0f87d6a3c7','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;forward_list&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t04
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_forward_list</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">forward_list()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            forward_list<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push_front(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push_frond()将数据存入容器头部，forward_list没有push_back()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;forward_list.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;forward_list.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//cout &lt;&lt; &#34;forward_list.back(): &#34; &lt;&lt; c.back() &lt;&lt; endl;	没有该函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//cout &lt;&lt; &#34;forward_list.size(): &#34; &lt;&lt; c.size() &lt;&lt; endl;	没有该函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            string target <span style="color:#f92672">=</span> get_a_target_string();<span style="color:#75715e">//获取输入的数字，并转为string类型返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//使用算法find查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//返回类型是：使用全局::find()寻找目标，这是循环寻找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//判断有没有找到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//测试排序花费的时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                c.sort();<span style="color:#75715e">//使用forward_list自带的排序函数，当然也可以用全局的sort，一般如果容器自带，则选择自带的。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;forward_list.sort(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">forward_list</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">965</span>
</span></span><span style="display:flex;"><span>    forward_list.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">384307168202282325</span>
</span></span><span style="display:flex;"><span>    forward_list.<span style="color:#a6e22e">front</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">12679</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>    found,<span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    forward_list.<span style="color:#a6e22e">sort</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1595</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="双向容器-deque">双向容器-deque</h2>
<p><a href="#R-image-8f94d3c81bee941306807647c7cacd51" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f94d3c81bee941306807647c7cacd51"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>std::deque（双端队列）是一种容器，它允许在序列的前端和后端快速插入和删除元素。尽管从概念图上看，
std::deque 似乎是一个连续的存储空间，但实际上它并不是连续的。std::deque 的实现通常是由一个或多个固定大小的连续内存块
（通常称为“节点”或“块”）组成的，这些块通过指针连接在一起。</p>
<p>以下是对您提供内容的整理：</p>
<ul>
<li>存储机制：std::deque 由多个指针组成，每个指针指向一个具有一定容量的连续内存块。这些内存块被组织在一起，形成一个能够从两端快速增长的容器。</li>
<li>内存管理：当 std::deque 中的一个内存块满了，需要更多的空间时，它会“自动跳转”到下一个空闲的内存块的开始位置。如果所有现有的内存块都已满，std::deque 会分配一个新的内存块，并更新指针以指向这个新的块。</li>
<li>内存效率：使用固定容量的内存块可以减少内存浪费。例如，如果每个内存块的大小为8个元素，那么即使只存储一个元素，也只会浪费7个元素的空间（因为第一个块始终被使用）。这与 std::vector 相比，后者可能会因为频繁的内存重新分配而导致更多的内存浪费。</li>
<li>动态增长：当 std::deque 需要更多内存时，它会动态地增加新的内存块。这种设计使得 std::deque 能够在不牺牲太多内存的情况下，提供快速的插入和删除操作。</li>
<li>连续性：尽管 std::deque 在内部不是完全连续的，但它提供了随机访问的能力，这意味着你可以像访问 std::vector 或数组一样，通过索引来访问 std::deque 中的任何元素。</li>
</ul>
<p>总的来说，std::deque 是一个灵活且高效的容器，适用于需要在序列的两端进行频繁插入和删除操作的场景。它的设计既考虑了性能，
也考虑了内存使用效率。</p>
<p><strong>测试代码：</strong></p>
<div class="tab-panel" data-tab-group="3607215c00fc3bf18ca4954155a5e04f">
  <div class="tab-nav">
    <div class="tab-nav-title">示例3</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('3607215c00fc3bf18ca4954155a5e04f','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('3607215c00fc3bf18ca4954155a5e04f','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;deque&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t05
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_deque</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_deque()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            deque<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push_back(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push_back()将数据存入容器尾部
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;deque.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;deque.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;deque.back(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.back() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;deque.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            string target <span style="color:#f92672">=</span> get_a_target_string();<span style="color:#75715e">//获取输入的数字，并转为string类型返回
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">//使用算法find查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//返回类型是：使用全局::find()寻找目标，这是循环寻找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//判断有没有找到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found,&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//测试排序花费的时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                sort(c.begin(), c.end());<span style="color:#75715e">//使用全局的sort,deque没有自己的sort。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;deque.sort(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_deque</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1055</span>
</span></span><span style="display:flex;"><span>    deque.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">461168601842738790</span>
</span></span><span style="display:flex;"><span>    deque.<span style="color:#a6e22e">front</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">41</span>
</span></span><span style="display:flex;"><span>    deque.<span style="color:#a6e22e">back</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">12679</span>
</span></span><span style="display:flex;"><span>    deque.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>    found,<span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    deque.<span style="color:#a6e22e">sort</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">3838</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="特殊容器-stack和queue">特殊容器-stack和queue</h2>
<h3 id="stdstack栈">std::stack（栈）</h3>
<p><strong>定义：</strong></p>
<p>std::stack 是一个遵循后进先出（LIFO，Last In First Out）原则的容器适配器。它只能在序列的一端（栈顶）进行添加（push）和移除（pop）操作。</p>
<p><strong>主要操作：</strong></p>
<ul>
<li>push()：在栈顶添加一个元素。</li>
<li>pop()：移除栈顶元素。</li>
<li>top()：返回栈顶元素的引用，不移除它。</li>
</ul>
<p><strong>特点：</strong></p>
<ul>
<li>只能单端操作，即只能在栈顶进行操作。</li>
<li>没有提供直接的迭代器支持，但提供了 top() 方法来访问栈顶元素。</li>
</ul>
<h3 id="stdqueue队列">std::queue（队列）</h3>
<p><strong>定义：</strong></p>
<p>std::queue 是一个遵循先进先出（FIFO，First In First Out）原则的容器适配器。它只能在序列的一端（队尾）进行添加（push）操作，在另一端（队首）进行移除（pop）操作。</p>
<p><strong>主要操作：</strong></p>
<ul>
<li>push()：在队尾添加一个元素。</li>
<li>pop()：移除队首元素。</li>
<li>front()：返回队首元素的引用，不移除它。</li>
<li>back()：返回队尾元素的引用，不移除它。</li>
</ul>
<p><strong>特点：</strong></p>
<ul>
<li>双端操作，即在队首进行移除操作，在队尾进行添加操作。</li>
<li>提供了迭代器支持，允许遍历队列中的所有元素。</li>
</ul>
<p><strong>与 std::deque 的不同.</strong></p>
<ul>
<li>操作限制：std::stack 和 std::queue 限制了操作的位置，而 std::deque 允许在两端自由操作。</li>
<li>迭代器支持：std::stack 不支持迭代器，std::queue 支持迭代器但只能访问队列中的元素，而 std::deque 提供了随机访问迭代器，可以高效地访问序列中的任何位置。</li>
<li>使用场景：如果你需要一个简单的后进先出或先进先出的数据结构，std::stack 或 std::queue 可能更适合。如果你需要一个能够在两端快速操作且支持随机访问的容器，std::deque 是更好的选择。</li>
</ul>
<p><strong>测试代码：</strong></p>
<div class="tab-panel" data-tab-group="146e29518719ea9cdd9464fb591209ac">
  <div class="tab-nav">
    <div class="tab-nav-title">示例4</div>
    <button
      data-tab-item="stack代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('146e29518719ea9cdd9464fb591209ac','stack代码')"
    >
      <span class="tab-nav-text">stack代码</span>
    </button>
    <button
      data-tab-item="queue代码"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('146e29518719ea9cdd9464fb591209ac','queue代码')"
    >
      <span class="tab-nav-text">queue代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('146e29518719ea9cdd9464fb591209ac','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="stack代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stack&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t06
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_stack</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_stack()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            stack <span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;<span style="color:#75715e">//stack又叫栈，特点是先进后出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push()将数据压入容器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;stack.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;stack.top(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.top() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            c.pop();
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;stack.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;stack.top(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.top() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//与前面的容器不同，stack不可以进行查找操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="queue代码"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;queue&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t07
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_queue</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_queue()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            queue <span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;<span style="color:#75715e">//queue又叫队列，特点是先进先出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.push(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用push()将数据压入容器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;queue.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;queue.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;queue.back(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.back() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            c.pop();
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;queue.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;queue.front(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.front() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;queue.back(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.back() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//与前面的容器不同，queue也不提供查找操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_stack</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1050</span>
</span></span><span style="display:flex;"><span>    stack.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    stack.<span style="color:#a6e22e">top</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">12679</span>
</span></span><span style="display:flex;"><span>    stack.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">999999</span>
</span></span><span style="display:flex;"><span>    stack.<span style="color:#a6e22e">top</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">17172</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_queue</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1027</span>
</span></span><span style="display:flex;"><span>    queue.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    queue.<span style="color:#a6e22e">front</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">21384</span>
</span></span><span style="display:flex;"><span>    queue.<span style="color:#a6e22e">back</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1461</span>
</span></span><span style="display:flex;"><span>    queue.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">999999</span>
</span></span><span style="display:flex;"><span>    queue.<span style="color:#a6e22e">front</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">10793</span>
</span></span><span style="display:flex;"><span>    queue.<span style="color:#a6e22e">back</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1461</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="红黑树-multiset容器">红黑树-multiset容器</h2>
<p>multiset容器结构类似二叉树，准确说是红黑树，这种结构的的查找会快很多，但是插入则会耗费一定时间，这些时间都花费在了排序上。</p>
<p><strong>测试代码：</strong></p>
<div class="tab-panel" data-tab-group="ea23f7ae25ca8ac5d674bcb5de663f43">
  <div class="tab-nav">
    <div class="tab-nav-title">示例8</div>
    <button
      data-tab-item="multiset代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('ea23f7ae25ca8ac5d674bcb5de663f43','multiset代码')"
    >
      <span class="tab-nav-text">multiset代码</span>
    </button>
    <button
      data-tab-item="multimap代码"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('ea23f7ae25ca8ac5d674bcb5de663f43','multimap代码')"
    >
      <span class="tab-nav-text">multimap代码</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('ea23f7ae25ca8ac5d674bcb5de663f43','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="multiset代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;set&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t08
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_multiset</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_multiset()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            multiset <span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;<span style="color:#75715e">//multiset结构式红黑树
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.insert(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用insert()将数据存入容器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;multiset.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;multiset.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            string target <span style="color:#f92672">=</span> get_a_target_string();
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//使用全局::fingd()查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> c.find(target);<span style="color:#75715e">//使用multiset自身的fingd()查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;c.find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="multimap代码"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;map&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t09
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_multimap</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_multimap()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            multimap <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span>,string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.insert(pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span>,string<span style="color:#f92672">&gt;</span>(i,buf));<span style="color:#75715e">//此处使用了pair设置键值对
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//值得注意，multimap不可以用[]做insert，这一点可以结合map容器理解,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//另外key是不会重复的，因为接收的是0-1000000，而值可能会重复，因为值是通过随机数函数rand()产生，范围为0-32767
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;multimap.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;multimap.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> target <span style="color:#f92672">=</span> get_a_target_long();
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> c.find(target);
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;c.find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, (&#34;</span> <span style="color:#f92672">&lt;&lt;</span> (<span style="color:#f92672">*</span>pItem).first <span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">&lt;&lt;</span>pItem<span style="color:#f92672">-&gt;</span>second<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;)&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_multiset</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">3235</span>
</span></span><span style="display:flex;"><span>    multiset.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    multiset.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">256204778801521550</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">23456</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">59</span>
</span></span><span style="display:flex;"><span>    found, <span style="color:#ae81ff">23456</span>
</span></span><span style="display:flex;"><span>    c.<span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    found, <span style="color:#ae81ff">23456</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_multimap</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1843</span>
</span></span><span style="display:flex;"><span>    multimap.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    multimap.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">230584300921369395</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">23456</span>
</span></span><span style="display:flex;"><span>    c.<span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    found, (<span style="color:#ae81ff">23456</span>, <span style="color:#ae81ff">31622</span>)</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<p>从测试结果看，因为不会抛弃重复的值，multiset的元素个数与大小相等，且存值会话费很多时间。
相比之下multimap存值时间会话费少一些。</p>
<h2 id="unordered_multiset和unordered_multimap">unordered_multiset和unordered_multimap</h2>
<p>std::unordered_map 和 std::unordered_set 是 C++ 标准库中的两种容器，它们基于哈希表实现。这两种容器提供平均时间复杂度为 O(1) 的快速访问，插入和删除操作。下面简单解释它们的概念图，包括桶和负载因子的说明。</p>
<p><strong>概念图简述：</strong></p>
<p><strong>桶（Buckets）：</strong></p>
<p>在 std::unordered_map 和 std::unordered_set 中，哈希表被分为多个“桶”。
每个桶存储指向一个链表的指针（在 std::unordered_map 的情况下）或直接存储元素（在 std::unordered_set 的情况下）。
当元素被插入时，它们的哈希值决定了它们将被存储在哪个桶中。</p>
<p><strong>链表（Chaining）：</strong></p>
<p>如果多个元素具有相同的哈希值（哈希冲突），它们将被存储在同一个桶中，并通过链表连接起来。
在 std::unordered_map 中，每个桶可能包含一个链表，链表中的每个节点存储一个键值对。
在 std::unordered_set 中，每个桶可能包含一个链表，链表中的每个节点存储一个元素。</p>
<p><strong>负载因子（Load Factor）：</strong></p>
<p>负载因子是哈希表中已存储元素数量与桶数量的比率。
负载因子影响哈希表的性能。较高的负载因子可能导致更多的哈希冲突，从而增加链表的长度，降低性能。
当负载因子超过一个预设的最大值时，哈希表可能会进行重新哈希（rehashing），即增加桶的数量并重新分配所有元素到新的桶中。</p>
<p><strong>概念图说明：</strong></p>
<p><a href="#R-image-ef35449d54d614b35d6950f82a74e614" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-6.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ef35449d54d614b35d6950f82a74e614"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-6.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>桶：哈希表被分为多个桶，每个桶可以存储一个链表的头部指针。</li>
<li>指针：在 std::unordered_map 中，每个指针指向一个链表节点，该节点包含一个键值对。在 std::unordered_set 中，每个指针直接指向存储的元素。</li>
<li>元素：链表中的元素，可能是键值对或单个值。</li>
</ul>
<p><strong>负载因子说明：</strong></p>
<p>重新哈希（Rehashing）：当负载因子超过 max_load_factor() 时，哈希表会进行重新哈希，增加桶的数量，并将所有元素重新分配到新的桶中。
动态调整：这种动态调整机制使得 std::unordered_map 和 std::unordered_set 能够根据元素数量的变化自动调整大小，以保持操作的性能。
通过这种结构，std::unordered_map 和 std::unordered_set 能够在大多数情况下提供快速的访问和修改操作，但需要注意，极端情况下（如所有元素哈希到同一个桶中）性能可能会退化到 O(n)。</p>
<p><strong>测试代码：</strong></p>
<div class="tab-panel" data-tab-group="0b4935ec76d1af0f12945466a4380ff5">
  <div class="tab-nav">
    <div class="tab-nav-title">示例9</div>
    <button
      data-tab-item="unordere_multiset代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('0b4935ec76d1af0f12945466a4380ff5','unordere_multiset代码')"
    >
      <span class="tab-nav-text">unordere_multiset代码</span>
    </button>
    <button
      data-tab-item="unordere_multiset结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('0b4935ec76d1af0f12945466a4380ff5','unordere_multiset结果')"
    >
      <span class="tab-nav-text">unordere_multiset结果</span>
    </button>
    <button
      data-tab-item="unordere_multimap代码"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('0b4935ec76d1af0f12945466a4380ff5','unordere_multimap代码')"
    >
      <span class="tab-nav-text">unordere_multimap代码</span>
    </button>
    <button
      data-tab-item="unordere_multimap结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('0b4935ec76d1af0f12945466a4380ff5','unordere_multimap结果')"
    >
      <span class="tab-nav-text">unordere_multimap结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="unordere_multiset代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unordered_set&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t10
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_unordered_multiset</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_unordered_multiset()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            unordered_multiset <span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.insert(string(buf));<span style="color:#75715e">//将随机数转为string类型，并使用insert()将数据存入容器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;unordered_multiset.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">// 打印 unordered_multiset 能存储的最大元素数量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;unordered_multiset.bucket_count(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.bucket_count() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">// 打印 unordered_multiset 中桶的数量，即存储指向一定长度链表的指针的个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;unordered_multiset.max_load_factor(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_load_factor() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">// 打印 unordered_multiset 可以使用的最大负载因子，它影响桶中链表的最大长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;unordered_multiset.max_bucket_count(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_bucket_count() <span style="color:#f92672">&lt;&lt;</span> endl;<span style="color:#75715e">// 打印 unordered_multiset 可以使用的最大桶的数量，这个值通常由桶的增长策略和哈希表的容量决定
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">unsigned</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">20</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;bucket # &#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; has &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.bucket_size(i) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; element.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            string target <span style="color:#f92672">=</span> get_a_target_string();
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);<span style="color:#75715e">//使用全局::fingd()查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> c.find(target);<span style="color:#75715e">//使用multiset自身的fingd()查找
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;c.find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="unordere_multiset结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_unordered_multiset</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1867</span>
</span></span><span style="display:flex;"><span>    unordered_multiset.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">329406144173384850</span>
</span></span><span style="display:flex;"><span>    unordered_multiset.<span style="color:#a6e22e">bucket_count</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1048576</span>
</span></span><span style="display:flex;"><span>    unordered_multiset.<span style="color:#a6e22e">max_load_factor</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    unordered_multiset.<span style="color:#a6e22e">max_bucket_count</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1152921504606846975</span>
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">0</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">1</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">2</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">3</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">4</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">5</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">6</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">7</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">8</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">9</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">10</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">11</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">12</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">13</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">14</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">15</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">16</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">17</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">18</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    bucket <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#ae81ff">19</span> has <span style="color:#ae81ff">0</span> element.
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">108</span>
</span></span><span style="display:flex;"><span>    found, <span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    c.<span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    found, <span style="color:#ae81ff">12345</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="unordere_multimap代码"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unordered_map&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">namespace</span> t11
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_unordered_multimap</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_unordered_multimap()..............</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>            multimap <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span>, string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c.insert(pair<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span>, string<span style="color:#f92672">&gt;</span>(i, buf));
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i=&#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();<span style="color:#75715e">//发生异常使用该函数退出程序
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;unordered_multimap.size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;unordered_multimap.max_size(): &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> target <span style="color:#f92672">=</span> get_a_target_long();
</span></span><span style="display:flex;"><span>            timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> c.find(target);
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;c.find(),milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, (&#34;</span> <span style="color:#f92672">&lt;&lt;</span> (<span style="color:#f92672">*</span>pItem).first <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> pItem<span style="color:#f92672">-&gt;</span>second <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;)&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not found!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="unordere_multimap结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_unordered_multimap</span>()..............
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1942</span>
</span></span><span style="display:flex;"><span>    unordered_multimap.<span style="color:#a6e22e">size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    unordered_multimap.<span style="color:#a6e22e">max_size</span>()<span style="color:#f92672">:</span> <span style="color:#ae81ff">230584300921369395</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    c.<span style="color:#a6e22e">find</span>(),milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    found, (<span style="color:#ae81ff">12345</span>, <span style="color:#ae81ff">5839</span>)</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="set和map容器">set和map容器</h2>
<p>测试代码：</p>
<div class="tab-panel" data-tab-group="0df1bce70f9fa4c0f5f10315aa39caa3">
  <div class="tab-nav">
    <div class="tab-nav-title">示例10</div>
    <button
      data-tab-item="set"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('0df1bce70f9fa4c0f5f10315aa39caa3','set')"
    >
      <span class="tab-nav-text">set</span>
    </button>
    <button
      data-tab-item="map"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('0df1bce70f9fa4c0f5f10315aa39caa3','map')"
    >
      <span class="tab-nav-text">map</span>
    </button>
    <button
      data-tab-item="结果"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('0df1bce70f9fa4c0f5f10315aa39caa3','结果')"
    >
      <span class="tab-nav-text">结果</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="set"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">namespace</span> t12
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_set</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value){
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test-set()............................</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            set<span style="color:#f92672">&lt;</span>string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                        c.insert(string(buf));
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                        abort();
</span></span><span style="display:flex;"><span>                    } 
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;set.max_size() &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;set.size() &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                string target <span style="color:#f92672">=</span> get_a_target_string();
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> <span style="color:#f92672">::</span>find(c.begin(), c.end(), target);
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(), milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> c.find(target);
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;find(), milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#f92672">*</span>pItem <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                        cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not fount!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="map"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>   <span style="color:#66d9ef">namespace</span> t13
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_map</span>(<span style="color:#66d9ef">long</span><span style="color:#f92672">&amp;</span> value) {
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">test_map()............................</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            map<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">long</span>,string<span style="color:#f92672">&gt;</span> c;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">char</span> buf[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>            clock_t timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> value; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    snprintf(buf, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;%d&#34;</span>, rand());
</span></span><span style="display:flex;"><span>                    c[i] <span style="color:#f92672">=</span> string(buf);<span style="color:#75715e">//注意这种使用方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">catch</span> (exception<span style="color:#f92672">&amp;</span> p)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;i = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> p.what() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                    abort();
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;map.max_size() &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.max_size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;map.size() &#34;</span> <span style="color:#f92672">&lt;&lt;</span> c.size() <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">long</span> target <span style="color:#f92672">=</span> get_a_target_long();
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                timeStart <span style="color:#f92672">=</span> clock();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">auto</span> pItem <span style="color:#f92672">=</span> c.find(target);
</span></span><span style="display:flex;"><span>                cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;::find(), milli-seconds: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> (clock() <span style="color:#f92672">-</span> timeStart) <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (pItem <span style="color:#f92672">!=</span> c.end()) {
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;found value, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> pItem<span style="color:#f92672">-&gt;</span>second <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;not fount value!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="结果"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    How much memory space you need: <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    test<span style="color:#f92672">-</span><span style="color:#a6e22e">set</span>()............................
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">2133</span>
</span></span><span style="display:flex;"><span>    set.<span style="color:#a6e22e">max_size</span>() <span style="color:#ae81ff">256204778801521550</span>
</span></span><span style="display:flex;"><span>    set.<span style="color:#a6e22e">size</span>() <span style="color:#ae81ff">32768</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(), milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    found, <span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">find</span>(), milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    found, <span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_map</span>()............................
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">1937</span>
</span></span><span style="display:flex;"><span>    map.<span style="color:#a6e22e">max_size</span>() <span style="color:#ae81ff">230584300921369395</span>
</span></span><span style="display:flex;"><span>    map.<span style="color:#a6e22e">size</span>() <span style="color:#ae81ff">1000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span> (<span style="color:#ae81ff">0</span><span style="color:#f92672">--</span><span style="color:#ae81ff">32767</span>)<span style="color:#f92672">:</span><span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">::</span><span style="color:#a6e22e">find</span>(), milli<span style="color:#f92672">-</span>seconds: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    found value, <span style="color:#ae81ff">5839</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="分配器测试程序">分配器测试程序</h2>
<p><a href="#R-image-1768fe97837586d7a9c671656d2695d5" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1768fe97837586d7a9c671656d2695d5"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/5.stl%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
            </header>
<h1 id="4c20特性的使用">4.C&#43;&#43;2.0特性的使用</h1>

<h2 id="vs-2022的设置">VS 2022的设置</h2>
<p>首先你可以先用下面的代码测试使用可以执行：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printTypes</span>() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T, <span style="color:#66d9ef">typename</span>... U<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> printTypes(<span style="color:#66d9ef">const</span> T<span style="color:#f92672">&amp;</span> t, <span style="color:#66d9ef">const</span> U<span style="color:#f92672">&amp;</span>... u) {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> t <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>        printTypes(u...);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>        printTypes(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1.5</span>, <span style="color:#e6db74">&#39;b&#39;</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>如果报错了，如typename&hellip;未定义，那么请你按照如下步骤操作，
<a href="#R-image-a6a365338823ed83e1bc1c956258a446" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/4.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%802.0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a6a365338823ed83e1bc1c956258a446"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/4.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%802.0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>C++语言标准选择<code>预览 - 最新 C++ 工作草案中的功能 (/std:c++latest)</code></li>
<li>启用实验性C++标准库模块&ndash;<code>是</code></li>
<li>生成ISO C++23标准库模块 &ndash; <code>是</code></li>
</ul>
<h2 id="const补充">const补充</h2>
<table>
<thead>
<tr>
<th></th>
<th>const 参数</th>
<th>non-const 参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>const 函数</td>
<td>可执行</td>
<td>可执行</td>
</tr>
<tr>
<td>non-const 函数</td>
<td>报错</td>
<td>可执行</td>
</tr>
</tbody>
</table>
<p>使用const需要注意两个问题，参数是否需要修改，参数进入函数内后数据是都会修改。解决这两个问题，在需要的地方加上const</p>
<p>还有一种情况，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">foo</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        T fooTo(T str) <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> str; };
</span></span><span style="display:flex;"><span>        T <span style="color:#a6e22e">fooTo</span>(T str)  {<span style="color:#66d9ef">return</span> str;};
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>        foo <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">&gt;</span> f;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span> y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;c&#39;</span>;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span>  f.fooTo(x) <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span>  f.fooTo(y) <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>运行结果如下:
<a href="#R-image-03e927a4698ad49a12af3aa698ceb922" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/4.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%802.0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-03e927a4698ad49a12af3aa698ceb922"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/4.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%802.0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
在这个例子中，带const的参数只会执行带const的函数，而不带const的参数会只会执行不带const的函数，这就是带const和不带const函数出现时的情况。
但是这个结果我并不是很满意，应为我试着在不带const函数内部修改传入的参数，代码执行时将不会以我上面说的结论出现。或许还需要在研究研究……</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
            </header>
<h1 id="3导读">3.导读</h1>

<h2 id="书籍推荐">书籍推荐</h2>
<ul>
<li>《C++ Premier》</li>
<li>《C++ Programming Language》</li>
<li>《Effective Modern C++》</li>
<li>《Efficient C++》</li>
<li>《The C++ standard library》</li>
<li>《STL C++》</li>
<li>CPLusPlus.com</li>
<li>CppReference.com</li>
<li>gcc.gnu.org</li>
<li>《STL源码剖析》</li>
<li>《算法+数据结构=程序》</li>
</ul>
<h2 id="学习路线">学习路线</h2>
<p><a href="#R-image-3e0d083ecdaa970473f8ef422f84a7e0" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-4.png" alt="路线" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3e0d083ecdaa970473f8ef422f84a7e0"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-4.png" alt="路线" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li><a href="https://www.icourse163.org/learn/PKU-1002029030?tid=1473325453#/learn/content" target="_blank">慕课C++学习</a></li>
<li><a href="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/cxsjsxmooc.openjudge.cn">练习网站</a></li>
</ul>
<h2 id="conversion-function-转换函数">conversion function-转换函数</h2>
<p>接下来以一个分数的代码例子说明转换函数。</p>
<p>情况1：让值转为其他类型</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fraction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> m_num, m_den;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        Fraction(<span style="color:#66d9ef">int</span> num, <span style="color:#66d9ef">int</span> den <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">:</span> m_num(num),m_den(den){}
</span></span><span style="display:flex;"><span>        opertaor <span style="color:#a6e22e">double</span>() <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">double</span>)(m_num<span style="color:#f92672">/</span>m_den);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//使用示例：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Fraction <span style="color:#a6e22e">f</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> d <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">+</span>f;</span></span></code></pre></div><p>在上述的示例中，<code>d = 4+f;</code>程序会先判断有没有写<code>opertaor +</code>，如果没有会试着将f通过<code>opertaor double()</code>转为double类型。</p>
<p>情况2：<strong>non-explicit-one-argument-ctor</strong>，不带explicit的一个参数的构造函数，将其他类型转为预所写类的类型</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fraction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> m_num, m_den;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        Fraction(<span style="color:#66d9ef">int</span> num, <span style="color:#66d9ef">int</span> den <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">:</span> m_num(num),m_den(den){}
</span></span><span style="display:flex;"><span>        opertaor <span style="color:#a6e22e">double</span>() <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">double</span>)(m_num<span style="color:#f92672">/</span>m_den);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//使用示例：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Fraction <span style="color:#a6e22e">f1</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    Fraction f2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">+</span>f1;</span></span></code></pre></div><p>同样在这个地方会先将4转为Fraction，然后在进行相加，转换函数使用的是构造函数，构造函数默认第二个参数是1，也就一个参数时也可用，但这个意思并不是说f1(2)你不写第二个参数。</p>
<p>虽然向上面的情况可行，但是当你把两个情况结合在一起时，就会报错，例如你如下写：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fraction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> m_num, m_den;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        Fraction(<span style="color:#66d9ef">int</span> num, <span style="color:#66d9ef">int</span> den <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">:</span> m_num(num),m_den(den){}
</span></span><span style="display:flex;"><span>        opertaor <span style="color:#a6e22e">double</span>() <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">double</span>)(m_num<span style="color:#f92672">/</span>m_den);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Fraction <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">const</span> Fraction<span style="color:#f92672">&amp;</span> f){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Fraction</span>(<span style="color:#960050;background-color:#1e0010">……</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };</span></span></code></pre></div><p>情况3：<strong>explicit-one-argument-ctor</strong>，带explicit的一个参数的构造函数
这个时候再使用刚才的例子，程序就会报错，因为此时是两种情况的结合，意味着两种情况都可以实现，编译器此时就不知道该使用哪个方法，为了解决这个问题，你可以使用关键字explicit来约束构造函数，让其他类型如法转为所写类，这个时候编译器会报错说无法将double类型转为Fraction。如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fraction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> m_num, m_den;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">explicit</span> Fraction(<span style="color:#66d9ef">int</span> num, <span style="color:#66d9ef">int</span> den <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">:</span> m_num(num),m_den(den){}
</span></span><span style="display:flex;"><span>        opertaor <span style="color:#a6e22e">double</span>() <span style="color:#66d9ef">const</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">double</span>)(m_num<span style="color:#f92672">/</span>m_den);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Fraction <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+</span> (<span style="color:#66d9ef">const</span> Fraction<span style="color:#f92672">&amp;</span> f){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Fraction</span>(<span style="color:#960050;background-color:#1e0010">……</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//示例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Fraction <span style="color:#a6e22e">f1</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    Fraction f2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">+</span>f1;</span></span></code></pre></div><h2 id="编写的类大两个大方向">编写的类大两个大方向</h2>
<h3 id="智能指针">智能指针</h3>
<p><a href="#R-image-d5d2eb76f152baf57f0df3c9d1d02ebc" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d5d2eb76f152baf57f0df3c9d1d02ebc"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-8f6cc500ead05e93fc4c0489ee5ec8c3" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f6cc500ead05e93fc4c0489ee5ec8c3"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="伪函数">伪函数</h3>
<p>这样的类会像函数一样接收参数，返回某一类型的值通常会看到类中重载<code>operate() (……){……}</code>函数。</p>
<h2 id="特化">特化</h2>
<p><a href="#R-image-aace855735ba9609e49e60505afa11ae" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aace855735ba9609e49e60505afa11ae"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="偏特化--对应泛化">偏特化&ndash;对应泛化</h2>
<ul>
<li>个数上的偏</li>
</ul>
<p>以我的理解就是假设原先设计的模版为</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> a, <span style="color:#66d9ef">typename</span> b<span style="color:#960050;background-color:#1e0010">……</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#960050;background-color:#1e0010">……</span>}</span></span></code></pre></div><p>现在我使用偏特化，写为</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> b<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">bool</span>, <span style="color:#66d9ef">typename</span> b<span style="color:#960050;background-color:#1e0010">……</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#960050;background-color:#1e0010">……</span>}</span></span></code></pre></div><p>也就是第一个参数已经确定是bool类型了。（大概先这么理解吧:smile: :smile: :smile:）</p>
<ul>
<li>范围上的偏特化</li>
</ul>
<p>一般我们的类模版你可以任意指定类型，但是现在我想写一个用指针指向的类模板，那么他就被限制在一定的范围内了</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> a<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#960050;background-color:#1e0010">……</span>}
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//范围偏特化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> a<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span><span style="color:#f92672">*</span> a<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#960050;background-color:#1e0010">……</span>}</span></span></code></pre></div><h2 id="模板模板类">模板模板类</h2>
<p>假设我要创建一个容器，并指定这个容器内容的类型，这个时候可以使用模版模版类，详细看下图：
<a href="#R-image-a554486b2b38bdf630375ae3ac94d37a" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a554486b2b38bdf630375ae3ac94d37a"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/3.%E5%AF%BC%E8%AF%BB/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
            </header>
<h1 id="2组合与继承">2.组合与继承</h1>

<h2 id="类与类的三种关系">类与类的三种关系</h2>
<h3 id="composition-复合">Composition-复合</h3>
<p>以我个人的理解，复合就是一个类中包含有另外一个类，使用到另一个类的内容。复合的类他们的构造和析构函数运行次序是，构造函数有内到外依次运行，析构函数则相反。可以使用下图表示这种关系</p>
<p><a href="#R-image-1ff48e319456a644ec1dc5ea969dee40" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1ff48e319456a644ec1dc5ea969dee40"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="delegation-委托">delegation-委托</h3>
<p>当一个类欲用一个指针指向另一个类，以达到想使用时就指向这个类的这种关系就叫delegation，假设我要实现一个计算，此时指针指向这个函数，让函数去做这个计算。这有些类似于复合，但是这里重点在于指针的使用。在写一些功能的时候也建议使用这种关系的特性，因为这样就将两者隔开，起到一定的保护作用。参考下图：
<a href="#R-image-46b5f848624eba10ed8ea93e035b84c1" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-46b5f848624eba10ed8ea93e035b84c1"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="inheritance-继承">Inheritance-继承</h3>
<p>在C++有三种继承方式，其中public是常用的一种，继承表示从一个类中集成某些属性成为 <strong>另外一种</strong> 类。</p>
<p><a href="#R-image-a627797a6220fce3dd6991799ddc275e" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a627797a6220fce3dd6991799ddc275e"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>Inheritance关系的两个类它们的构造函数与析构函数执行次序与之前描述复合时一样。如下图是这种关系的表示方法：
<a href="#R-image-5f59ace39f0619c7657e1c2eeeba9658" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5f59ace39f0619c7657e1c2eeeba9658"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>构造函数（constructor）：由内到外，代码表示为<code>SunFunction::SunFunction(…):base(){…};</code></li>
<li>析构函数（destructor）：由外到内，代码表示为<code>SunFunction::SunFunction(…){……~base();};</code></li>
</ul>
<p>值得注意的是，如果一个类将来可能是父类，那么需要在析构函数前加<strong>virtual</strong>关键字，否则会报错<code>undefine behavior</code>。</p>
<h2 id="设计模式">设计模式</h2>
<p>**参考书籍：**<em>Design PatternsExplained Simply</em></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
            </header>
<h1 id="1代码编写规范">1.代码编写规范</h1>

<h2 id="如何写一个标准的h文件">如何写一个标准的.h文件</h2>
<p>以下内容来自<a href="https://www.bilibili.com/video/BV1ELHEewEms/?p=6&amp;spm_id_from=pageDriver&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">B站</a>。</p>
<p>接下来将以复数的库文件为例来回答这个问题，下面是一段参考复数库文件代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* data */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> re,im;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> complex<span style="color:#f92672">&amp;</span> __doapl (complex<span style="color:#f92672">*</span>,<span style="color:#66d9ef">const</span> complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    complex (<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>re(r),im(i)                <span style="color:#75715e">//这是一个构造函数，这种写法意思是初始化变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {};
</span></span><span style="display:flex;"><span>    complex<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+=</span> (complex <span style="color:#66d9ef">operator</span><span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">read</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> re;}  <span style="color:#75715e">//这里需要加const 意思就是修饰函数的返回值，不允许改变返回值类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> im;}
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div><h2 id="构造函数的特性">构造函数的特性</h2>
<p>这一点需要关注下面的代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>complex (<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>re(r),im(i)                <span style="color:#75715e">//这是一个构造函数，这种写法意思是初始化变量
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {};</span></span></code></pre></div><h2 id="关于const修饰符">关于const修饰符</h2>
<p>如上面说到的，函数返回最好是加const，这样可以应付下面情况的发生。</p>

<div class="tab-panel" data-tab-group="0ab472e5660e482601024fc953991a2c">
  <div class="tab-nav">
    <div class="tab-nav-title">const的使用</div>
    <button
      data-tab-item="加constfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('0ab472e5660e482601024fc953991a2c','加constfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 加const</span>
    </button>
    <button
      data-tab-item="不加constfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;"
      onclick="switchTab('0ab472e5660e482601024fc953991a2c','不加constfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 不加const</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="加constfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">read</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> re;}  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> im;}</span></span></code></pre></div><p>此时做如下两种使用都是正确的</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="不加constfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">read</span> ()  {<span style="color:#66d9ef">return</span> re;}  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> ()  {<span style="color:#66d9ef">return</span> im;}</span></span></code></pre></div><p>此时做如下两种使用只有第一种可以被执行，第二种会报错。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="函数传递和返回值的两种方式">函数传递和返回值的两种方式</h2>
<p>pass by values:传值。在传输的事单字节或者字节数较少的情况下使用，比如传一个字符。</p>
<p>pass by reference:传引用。在C++中引用的底层逻辑就是传指针，也就是类似穿了地址，也就是只传输4个字节，
在这种情况下你可以使用const修饰符，迫使函数不能修改值，如果希望函数对值进行处理则可以不加</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">re</span>(<span style="color:#66d9ef">const</span> classname<span style="color:#f92672">&amp;</span> cl){};<span style="color:#75715e">//加了const
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">re</span>(classname cl){};<span style="color:#75715e">//没有加const
</span></span></span></code></pre></div><p>对于返回值，我们可以返回值，也可以返回引用，但什么情况下返回的是引用呢？</p>
<p>在设计类中的函数时，可以先考虑返回类型适不适合<code>引用</code>,如果返回的是已经存在的地址，那么可以选择返回类型为引用，否则不使用。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">inline</span> complex<span style="color:#f92672">&amp;</span>
</span></span><span style="display:flex;"><span>        __ap(complex <span style="color:#f92672">*</span> <span style="color:#66d9ef">this</span> ,<span style="color:#66d9ef">const</span> complex <span style="color:#f92672">&amp;</span> c){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>re <span style="color:#f92672">+=</span> c.re;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>im <span style="color:#f92672">+=</span> c.im;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>        }</span></span></code></pre></div><p>向上面的函数就是使用了引用返回。</p>
<h2 id="操作符重载-1成员函数">操作符重载-1：成员函数</h2>
<p><a href="#R-image-c5c711f452d59ea361c0f87c9f379c6d" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image.png" alt="操作符重载" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c5c711f452d59ea361c0f87c9f379c6d"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image.png" alt="操作符重载" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="操作符重载-2非成员函数">操作符重载-2：非成员函数</h2>
<p>假设现在要计算复数的加减，如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com2</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">9</span>);
</span></span><span style="display:flex;"><span>    complex com3;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    com3 <span style="color:#f92672">=</span> com1 <span style="color:#f92672">+</span> com2;
</span></span><span style="display:flex;"><span>    com3 <span style="color:#f92672">=</span> com1 <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    com3 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">+</span> com2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span></span></span></code></pre></div><p>对于这段代码在库文件中，要对加法做非成员函数重载，以应付 不同的情况。</p>
<p>接下来在考虑一个问题，就是如果我们只是做<code>cout&lt;&lt;com1;</code>那么对于&laquo;函数返回值可以是void类,但是如果我们做的是<code>cout&lt;&lt;com1&lt;&lt;com2&lt;&lt;endl;</code>
这样的操作返回类型为void类型，那么当运行<code>cout&lt;&lt;com1</code>后就无法运行<code>&lt;&lt;com2&lt;&lt;endl</code>的代码.</p>
<p>很显然要让代码继续运行，我们还需要返回iostream类型，而且使用<code>return by reference</code>返回方法，也就是返回引用。如下图：
<a href="#R-image-8c7310606a51042391f80012dd60bcaa" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c7310606a51042391f80012dd60bcaa"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="小结">小结</h2>
<p>通过以上的简单讲解，我们可以总结一下，再写一个类的时候，我们需要注意以下几点：</p>
<ul>
<li>确定类的数据并写在private中;</li>
<li>对于构造函数要善于使用初始化数据方法；</li>
<li>对于函数要想一想，返回类型是否可以改变，要不要写const；</li>
<li>对于函数类型和返回值，要传值还是传引用，要返回值还是返回引用。</li>
</ul>
<p>是否返回引用最最好的判断标准就是，值在经过函数运算后存储在函数外，或说是一个以存在的存储地址，否则不返回引用</p>
<h2 id="接下来通过学习stringh库进一步了解指针的使用">接下来通过学习string.h库，进一步了解指针的使用</h2>
<p>一般有指针的类需要写三个特殊函数拷贝构造、拷贝析构、拷贝赋值，</p>
<p><a href="#R-image-f66ef276d26c22b77c03e96124a52908" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-2.png" alt="String" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f66ef276d26c22b77c03e96124a52908"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-2.png" alt="String" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-e6b5d5738fbca3aa5272d9f9a242b06a" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e6b5d5738fbca3aa5272d9f9a242b06a"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-398f570f14a40d199e1097c11c5ddc33" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-398f570f14a40d199e1097c11c5ddc33"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-1cb025c5e47c0844fe47329997973b08" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1cb025c5e47c0844fe47329997973b08"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>有时候还需要用到new 和 delete。</p>
<h2 id="stack栈和heap堆">stack（栈）和heap（堆）</h2>
<p>如下代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">……</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        String str1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String();
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>上面的{}内的代码就是存储在stack中，而经过new的变量存在heap中；</p>
<h3 id="stack-object-的生命周期">stack object 的生命周期</h3>
<p>在{}内的代码执行结束后，<strong>自动调用析构函数</strong>将变量清理掉，如下代码，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">……</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="static-local-object-的生命周期">static local object 的生命周期</h3>
<p>添加关键字static的变量成为静态变量，在作用于如下面代码的{}结束后不会被析构函数清理掉，
变量会存储直到程序结束。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">……</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="global-objects-生命周期">global objects 生命周期</h3>
<p>全局变量在程序接收后才会被清理掉。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">……</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="调用new和delete的过程">调用new和delete的过程</h3>
<p>在使用new的地方需要使用delete清理内存，防止内存泄露。</p>
<p>调用new过程：</p>
<p><a href="#R-image-1bc56c67b34b8468d669d05c4407d62f" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-6.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1bc56c67b34b8468d669d05c4407d62f"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-6.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>调用delete的过程：</p>
<p><a href="#R-image-15e54735ddd42991d1dd9317fc54de20" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-7.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-15e54735ddd42991d1dd9317fc54de20"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-7.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5629b2e6cdf4b98cc184c38a9fff9c55" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5629b2e6cdf4b98cc184c38a9fff9c55"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>代码 分配内存大小左图是调试模式下的内存分配，右图是非调试模式下分配的内存</p>
<p><a href="#R-image-686f0285a2eec9bb0006a58a7c3fa7a3" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-686f0285a2eec9bb0006a58a7c3fa7a3"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>new与delete的搭配，在删除数组时需要加上[]否则编译器不知道你要删的是数组：</p>
<p><a href="#R-image-617439a6612671af58c0fd56cd22c66e" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-10.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-617439a6612671af58c0fd56cd22c66e"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-10.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="new和delete的补充">new和delete的补充</h2>
<p>对new和delete的重载，用于设计内存管理，如内存池等操作。</p>
<h3 id="重载newdelete">重载::new,::delete</h3>
<p>重载的函数中，new操作会接收一个大小，该大小由编译器传入，而delete传入的是一个指针，如下图；
<a href="#R-image-71302b84e2816ec96c96a6afb44d2967" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-71302b84e2816ec96c96a6afb44d2967"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>如果不想使用类中的new和delete，可以在二者之前加上:,如::new,::delete，这样在调用函数时就不会调用类设计中的new和delete重载，而是全局的。</p>
<h3 id="类中重载的new和delete">类中重载的new和delete</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">//类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">F</span>{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> operate <span style="color:#66d9ef">new</span>(size_t);<span style="color:#75715e">//1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> operate <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>,size_t);<span style="color:#75715e">//2,size_t可不写
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码段1的内部操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> mem <span style="color:#f92672">=</span> operate <span style="color:#66d9ef">new</span>(size_t);
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span>F<span style="color:#f92672">*&gt;</span>(mem);<span style="color:#75715e">//类型转换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">-&gt;</span>F<span style="color:#f92672">::</span>F();<span style="color:#75715e">//构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码段2的内部操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">-&gt;~</span>F();
</span></span><span style="display:flex;"><span>operate <span style="color:#a6e22e">delete</span>(p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// main函数调用示例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    F<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> F();
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> p;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h3 id="类中重载的new和delete-1">类中重载的new[]和delete[]</h3>
<p>代码整体流程与上一个情况类似，区别在于new[]是申请数组内存，在销毁的时候如果不使用delete[]释放内存，delete只会执行一次，导致内存没有完全释放，详细代码如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">//类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">F</span>{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> operate <span style="color:#66d9ef">new</span>(size_t);<span style="color:#75715e">//1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> operate <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>,size_t);<span style="color:#75715e">//2,size_t可不写
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码段1的内部操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> mem <span style="color:#f92672">=</span> operate <span style="color:#66d9ef">new</span>(size_t<span style="color:#f92672">*</span>N <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>);<span style="color:#75715e">//指针占4个字节
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p <span style="color:#f92672">=</span> <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span>F<span style="color:#f92672">*&gt;</span>(mem);<span style="color:#75715e">//类型转换
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">-&gt;</span>F<span style="color:#f92672">::</span>F();<span style="color:#75715e">//构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码段2的内部操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">-&gt;~</span>F();<span style="color:#75715e">//析构函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>operate <span style="color:#a6e22e">delete</span>(p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// main函数调用示例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    F<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> F[N];
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span>[] p;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="newdelete使用示例">new,delete使用示例</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> _id;<span style="color:#75715e">//4个字节
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">long</span> _data;<span style="color:#75715e">//4个字节
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string _str;<span style="color:#75715e">//40个字节
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Foo() <span style="color:#f92672">:</span>_id(<span style="color:#ae81ff">0</span>)       { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;default ctor.this = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;id: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> _id <span style="color:#f92672">&lt;&lt;</span> endl; };
</span></span><span style="display:flex;"><span>    Foo(<span style="color:#66d9ef">int</span> i) <span style="color:#f92672">:</span>_id(i)  { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;ctor.this = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;id: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> _id <span style="color:#f92672">&lt;&lt;</span> endl; };
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Foo()              { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;dtor.this = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;id: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> _id <span style="color:#f92672">&lt;&lt;</span> endl; };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> <span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">new</span>(size_t size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">new</span>[](size_t size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">delete</span>[](<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">new</span>(size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Foo<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (Foo<span style="color:#f92672">*</span>)malloc(size);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;new size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;delete size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    free(p);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">new</span>[](size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Foo<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (Foo<span style="color:#f92672">*</span>)malloc(size);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;new[] size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">delete</span>[](<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;delete[] size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    free(p);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>运行结果如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>new size <span style="color:#f92672">=</span> <span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span> ctor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC67A460id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dtor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC67A460id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>delete size <span style="color:#f92672">=</span> <span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span>_____________________________________________
</span></span><span style="display:flex;"><span>new[] size <span style="color:#f92672">=</span> <span style="color:#ae81ff">104</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span> ctor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673438id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span> ctor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673468id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dtor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673468id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dtor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673438id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>delete[] size <span style="color:#f92672">=</span> <span style="color:#ae81ff">104</span></span></span></code></pre></div><h3 id="为什么new操作会多出8个字节呢">为什么new[]操作会多出8个字节呢？</h3>
<p>我看课程视频，老师说new[]分配的内存块会在最前面存储计数量，占用4个字节，表示数组大小，但是我在电脑上运行会多出8个字节，查阅资料可能与系统、对齐方式、编译器等有关。</p>
<p><a href="#R-image-5f953134e1edb040eebd305050edfccf" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-17.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5f953134e1edb040eebd305050edfccf"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-17.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="对new的分配额外内存">对new的分配额外内存</h2>
<p>假设分配内存的同时需要额外分配一定的内存，可以参考下面的代码：
<a href="#R-image-dd180fc9cb2313dd12362dcc7f3ecdc5" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-18.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dd180fc9cb2313dd12362dcc7f3ecdc5"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-18.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="小结-1">小结</h2>
<p>对于包含有指针的类，在必要时写上拷贝构造、拷贝赋值、析构函数，如下代码</p>
<div class="tab-panel" data-tab-group="f3a766465420b8e3a91024f198eb19b6">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="class-stringfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('f3a766465420b8e3a91024f198eb19b6','class-stringfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> class String</span>
    </button>
    <button
      data-tab-item="destructorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;"
      onclick="switchTab('f3a766465420b8e3a91024f198eb19b6','destructorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Destructor</span>
    </button>
    <button
      data-tab-item="constructorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;"
      onclick="switchTab('f3a766465420b8e3a91024f198eb19b6','constructorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Constructor</span>
    </button>
    <button
      data-tab-item="copy-constructorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: origin;"
      onclick="switchTab('f3a766465420b8e3a91024f198eb19b6','copy-constructorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Copy Constructor</span>
    </button>
    <button
      data-tab-item="copy-assignment-operatorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;"
      onclick="switchTab('f3a766465420b8e3a91024f198eb19b6','copy-assignment-operatorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Copy Assignment Operator</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="class-stringfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> m_data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        String(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cstr <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>);           <span style="color:#75715e">//构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        String(<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> str);              <span style="color:#75715e">//拷贝构造函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        String<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span> (<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> str);  <span style="color:#75715e">//拷贝赋值函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">~</span>String();                              <span style="color:#75715e">//析构函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> <span style="color:#a6e22e">get_c_str</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> m_data;}
</span></span><span style="display:flex;"><span>    };</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="destructorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    String<span style="color:#f92672">::~</span>String()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">delete</span>[] m_data;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="constructorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span> 
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">::</span>String(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cstr <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (cstr)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(cstr)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            strcpy(m_data, cstr);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>            m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            strcpy(m_data,<span style="color:#e6db74">&#39;\0&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="copy-constructorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: origin;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span>
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">::</span>String(<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> cstr){
</span></span><span style="display:flex;"><span>        m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(cstr.m_data) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>        strcpy(m_data, cstr);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="copy-assignment-operatorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span> 
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">&amp;</span> String<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span>(<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> str)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span> <span style="color:#f92672">==</span> <span style="color:#f92672">&amp;</span>str)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">delete</span>[] m_data;
</span></span><span style="display:flex;"><span>        m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(str.m_data) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>        strcpy(m_data, str);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="补充内容static">补充内容static</h2>
<p><a href="#R-image-d6813247bb2da53dfe9c7d150ea9dfc4" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/053bb0f3f18235ed9a9ba76e717a1673.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d6813247bb2da53dfe9c7d150ea9dfc4"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/053bb0f3f18235ed9a9ba76e717a1673.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="static在private中的使用例子">static在private中的使用例子</h3>
<p><a href="#R-image-5325ee7580589f61471369b8fb0fc2f2" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5325ee7580589f61471369b8fb0fc2f2"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-232680177b0381051aaa8d4564e166b8" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-232680177b0381051aaa8d4564e166b8"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="class-template">class template</h3>
<p><a href="#R-image-92ef2552d8f266bd18064a379b7eb49a" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-13.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-92ef2552d8f266bd18064a379b7eb49a"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-13.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="function-template">function template</h3>
<h3 id="member-template-成员模板">member template 成员模板</h3>
<p>类模板中，还有类模板，通常是对构造函数的操作，如下图：
<a href="#R-image-c7e4fbc6d730a21621b5b01a91b2980a" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c7e4fbc6d730a21621b5b01a91b2980a"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>如下图代码
<a href="#R-image-d1355bd6f220f9ce76994346681bc9ad" class="lightbox-link"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-15.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d1355bd6f220f9ce76994346681bc9ad"><img src="./branch-bundle-1/18.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-15.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>用意就是当一个指针指向父类时，初始化让他指向子类，那么此时需要实现上图类中的代码。</p>
<h3 id="namespace命令空间">namespace（命令空间）</h3>
<p>使用示例：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">……</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>使用方法：</p>
<div class="tab-panel" data-tab-group="5b8e5e3e88c172209d8fe5222fbbb2e4">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="using-directionfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('5b8e5e3e88c172209d8fe5222fbbb2e4','using-directionfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> using direction</span>
    </button>
    <button
      data-tab-item="using-declarationfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;"
      onclick="switchTab('5b8e5e3e88c172209d8fe5222fbbb2e4','using-declarationfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> using declaration</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="using-directionfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">……</span>;
</span></span><span style="display:flex;"><span>        cin<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">……</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="using-declarationfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;">
      <div class="tab-content-text">
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">using</span> std<span style="color:#f92672">::</span>cout;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">……</span>;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cin<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">……</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>或者</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">……</span>;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cin<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">……</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
  </div>
</div>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-编程语言</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          </section>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="二小--说">二、小  说</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./textbook/8.%E6%A1%91%E5%8F%B6%E7%99%BD%E9%B8%9F%E5%8D%B7/">8.桑叶白鸟卷</a><p>在宋朝末年的一个春日午后，阳光透过雕花窗棂，洒在了御书房的青石地板上。太傅李大人正站在书架旁，耐心地教导着最受宠爱的柒公主学习《论语》。公主</p></li>
<li><a href="./textbook/%E8%81%8C%E5%9C%BA%E7%9F%AD%E7%AF%87/">职场短篇</a><p>在昏暗的办公室里，落长轻轻地推开门，他的脚步轻盈得几乎不发出任何声响。他的目光在办公室内扫视了一圈，最终落在了我身上。我依然坐在电脑前，手指</p></li>
<li><a href="./textbook/%E7%99%BD%E5%94%90%E6%97%B6%E9%97%B4%E5%BD%95/">白唐时间录</a><p>序章 在这个看似平凡的现代世界中，时间的秘密潜藏于暗处，由几个古老家族和秘密组织共同守护。几世纪以来，他们不断研究揭示时间的奥秘，但也深知滥用</p></li>
<li><a href="./textbook/7.%E8%87%B4%E8%87%AA%E7%A6%8F%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/">7.致自福的一封信</a><p>一 我的朋友你好啊，我已经太久没有写信给你了，兴许是最近看了些书，唤醒了自己写信的欲望，你知道吗？我已经毕业了，从一个大学生一瞬间变成一个步入</p></li>
<li><a href="./textbook/6.%E5%88%98%E4%B8%B0%E4%B8%89%E9%83%8E/">刘丰三郎</a><p>高考在即，在收到学校放假的通知后，我于第二日乘班车回了家。 在隔壁县读书的我，每次回家都要乘上4-5小时的班车，回家的路上能见到一片又一片的砂</p></li>
<li><a href="./textbook/5.%E7%99%BD%E9%AA%A8%E5%A4%AB%E5%A6%87/">草屋夫妇</a><p>第一章 胡冲村被一条蜿蜒曲折的河流环抱着，河水悠悠向东流去，在不远处与几条支流汇聚，形成了一个被称为三岔口的地方。从三岔口向西，沿着泥泞的小路</p></li>
<li><a href="./textbook/4.%E5%90%9B%E7%BB%98%E8%AF%AD/">君绘语</a><p>第一章 与君初相识 高中那会儿我老失眠，原因一言难尽。 记得有一次我去吃饭，遇到张君，我们聊闲聊中，谈到了我失眠的事，张君听了说，他们有个朋友以睡</p></li>
<li><a href="./textbook/2.%E7%99%BD%E5%94%90%E6%88%98%E7%BB%9B/">白唐战绛</a><p>“时间的真的存在吗？” 我很意外王妈为什么会问我这样的问题，王妈小时候家境不好，没有机会上学，她对我说过，去学校上学的次数十个手指都数得过来。</p></li>
<li><a href="./textbook/1.%E9%98%BF%E7%89%9B%E9%98%BF%E8%8A%B1/">阿牛和阿花的爱情故事</a><p>牛村与花村仅隔一片红树林，深秋里，满山的红叶铺天盖地，牛村的村尾是个好地方，常聚着城里来的人，就是离阿牛家远了些。 “嘿！ 阿牛。你要老婆不……</p></li>
<li><a href="./textbook/3.%E6%AE%8B%E6%9C%A8%E5%90%BC/">时空国度-木尸王朝</a><p>第一章 序 火车站往东，沿着才华路步行约十分钟，便能抵达衡岭财经学院。这条路王肖一年会走五六次——多半是回家或返校。每当他踏上这条熟悉的道路，心</p></li>
<li><span> </span><p>木尸王朝 1.文中的人类变成树木的原因是什么？ 与金钱绑定的一种木材，注定了她会给人类带来财富，当我可以使用金钱来奴役别人时，金钱不再是一般等价</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">二、小  说 的子部分</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="8桑叶白鸟卷">8.桑叶白鸟卷</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
在宋朝末年的一个春日午后，阳光透过雕花窗棂，洒在了御书房的青石地板上。太傅李大人正站在书架旁，耐心地教导着最受宠爱的柒公主学习《论语》。公主虽然天资聪颖，但今日却显得心不在焉，她的目光不时飘向窗外的花园，那里的蝴蝶正在花间翩翩起舞。
<p>太傅李大人轻声咳嗽，试图引起公主的注意，但柒公主却只是懒洋洋地翻了一页书，完全没有将心思放在学习上。李大人心中微微叹息，他知道这位公主自小受到皇上的宠爱，性格难免有些任性。他决定采取一些措施，于是他从桌上拿起了一根精致的戒尺。</p>
<p>“公主殿下，”李大人的声音温和而坚定，“学习之道，贵在专注。今日若不专心，恐怕难以领悟圣人之言。”</p>
<p>柒公主抬头，眼中闪过一丝不满，但还没等她反驳，戒尺已经轻轻地落在了她的手心。虽然力道不大，但足以让公主感到一丝疼痛。她惊讶地看着太傅，随即眼眶一红，泪水开始在眼眶中打转。</p>
<p>就在这时，皇上恰好路过御书房，听到了公主的哭声。他急忙推门而入，看到这一幕，眉头紧锁。皇上推开了一旁的内侍，快步走到公主身边，轻声安慰。</p>
<p>“是谁如此大胆，竟敢对朕的女儿动手？”皇上的声音中带着一丝怒气。</p>
<p>内侍们吓得纷纷跪地，太傅李大人也急忙跪下，低声说道：“陛下，臣有罪。”</p>
<p>皇上转头看向太傅，眼中闪过一丝复杂。他知道李大人是位尽职尽责的太傅，但看到女儿受委屈，心中难免有些不忍。他轻轻拍了拍公主的背，然后示意内侍将她送回寝宫。</p>
<p>待公主离开后，皇上坐在了御书房的椅子上，示意太傅起身。他的声音平静，但带着一丝不容置疑的威严：“李爱卿，你有何解释？”</p>
<p>太傅李大人站起身，他的额头上已经渗出了细密的汗珠。他知道，自己的举动可能会触怒皇上，但他坚信这是为了公主好。他深吸了一口气，然后缓缓开口：“陛下，臣此举虽有失礼之嫌，但实在是出于对公主学业的关心。”</p>
<p>皇上微微点头，他知道李大人的忠心，但他也需要考虑到皇室的颜面。他沉思了片刻，然后说道：“李爱卿，朕知道你是出于好意，但公主毕竟是皇室中人，她的身份不容有失。今后，你还是要注意方式方法。”</p>
<p>太傅李大人急忙应道：“陛下英明，臣铭记在心。”</p>
<p>皇上挥了挥手，让太傅退下。他独自一人坐在御书房中，目光落在了窗外的花园上。他知道，在这个动荡的时代，皇室的每一个成员都必须更加小心谨慎。他决定过几天再去看望柒公主，亲自教导她一些治国之道。</p>
<p>内侍们轻手轻脚地收拾着御书房，没有人敢打扰皇上的沉思。阳光渐渐西斜，御书房内弥漫着一种宁静而深沉的气氛。</p>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="职场短篇">职场短篇</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
在昏暗的办公室里，落长轻轻地推开门，他的脚步轻盈得几乎不发出任何声响。他的目光在办公室内扫视了一圈，最终落在了我身上。我依然坐在电脑前，手指在键盘上飞快地舞动，PPT的页面在屏幕上不断翻动。
<p>落长走到我的桌边，他的身影在电脑屏幕的反光中显得有些扭曲。他轻咳了一声，打破了办公室的宁静。</p>
<p>“哟，还在这儿呢？不是吧，辞职名单不是都交了吗？”他的声音带着一丝戏谑，但眼神中却透露出一丝不解。</p>
<p>我停下手中的工作，抬头看向他，然后又看了看一旁的明月学姐。学姐的目光也正从电脑屏幕上移开，投向了落长。她的眼神中带着一丝询问，似乎在等待一个解释。</p>
<p>我避开了学姐的目光，转向落长，心中的不满已经达到了顶点。昨日的一幕幕在脑海中回放，我因为只收取了我们专业的优秀生材料而被落长指责，我试图解释，但聊天群上的混乱让我错失了机会。事后，我向负责人说明了自己的行为，但似乎并没有平息这场风波。</p>
<p>这件事发生在两天前。“农商专业的同学走这边，农商专业的同学走这边……了解更多情况请关注我们公众号，谢谢！”我站在宣传海报旁，大声地引导着同学们。</p>
<p>“喂喂喂！你们哪个专业部的？”落长的声音突然打断了我的引导，他扭头看了一眼宣传海报——企划部，然后皱起了眉头。</p>
<p>“农业专业的……”一个宣传的学员生怯生生地回答。</p>
<p>“没问你这个……你们懂不懂公司规定啊！”落长不耐烦地对学员说，我在一旁也感到了疑惑，上前解释道：“你好，我是宣传的负责人，不知道我们哪里做错了？”</p>
<p>“公司有规定，现在进行的是统招，不能专业独招。”落长的语气中带着一丝命令，但似乎对我的道歉还算满意，语气稍微缓和了一些：“请下次注意。”</p>
<p>他叫来了相关工作者，指着我们的宣传海报：“把这个撤了吧！别放这儿了。”</p>
<p>我一听要撤掉，心里一紧，这意味着我一晚上剪辑的视频和两三天的工作计划都将付诸东流。我连忙上前，想要阻止，这时专业部秘书的电话打了进来。</p>
<p>“你好，这是农商招聘站，请问……”</p>
<p>“我是妮南秘书，”她打断了我的话，“王小贵，你看群没？”</p>
<p>我一直在忙，怎么可能有时间看群，我回答没看后，快速点开群浏览了一遍，“慕容主任”三个大字差点让我喘不过气来，我简单看了会儿。</p>
<p>慕容主任：谁给我捅娄子了，这种低级错误都犯？</p>
<p>副主任：@暮主任 怎么了主任？</p>
<p>接着主任的一张图映入我的双眼，真是一看不知道，一看吓一跳，公司上边误认为我们搞“独立”了！看来问题变得有些不乐观，不想痛心割爱也不行了，我急忙协助工作人员整理了站点，午餐后，群里还没停止讨论，于是我打算先和专业部门的说明情况，再向公司解释。</p>
<p>一切处理好后已是下午，临近下班，我从椅子上站起，“小贵，”江姐——我们专业部的老前辈——叫住了我，“来趟办公室。”</p>
<p>我喝了半杯水，心神不定地走进办公室，正坐着的是副主任，右边是秘书和江姐。我往左侧走坐下。</p>
<p>“大家下午好，我们开个小会……你们应该都清楚。”副主任说道。</p>
<p>“小贵啊！下次注意点，这种小事做就算了，还让公司上边的人查到了。”江姐苦笑道。</p>
<p>秘书欲言又止，但最终还是说了几句：“小贵，也不是针对你，但来公司都三年了，这种错误下次注意些，视频还不错啦，上边也有认可的，但是……特别是你的宣传——搞得……”</p>
<p>“你也是为公司好，我们知道，但下次行事要多想。”副主任打断，平和地说道。</p>
<p>“我知道了，给你们添麻烦真是抱歉，下次……额额不，没下次了，”我低着头，认识到这次可能真的搞砸了，“副主任，江姐这次可能有什么误会，我也会好好向公司上面说明情况的。”</p>
<p>“小贵啊！这件事呢……就到此为止，你也别放你身上，好了你先回去，我和你江姐她们还有事要谈。”</p>
<p>我有说不上来的憋屈，但又不知道怎么才能一语中的。</p>
<p>“唉！怎么还有人犯这种错……”秘书瘫坐在椅子上。</p>
<p>“确实，公司也是第一次听说这样的事，差点被别的专业部认为我们开‘小灶’呢，”江姐顿了会儿，又说，“这次的指导工作真是不尽如意啊……”</p>
<p>“行啦行啦，”副主任盯着文件说道，“把去年的工作议程发给余，就要是副主任了，该让他熟悉熟悉。”</p>
<p>公司里有规定，每隔三年的专业毕业生招聘工作，要先对所有专业生进行统招，最后再进行特招，但这项规定，我并未在任何会议上听到负责人提及，所以当到我们招专业生那一天，我只安排部门的人做了我们专业生的招聘标语，以及只安排了相关的招聘接待所，而对于别的专业生，我想也会有相关的人负责吧！</p>
<p>晚上，我拖着疲惫的身躯，懒散地瘫坐在睡椅上，像极了晚年的老奶奶，又似将逝的人享受着人生最后一缕阳光。但我无法平静，我深切地体会到自己的工作被否定的难受，无论今天所做的事是否对，是否错，我都无法从心底里接受。我决心做什么转移注意力，我听同事说在市西区的西河桥有“服务”的姑娘们，甚是泼辣，我摸了摸口袋——500元！想想这个月的工资已打回家，自己只留了点做生活费，要度过这个月这点生活费可还能撑到月底？我想了想决定还是算了，我伸了个懒腰，起身往冰箱走去，想喝点酒消消愁，不想对酒而言，冰箱空空如也，我当场“寄了”。</p>
<p>想想这个月都在公司吃，酒什么的家里也很少买呢！今天因为这事，一是有些不好意思，二是心情实在糟糕透了。我提衣下了楼，妮南在工作群发了消息：请大家在下个五中午下班前提交月季工作总结，并制做PPT一并提交。</p>
<p>我长叹一口气，热气在胸前回流，让我内心不由地想抓狂。我关掉了手机往超市走去，灯火通明的夜色充斥着一片死亡的气息，黑魆魆的楼房遮住了明月，唯独遮不住它的光亮。</p>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="白唐时间录">白唐时间录</h1>

<h2 id="序章">序章</h2>
<p>在这个看似平凡的现代世界中，时间的秘密潜藏于暗处，由几个古老家族和秘密组织共同守护。几世纪以来，他们不断研究揭示时间的奥秘，但也深知滥用这种力量将导致无法挽回的后果。在表面平静的生活背后，却隐藏着无数阴谋与斗争。</p>
<p>科技水平与现实相似，但掌握超越时代技术的人群各怀鬼胎。这些家族和组织之间既有合作也有竞争，他们在暗中争夺对时间之力的控制权。普通人对此一无所知，继续过着他们的日常生活，而那些被选中的人则在命运的牵引下逐渐觉醒。</p>
<p>在一所普通的高中里，一群学生正在经历着青春期的烦恼与梦想。他们彼此之间的关系复杂而微妙，但没有人意识到，他们即将踏上一场改变世界的旅程。</p>
<p>白唐瑶是一位聪明而内向的女孩，她一直对自己的家族历史感到好奇。她的外祖母临终前曾留下一本日记，里面记载了一些奇怪的符号和文字。尽管当时年幼的她并不理解其中的意义，但这本日记却像一颗种子，在她心中悄悄生根发芽。</p>
<p>与此同时，李浩然是一个充满活力的体育健将，他的家族世代从事科学研究，但他本人却对科学不感兴趣，更喜欢运动和冒险。然而，一次偶然的机会让他接触到了家族的秘密实验室，并发现了关于时间旅行的研究资料。这让他开始重新审视自己的生活和未来。</p>
<p>还有苏晴，一个外表冷漠、内心炽热的女孩。她的家族是其中一个古老的时间守护者之一，但她一直抗拒继承这份责任。直到有一天，她在图书馆的一次意外中发现了一份古老的文献，上面记载了一个名为“时光之钥”的神器。这个发现让她不得不面对自己逃避已久的宿命。</p>
<p>随着一系列巧合的发生，白唐瑶、李浩然和苏晴逐渐发现彼此之间不仅仅是校园中的同学，而是被命运牵引走上了解开这一切谜团的重要旅程。他们开始面对来自家族、组织以及自身内心深处的问题，善恶交织，终究谁能洞悉真正的时间意义？</p>
<p>在这场充满未知与危险的旅途中，他们不仅要对抗外部的敌人，还要克服内心的恐惧与疑惑。每个人都在探索自己对时间秘密的认知，试图揭开隐藏在时间背后的真相。而真正的挑战才刚刚开始……</p>
<p>第一章</p>
<p>午后温暖的阳光透过窗户，洒在白唐瑶的小房间里。空气中弥漫着淡淡的灰尘味，仿佛时间在这里停滞了片刻。她坐在地板上，周围堆满了外祖母留下的各种旧物——褪色的照片、泛黄的信件、还有那些年代久远的装饰品。每一件物品都承载着家族的记忆，而白唐瑶正小心翼翼地整理着这些珍贵的遗物。</p>
<p>她的手指轻轻拂过一张张照片，思绪也随之飘回了童年。那时，外祖母总是坐在摇椅上，给她讲述家族的故事，那些故事中充满了神秘与传奇。然而，随着外祖母的离世，这些故事也逐渐淡出了她的记忆。</p>
<p>突然，一个不起眼的木盒引起了她的注意。盒子表面覆盖着一层薄薄的灰尘，但依稀可以看到精美的雕花图案。白唐瑶心中涌起一种莫名的激动，她轻轻地打开盒子，里面躺着一块古老的手表和一本泛黄的日记。</p>
<p>手表的表面已经有些磨损，指针静静地停在某个时刻，仿佛时间在这里凝固了。白唐瑶拿起手表，感受到一股微妙的震动，仿佛有什么力量正在苏醒。她的心跳不由得加快了几分。</p>
<p>接着，她翻开那本泛黄的日记。纸页因岁月的侵蚀而变得脆弱，但字迹依然清晰可辨。日记中记载了家族成员曾经进行的一项关于时间的实验，以及实验带来的灾难性后果。每一页都记录着他们对时间奥秘的探索，以及由此引发的一系列事件。</p>
<p>“1920年3月14日，我们终于完成了时间机器的初步设计。这是一次前所未有的尝试，我们都怀着激动与不安的心情……”</p>
<p>“1921年6月5日，实验失败了。时间发生了扭曲，一些人永远消失了。我们意识到，这项技术的力量远远超出了我们的控制……”</p>
<p>“1925年12月28日，我们必须停止一切研究，并将所有资料封存。这块手表是唯一幸存的实验成果，它拥有某种不可思议的力量……”</p>
<p>白唐瑶读完这些文字，心中的震撼难以言表。这块手表不仅是一件珍贵的传家宝，似乎还隐藏着不可思议的力量。她对手表的起源和能力产生了浓厚的兴趣，决定揭开这个秘密。</p>
<p>就在这时，手表的指针突然开始缓缓转动，发出细微的咔嚓声。白唐瑶惊讶地看着这一幕，仿佛时间在这一刻重新流动起来。她知道，自己的命运即将发生改变。</p>
<p>她深吸一口气，坚定地合上了日记。从今天起，她将踏上一条充满未知与危险的道路，去探寻那个被尘封的时间之谜。而这只是一个开始……</p>
<p>白唐瑶合上日记，心中充满了复杂的情绪。她感到既兴奋又不安，仿佛有一股无形的力量在牵引着她。她再次拿起那块古老的手表，仔细端详起来。手表的表面刻着一些奇怪的符号，这些符号似乎不属于任何已知的文字系统。她轻轻转动表冠，指针开始缓慢而有节奏地移动。</p>
<p>突然，房间里的光线似乎变得有些诡异，空气中弥漫起一种淡淡的香气，像是某种古老的香料。白唐瑶感到一阵眩晕，眼前的景象也开始模糊起来。她急忙闭上眼睛，深呼吸几下，试图稳住自己的心神。</p>
<p>当她再次睁开眼时，房间已经恢复了正常。手表的指针也停了下来，一切仿佛都没有发生过。白唐瑶摇了摇头，心想可能是自己太紧张了。她决定先将这块手表和日记收好，再慢慢研究。</p>
<p>她站起身来，把木盒放在书桌上，然后继续整理外祖母的遗物。然而，心中的疑惑却挥之不去。那些关于时间实验的记载究竟是真的吗？这块手表到底隐藏着什么秘密？</p>
<p>就在这时，她的手机响了起来。是闺蜜洛翠翠打来的电话。</p>
<p>“唐瑶，你在家吗？”洛翠翠的声音听起来有些急切。</p>
<p>“我在家呢，怎么了？”白唐瑶问道。</p>
<p>“我刚刚在网上看到一个新闻，说是一些古董收藏家发现了一批非常珍贵的文物，其中有一些跟时间相关的神秘物品。我觉得这可能跟你外祖母留下的东西有关，你赶紧上网看看吧。”</p>
<p>白唐瑶的心跳不由得加快了几分。她迅速打开电脑，找到了洛翠翠所说的新闻。新闻中提到的文物确实与她手中的手表有些相似之处，尤其是那些奇怪的符号。报道还提到了一些关于时间旅行的传说，这让白唐瑶更加确信，外祖母留下的这块手表绝非寻常之物。</p>
<p>她关掉网页，陷入了沉思。如果这一切都是真的，那么这块手表可能会带来无法预料的后果。她需要找到更多的线索，揭开这个谜团。</p>
<p>第二天，白唐瑶来到了图书馆，希望能找到更多关于时间实验和家族历史的资料。她在档案室里翻阅了大量的书籍和文献，终于在一个不起眼的角落里发现了一本尘封已久的家族史记。</p>
<p>这本书详细记录了家族成员进行时间实验的过程，以及他们所经历的种种困难和挑战。书中还提到了一块被称为“时光之钥”的古老手表，据说它能够开启通往不同时空的大门。白唐瑶意识到，她手中的这块手表很可能就是那块传说中的“时光之钥”。</p>
<p>她继续深入研究，发现了一些关键的信息。原来，外祖母曾经是一位杰出的时间学家，她在年轻时参与了那次时间实验，并且是唯一幸存下来的人。为了防止这项技术落入错误的手中，她一直保守着这个秘密，直到临终前才留下了这些线索。</p>
<p>白唐瑶心中涌起一股责任感。她决定继承外祖母的遗志，揭开这个时间之谜，确保这项技术不会被滥用。她知道，这条路将会充满未知和危险，但她已经做好了准备。</p>
<p>回到家后，白唐瑶再次拿出那块手表，轻轻抚摸着它的表面。她闭上眼睛，默默许下一个愿望：“外祖母，我会完成你的使命，保护好这块‘时光之钥’，不让它落入坏人之手。”</p>
<p>随着夜幕降临，白唐瑶躺在床上，脑海中不断回想着今天的一切。她知道，从明天开始，她将踏上一段前所未有的旅程，去探寻那个被尘封的时间之谜。而这只是一个开始……</p>
<h2 id="第二章">第二章</h2>
<p>几天后，白唐瑶决定去找好友敦庞庞商量一下下一步的计划。敦庞庞性格乐观，总是能带来正能量，她相信敦庞庞能给她提供一些有用的建议。</p>
<p>白唐瑶来到敦庞庞的工作室，发现她正在忙碌地处理一些文件。敦庞庞看到她进来，立刻放下手中的工作，热情地招呼道：“唐瑶，你怎么来了？有什么事吗？”</p>
<p>白唐瑶简单地讲述了外祖母留下的手表和她在外祖母的日记中发现的秘密。敦庞庞听得目瞪口呆，不敢相信这是真的。</p>
<p>“哇，这简直像是一部科幻小说！”敦庞庞惊叹道，“不过，这真的很危险。你打算怎么做？”</p>
<p>“我想先找找有没有其他线索，然后再决定下一步。”白唐瑶说道。</p>
<p>敦庞庞点点头，提议道：“你可以先去问问你父亲，他可能知道一些家族的历史。还有，你可以找找你堂叔白正中，他事业成功，也许能给你一些帮助。”</p>
<p>白唐瑶觉得敦庞庞的建议很有道理，决定按照她的建议去做。离开敦庞庞的工作室后，她先去了父亲白正恩的办公室。</p>
<p>白正恩看到女儿走进来，显得有些惊讶。他放下手中的文件，严肃地看着她：“唐瑶，有什么事吗？”</p>
<p>白唐瑶深吸一口气，将外祖母留下的手表和日记的事情告诉了父亲。白正恩听后，眉头紧锁，沉默了一会儿，然后缓缓开口：“这件事确实很复杂。你外祖母生前确实进行过一些非常规的研究，但具体的细节我也不清楚。不过，我可以帮你联系你堂叔白正中，他或许知道一些情况。”</p>
<p>白唐瑶感激地点点头，离开了父亲的办公室。接下来，她拨通了堂叔白正中的电话。</p>
<p>白正中听到白唐瑶的请求后，同意见她一面。两人约在一家咖啡馆见面。白正中是个事业有成的中年男子，他看着白唐瑶，认真地说道：“唐瑶，你外祖母的事情我知道一些，但具体的细节我也不是很清楚。不过，我可以帮你联系一些相关的人士，看看能不能找到更多线索。”</p>
<p>白唐瑶感谢了堂叔的帮助，心中感到一丝安慰。她知道，有了父亲和堂叔的支持，她离揭开真相又近了一步。</p>
<p>就在她准备离开咖啡馆的时候，她无意间看到了一个熟悉的身影——莫长逍。他坐在不远处的一张桌子旁，正低头看书。白唐瑶心中一动，走上前去打招呼。</p>
<p>“长逍，好久不见！”白唐瑶微笑着说道。</p>
<p>莫长逍抬起头，看到是白唐瑶，脸上露出一丝微笑：“唐瑶，你怎么在这里？”</p>
<p>“我来找堂叔商量点事情。”白唐瑶解释道，“你呢？”</p>
<p>“我在准备期末考试。”莫长逍回答道，“最近学习压力挺大的。”</p>
<p>白唐瑶点了点头，关切地问道：“需要帮忙吗？”</p>
<p>莫长逍笑了笑，摇摇头：“不用了，我自己可以应付。倒是你，看你神色凝重，是不是遇到什么麻烦了？”</p>
<p>白唐瑶犹豫了一下，还是决定告诉他一部分实情：“其实，我外祖母留下了一些东西，我正在调查一些事情。有点复杂，但我会解决的。”</p>
<p>莫长逍看着她，眼中闪过一丝关切：“如果有需要，随时告诉我。我能帮得上的一定会尽力。”</p>
<p>白唐瑶感动地点点头，心中感到温暖。她知道，莫长逍虽然平时高冷，但在关键时刻总能给予她支持。</p>
<p>两人聊了一会儿，白唐瑶告辞离去。她走在回家的路上，心情轻松了许多。有了朋友和家人的支持，她相信自己一定能解开这个时间之谜。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E4%B9%A6%E4%BF%A1/">书信</a></li>
  </ul>
</div>
            </header>
<h1 id="7致自福的一封信">7.致自福的一封信</h1>

<h4>一</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
<p>我的朋友你好啊，我已经太久没有写信给你了，兴许是最近看了些书，唤醒了自己写信的欲望，你知道吗？我已经毕业了，从一个大学生一瞬间变成一个步入社会的青年小伙子，我幻想着未来自己从事自己专业的工作，但我想这一定会事与愿违，我很清楚自己的实力，就像你很了解我一样，过了那我么久我不知道你是否还能像之前一样了解我，你给我写的信我几乎都看了，但是我没有认真的给予回复，对此我很感抱歉。</p>
<p>兴许你已经发现我变了样，自从我进入大学后就没再与我联系，时隔四年之久，我有很多经历想要告诉你，与你倾诉，听听你的意见，但我觉得这一切都是我的幻想，我不知道你能不能收到这封信件，可我打心底希望你能收到，并给我回信。</p>
<p>我的故事还是先从以为朋友说起吧，他是我的室友，我们是在入学那天在宿舍认识的，他与你样家乡都在白岭坡，我很高兴在这个人的身上看到你的影子，但也仅此而已，我记得那天我刚到宿舍自己忘记带了钥匙，他与以为那要是的舍友一同给我开了门，当时我还询问是不是昨晚加QQ好友的同学，因为在来之前我已开始在班级群里寻找家乡一带的人，很可惜没有一个人与我是胡冲的，但情况不算糟糕，我加了白岭坡的同学，人世间有些事就是很奇妙，白岭坡的同学与我们竟师出同门，这真的让我很意外，同时那种孤单的感觉也渐渐消散，有时候某些事将我们的注意力勾走后，我们就会忘记自己以前担心的，在意的东西，或把刚刚的人或事短暂的忘却，我觉得这又何尝不是一件好事呢。</p>
<p>我把东西放宿舍后，他们就离开了，宿舍很宽敞，左右各有三个床位，都是上床下桌，我选了左手边最里面的，你知道的我幻想着可以看星星，看月亮，就像在高中那会自己那样，但直到现在我也从来没有从床头往外看那皓月满星，我知道我自己丢掉了一些东西。</p>
<p>有关白岭坡的同学我很想和你聊聊，兴许你会感兴趣，我曾有许多事拜托他，他都毫无怨言的完成，而且有时候让我很不好意思再次请求他帮忙，这个原因不是他开始抱怨了，也不是他做的不好，反而是太好让我有点不适，自从发现自己有这样的想法后我再也没有请求他帮忙了，有时候觉得这样的人过于完美，但人无完人，我有时候想把他的缺点一一罗列，好让我看看他这个完整的人，但是大一大二一直没有机会，原因是在大二入学不久他和宿舍的另一位同学闹掰了，后面事态发展得很严重，他搬到了别的宿舍，后来听说他在那个新宿舍过得很好，但我总能听到关于他的事迹，以至于我想把这一切告诉你，我想把这一切关于他的事来告诉你，因为我发现欠缺某样法宝的人是无法在大学生活中完成猝炼的。</p>
<p>大一那年，他是个忙活的人了，白天回宿舍几乎看不到他的踪影，晚上也不怎么见人，不过那时候晚间的习课还是挺多的，有一次我问他，平时都去干嘛了？他遮遮掩掩没有几句话，我知道他似乎不想说，后来我也没再问，再次被问起时另一位舍友说的，那时候的回答就清晰了许多，他周末要留在社团值班，平时他要忙学生会的事物，周三还要去打扫图书馆，合着他加入了那么多社团，我也很疑惑为什么要把自己置于忙碌之中呢？平时学习其实不见得能抽出空闲，大学的课业虽不比高中那般，但也并不少，要想把专业的知识筑牢其实要花很多时间。那后的一天我问他为什么要参加那么多社团，他说算是给自己圆梦，那会他正在看日本的校园番剧，具体是什么我不知道，但是我很清楚日本的校园番多少回提到社团，其实我们高中那会也有，能念出名字的只有学生会，相比日本的高中社团那确实少了，但这其中的原因我想你是知道的，我有时候想他是不是被这样的东西给影响了呢？但这也是纯纯的个人想法。</p>
<p>到第二年他转出后就没再见到他忙前忙后了，有一次我去宿舍串门恰巧遇到他，看他正准备科目二的考试，便和她谈论了起来，我们调侃着科目二失败的种种，全然被这种失败后的调侃和找到彼此的共同点而感到满足，而忘记了败考后的种种失落，起初觉得这是一种有效的缓解痛苦的方式，但是后来=看着一个个拿到驾照的同学我才知道，这简直是一种不堪的逃避方式。有一次在食堂吃午饭，我的舍友又和他谈起了这件事，他两侧额头翻红，略带虚汗留下，他时不时擦拭自己的额头，盯着碗里的饭菜，回答了舍友的问题，他的回答充满着应付，似乎这样的话术是为这样的提问而准备的，我很疑惑他为什么放不下又没有勇气去尝试，这在小说中算是一种悲剧性的人物了。有一次我替学习委员收作业的时候发现作业少了基本，便在群里发消息叫没交的自己补上来，等我再次去检查时，发现还是少了一本，没有办法我只好当场询问是谁没交，没想到是他，当时我很惊讶，应为他的身份以及他的为人，在我看来不应该犯这样的小错，或许你觉得我这想法太偏激了，但我不这么认为，一件很小的事足以看出一个人办事能力。在后来与学习委员交谈中，我更肯定了这一点，学委说，有一次也是交作业，大家都交了，就他没交，当时写作业已经送去老师办公室的路上了，他才联系我，我说那我在宿舍楼门前等你……其实这样的事也不止这一两次。</p>
<p>我想我写得够长的了，最后想以一段话结束这次写信，刚才说的同学，少了许多基本的东西，我不知道他为什么会缺失，但我可以肯定这样的东西完全可以规避，甚至养成避免这样事发生的习惯，但是他没有这么选择，在原来的道路上越走越远，我不知道他为什么坚信自己那样的做法是正确的，不知道为什么他明知故犯，在准备毕业设计的时候，班级的同学大多都已经完成了自己的毕业设计，无论是以什么样的方法完成，我都清楚的知道有些事情只看“完成”，就像学委收作业一样，只看你交还是没交，并不关心你写得怎么样，那是你自己和老师要关心的问题。那些天我时常去宿舍看看大家的都做的怎么样，也顺便交流彼此心得，每次都能看到他在为自己的毕设忙，但他们宿舍的朋友也有告诉过我，他有时候也是忙里偷闲，熬夜倒一两点也不为毕设论文动笔——那他在忙什么呢？或许这个答案只有他自己知道。他平时作息也不规律，但他们的舍友也没说他什么，我有时候也很惊诧——为什么？直到最近我们推荐了份工作，希望他也能参加，于是我们一同去面试，再回来的时候，一起去吃饭，我问他驾照考得怎么样了，他回答说，没考呢！我也不打算考了，安心找工作，后面走一步再看一步吧！他这次既没有两侧额头泛红，也没有吞吞吐吐，藏着掖着。</p>
<p>我知道他还是当初认识的他，他被别人牵着往前走，这样的生活已经磨平了本该寻得法宝的他。这一切怪不得谁，他也坦然接受了这一切，</p>
</div>
</div>
<h4>二</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
<p>自福你好啊！</p>
<p>今日的风儿不知怎的突然主持了一场盛会，校舍山上的榕树、柏松、榆树，山下的金菊、夜来香、玫瑰，还有那满山的绿草……它们无不为歌而舞，那一声声“呜呜呜”，兴许那就是风儿歌声了吧！安静的走廊里食品袋不知怎的被风儿捧在手心，又突然高高地抛到高空，似乎在为获胜欢庆；还有树儿们，它们似乎很久没有这么疯狂了，在参加前还不忘安顿了年迈的树叶，你会看到一片片枯叶飘落；还有满山的花草，随着歌声旋律左右摇摆，它们无不为这场盛会狂欢。</p>
<p>我想自第一封后，我还会频频给你写信，今天依旧没有收到你的来信，说真的我有些担心你，我曾询问信使，他说他按照我给的地址送信了。我想我还需要进一步确认你的地址，昨天我询问故友打探你的消息，故友说，你已经离开了白岭坡去了很远的地方，与你最后一次见面是在四年前，四年来故友也没有你的消息，我想我可已询问你的亲友，于是今天早上与你的二妹取得了联系，至此终于是知道了你的具体地址，于是我第一时间把第一封信捎给了你。</p>
<p>今天我想和你说说昨天遇到的一件事，昨天我收到了新工作人事部负责人的消息，他告诉我在国庆结束后的第二天报道，所以最近都在为此做准备，但是在收拾衣物的时候不知不觉想起自己的教资面试还未报考，查阅资料才知道我得在学校所在地报考才行，这对于我新工作无疑是重大的冲击，这意味着我在工作后还需要返回学校参加面试。其实返回学校也没有什么，主要是新工作的地方太远了，来回的时间和金钱都是问题，这让我对新工作有些犹豫。</p>
<p>其实这一切的源头还要从我第一次参加教资考试开始，说道这还真的有些懊悔，但这都是无用的了，我去年下半年参加的笔试，笔试通过后，我就没有在留意面试的报考时间——所以不出乎意料的我错过了今年上半年的面试，于是我只好等今年12月份了，现在看来那时候我已经参加了实习工作。</p>
<p>所以这是挺懊悔的事儿。</p>
<p>有些事情总放着确实会出问题，这是第一次被拖延痛击的一次，这让我想起你白岭坡的同学，此刻我或许能体会他的感受，我的朋友你要是还有未做的事，希望你也趁行动起来，将这似乎早已安排的事做完。</p>
</div>
</div>
<h4>三</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
<p>亲爱的自福，</p>
<p>收到你的来信，我心中涌起了一种难以言喻的喜悦。你的话语仿佛一股清新的春风，吹拂过我的心田，让我重新找回了久违的感觉。</p>
<p>秋风掠过之后，天气逐渐转凉。今日阳光温和，微风不再那般狂躁，似乎在轻轻告别过去的时光，准备迎接新的一切。这风，就像是老朋友一般，在送别故人后悄然离去，留下一片宁静与祥和。</p>
<p>自从上次给你寄出信件后，我已经离开了校园，踏入社会工作。其实，我对你有所隐瞒——准确地说，我只是出来实习而已，大约明年五月份左右才会重返校园。这段时间里，我对即将开始的新生活充满了期待。记得你曾对我说过，生活中不必过于期待或抱怨，但现在的我却很难做到这一点。对于这份新工作，我的内心既激动又忐忑；如果不幸被解雇，想必我还是会忍不住抱怨一番吧——当然，真心希望这样的事情不会发生在我身上。</p>
<p>为了尽快适应这份工作，我提前几天来到了广宁。尽管已是十月，这里依旧炎热难耐。每当走在街上时，总感觉空气中弥漫着一种黏腻感，偶尔还会让皮肤感到不适。幸好住处有风扇，夜晚可以打开它，享受片刻凉爽。半夜醒来时，我喜欢走到阳台上感受夜风，本想仰望星空皓月，却发现四周高楼林立，遮挡了大半的天空。没有月亮的夜晚虽然明亮得让人好奇，甚至有人因此而流连忘返，但少了那轮明月，整个夜空便失去了几分韵味。</p>
<p>某夜，我辗转反侧难以入眠，于是小心翼翼地推开了卧室门。即便动作再轻，老旧的铁门依然发出了轻微的响声，生怕吵醒了同住的同学。关上门后，我缓缓下楼，每一步都尽量放轻脚步，以免惊扰到沉睡中的尘埃。然而，这些细小的灰尘仿佛喝醉了一般，在我的裤脚边来回跳跃，但我无暇顾及，只顾加快步伐穿过厚重的大门，走向外面的世界。社区内的房子排列整齐，但巷子的小路却像迷宫一样，偶尔会遇到一条看消失在路灯下的笑道，我现在出了出租屋就是这样。广宁作为一座繁华都市，即便是深夜，也依旧充满生机与活力。沿着小巷前行，我不禁联想到了电视剧中那些间谍追逐的情景，只是此刻的我既非追捕者，亦非被追者。</p>
<p>走出小巷后，我在一家烟酒店偶遇了一位来自家乡的老友。他正准备参加聚会，原本只是买了饮料就打算离开，但我们聊了几句后，他热情地邀请我一同前往，并介绍给我认识一些新朋友。不久后，我们乘车抵达目的地。周围环境十分安静，仅有几缕冷风迎面吹来，仿佛也在欢迎我们的到来。步入酒店内部，可以看到一幅巨大的画框悬挂在右侧墙壁上，里面装裱着一幅似出自徐悲鸿之手的《八骏图》仿制品。画面下方摆放着现代风格的木椅，用于招待客人，左侧则是服务台，穿过服务台向后走几步再左转便是通往二楼的楼梯。与一楼相比，二楼显得更加热闹，各个包厢内传来的歌声此起彼伏，走廊里也不时响起窃窃私语声。</p>
<p>随后我随故友来到206号包厢，包厢内几位女生坐在最里面的位置，男生们则分布在中间和靠近门口的地方。他们正专注地看着屏幕唱歌。老友向大家介绍了我，我略显尴尬地点了点头，找了个靠门的角落坐下。旁边的人不断招呼我加入，说：“随便吃点东西，别客气，我们跟潭哥玩得很开心……”我点头表示感谢。随着歌曲一首接一首地播放，众人纷纷献唱。我也尝试着开口，但很快就意识到自己的嗓音并不适合，于是借口上厕所离开了包厢。</p>
<p>厕所位于显示屏左侧不远处，需要拐个弯才能找到。看到厕所管着门我便止步直返，回来有是嗑瓜子，又是和邻人谈论彼此的故乡，接着碰杯把酒一饮而尽……在接下来的一段时间我似乎小睡了一会，我起来再次去厕所，转角迷迷糊糊的往里走了几步，突然听见厕所传来奇怪的人声音，似乎在窃窃私语，又似乎在准备着什么……我一时蒙在鼓里，但很快我又回到了座位上，音乐将那个角落与外界隔绝开来，使那里变得格外安全。喝了两杯啤酒后，又环顾了四周的男子与女子，我似乎明白了什么——我以有事为由离开了包厢。</p>
<p>门外依旧如初来时那般寂静，只有冷风在夜色中徘徊，我站了很久似乎在等待冷风送客，但是终是徒劳，或许我喝太多了。</p>
<p>回到住所所在的社区，再次穿行于小巷之中。抬头仰望，楼房似河岸，河岸中间流淌散发着柔和光芒的河流，细细看去倒影着几颗星星。眨了眨眼往前走去，路边飞舞的虫子围绕着路灯盘旋，宛如少女头上的发簪随风摇曳，此时被路灯白光点亮的小巷宛如一位身披银纱的女子，静静地坐在这条幽静的小径上聆听这座城市的故事……</p>
<p>我轻轻地推开房门，带着满身疲惫扑倒在床铺上，很快便进入了梦乡。</p>
<p>我想今天先到这，期待下次你的来信。</p>
</div>
</div>
<h4>四</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
<p>无论面对多大的打击，心里有多委屈，也绝不能摧毁人们活下去的勇气，依旧要在秋风中扫码洗个热水澡，依旧要躺下休息，迎接明天的太阳。
久在樊笼里，也是安逸，但终有一日要这种安逸会被打破，我们唯有迎接，然后继续生活。</p>
</div>
</div>
<h4>五</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
<p>今日有收到母亲的来电，我已经是第三次收到母亲的来电，他很担心我的工作情况，我只得把自己糟糕的情况一五一十的告诉她，但是这样似乎不是一个好的选择，我有时候在想是不是该说些善意的谎言……我不是道你是否有过和父母说过这些话，但是我却从不遮掩，我想这点你是了解我的。</p>
<p>说现在自己的情况很糟糕是因为我面试失败了，这已经不是第一次了，我也离开了之前的房租，现在准备借宿在我姐姐哪里，在哪里我或许可以一遍找工作，一遍又睡觉的地方，这可能是目前比较好的选择，我希望你的情况没有我那么遭。</p>
<p>来电时母亲也不忘警告专心对待一件事，特别是专业上，他说我的表姐、表哥们已经在自己的专业上有了一定成就，也赚到养活自己的钱，我想这样的例子对我是好的激励，但是专心于专业上对我来说无疑很矛盾，我现在似乎混到头了，似乎这辈子就即将这么度过。</p>
<p>我乘了一天的车来到姐姐的住处，一番折腾终于是找到了他的住处，有时候觉得这也是一件麻烦事，我不知道为何小事情开始变得那么烦躁。</p>
<p>请原谅问我这样的表述，希望能收到你的来信，很期待你最近的生活又是过得怎样的。</p>
</div>
</div>
<h4>六</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
<p>自福你好，</p>
<p>在这个宁静的夜晚，我想和你分享一些好消息——我已经开始工作了，虽然这份工作与我的专业并不相关。或许我现在只能透露这么多，但我相信未来还有更多的可能性等待着我去探索。</p>
<p>前几天，因为一些个人材料的事情，我回了一趟学校。我记得那天我乘坐了晚班火车，很幸运的是，出了车站后并没有等待太久。你知道，最近天气开始转冷，外面飘着细细的雨丝，仿佛眼前笼罩了一层望不到边的迷雾。我在车上小憩了一会儿，感觉自己已经很久没有好好休息了。当我回到宿舍时，已经是晚上11点了。我简单整理了行李，洗了个热水澡，便躺下了。</p>
<p>宿舍里空无一人，进门处的灯也坏了，阿叔还没有来修。厕所里时不时传来“唰唰”的声音，远处偶尔传来雷鸣，但好在能听见隔壁宿舍打游戏的声音，以及楼上传来的推椅子声，这些熟悉的声音让我感到一丝安慰。</p>
<div class="image_l">
  <img src="./textbook/7.%E8%87%B4%E8%87%AA%E7%A6%8F%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/./mt.jpg" alt="Left aligned image" width="300" height="200">
</div>
第二天早上九点左右，我被走廊里的行李箱轮子声唤醒。不知为何，我有种奇怪的感觉，仿佛自己像无根的浮萍，让心里一阵阵发紧。我知道，最好的办法是刷会儿视频，逛逛朋友圈，然后忘记这件事。我一边这么做，一边起床洗漱，但当一切安静下来，那不安的心还是会马上浮现。
<p>我骑上自行车往南苑走去，楼下的打印机坏了，我只好去南苑的转盘打印材料。打印好后，在送去自强楼的路上，我遇到了肖可，他是我班级的同学。我上前向他打了声招呼。</p>
<p>“你怎么回来了？”他问。</p>
<p>“回来办点事！你这是准备去哪啊？”我回答。</p>
<p>“去参加校招……是的，现在还有啊……不过也没多少了……看了很多家，都不是很如意或者他们看不上我……打算再碰碰运气。”他的声音里带着一丝无奈。</p>
<p>他时而眼神闪躲，时而叹息语顿，我们彼此分享着不幸，试图安慰对方，或是缓解尴尬的气氛。我见状便与他告了别，继续送材料去了。</p>
<p>回来后，我听到隔壁宿舍一直在谈论今天的校招。不出所料，肖可又错失了机会。其实，肖可是班里的优秀生，他曾是我们班的副班长，担任过学生会干部，参加过许多活动。但似乎他所做的一切努力，对现在找工作并没有起到任何作用。我吃完饭后找他谈了谈，问他接下来怎么打算。</p>
<p>“决定再等几日，校招后面还有……”他边说边刷着视频，眼神很少停留在我身上，语气中透露出一丝不情愿，声音里带着轻微的沙哑。</p>
<p>“今天没写完笔试题目……也没交……错过时间了……是的，挺可惜的，看看后面还有没有机会……”他的话语中透露出一丝遗憾。</p>
<p>听到他的话，我顶着泛红的侧额，移开了视线，好在他一直没有留意我的眼神。</p>
<p>“不是，有两个招聘会吗？”我问道。</p>
<p>“第一个讲了一个半小时，结果后面又说我们专业的不要了……”</p>
<p>他试图解释着什么，以让我知道得更清楚。</p>
<p>“其实之前都参加了许多场，面试都是不通过……”</p>
<p>“这样啊……今天的笔试他们说是不是闭卷啊，你没查的吗？”</p>
<p>“查了，好多都不会呢，肯定查啊！”他犹豫了会儿，面容羞涩地哎呀了一声，接着补充道。</p>
<p>有时候还是无法理解肖可……我想追问下去，但想想有失礼数，他或许真的有什么难以开口的，于是只留下一句“这样啊！那就奇怪了”。我想肖可得“生存之道”还有缺考量，在我看来，面对这样的我们他的做法是不可取的，这让他错失了很多好的机会。</p>
<p>我带疑惑和惋惜回了宿舍。上床睡觉时还能听见，他和网友开黑的声音。这样的日子还要持续多久呢？我在内心发出这样的疑问，看着睡帘上的圆月图案，久久无法入睡。</p>
</div>
</div>
<h4>七</h4>
<link rel="stylesheet" href="./css/envelope.css">
<div class="envelope">
<div class="content">
我们都有来自太多的不确定，这让你我在面对时多的是挑战与机遇。
</div>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%86%9C%E6%9D%91/">农村</a></li>
  </ul>
</div>
            </header>
<h1 id="刘丰三郎">刘丰三郎</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
高考在即，在收到学校放假的通知后，我于第二日乘班车回了家。
<p>在隔壁县读书的我，每次回家都要乘上4-5小时的班车，回家的路上能见到一片又一片的砂糖橘，我的家乡被誉为“沙滩橘之乡”，最近几年村里也开始陆陆续续的种起砂糖橘。</p>
<p>往常放假可以去捡板栗、可以和父母去工地、也可以在家护理果树……在闲暇的时光里给自己挣点零花钱，但这次则不同，放假时间短，最多被拉去护理果树，我已经做好这样的觉悟，虽然很不情愿。</p>
<p>在外面读书久了，似乎做农活的性子也被磨平了。</p>
<p>回家的第二天我陪同母亲去抽水，母亲说我回来的正是时候，可以去抽水给果树打药。我和母亲在外面折腾了半天，父亲才从房屋出来，慵懒地生了个懒腰，观望着我们母子，似乎等待谁发号施令，&ldquo;你和你父亲把抽水机扛到山沟下的池塘。&ldquo;母亲对着父亲说道。我和父亲一颠一拐地把抽水机扛到山沟下。随着启动抽水机一天的工作开始了。</p>
<p>抽水需要用到的管子要提前铺好，我和母亲扛着一捆捆管子往山里去，在路上我们遇到了刘三，他是刘叔公的三儿子，</p>
<p>待续……</p>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%81%90%E6%80%96/">恐怖</a></li>
  </ul>
</div>
            </header>
<h1 id="草屋夫妇">草屋夫妇</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
<h2 id="第一章">第一章</h2>
<p>胡冲村被一条蜿蜒曲折的河流环抱着，河水悠悠向东流去，在不远处与几条支流汇聚，形成了一个被称为三岔口的地方。从三岔口向西，沿着泥泞的小路走几十分钟，便能抵达胡冲村。村口有一片灰白色的石斜坡，宛如一块巨大的布匹覆盖在山的一侧，自山顶直泻而下。在这片斜坡上，延伸出一条条绳索，紧紧地将斜坡与江河相连。江河的另一端也有同样的绳索，当这些绳索被拉起时，一张绿色的渔网便会浮出水面，将鱼儿团团围住。</p>
<p>再往村里走，两侧是一些历经风雨、摇摇欲坠的旧木瓦房，废弃后更添了几分凄凉。穿过这片废墟，映入眼帘的是一排排新建的洋房，它们整齐地排列在公路旁。继续前行，会看到一个T字形的路口，左转处飘扬着一面鲜艳的五星红旗。前方的小学坐落在山脊靠江的位置，地形犹如一个小半岛。学校除了校门口有高墙和杉木围栏外，其余地方都未设防，仿佛大自然的屏障已足够保护这里的一切。</p>
<p>弥嘟很小的时候就在这所学校读书，那时他和他的姐姐一同住在学校的宿舍里。平日里，他不是在宿舍里等待姐姐放学，就是在校园内玩耍。有一次，姐姐担心他会乱跑，便把他锁在了宿舍中。那天，一对身穿黑色衣服的夫妇在校长的带领下前来视察宿舍，他们发现了被锁在里面的弥嘟。众人皆疑惑不解，为何一个男孩子会被关在女生宿舍里。经过询问宿管阿姨，才得知是弥嘟的姐姐偷偷带弟弟来上学。校长为此事向黑衣夫妇表示歉意，但他们并不介意。那位黑衣女子半蹲下来，试图抚摸弥嘟，但小男孩迅速躲到了赶来的姐姐身后。黑衣女子看着不断吸着鼻涕的弥嘟，嘴角露出一抹温柔的笑容。她从包里抽出几张纸巾，递给了弥嘟的姐姐。姐姐一边帮弥嘟擦干净鼻涕，一边目送那两位神秘的访客远去。在弥嘟眼中，他们是既令人好奇又有些害怕的存在。</p>
<p>不久之后，在学校背后隔江的山林中出现了一座草房子，四面围墙由杉木搭建而成，周围种植着高大的杉树，后来放在搬到了离学校更远的地方，人们称那个地方为木巴。每当雾气缭绕时，行人只需转过一个弯就能远远望见这座小屋。原来，这座草房子正是之前到访胡冲村的那对黑衣夫妇所建。他们当天来到学校是为了商谈购买事宜，但由于未能与当地政府达成一致，最终选择在山中购置了一块土地，建造了这座居所。草房子附近住着一位名叫卜勇娃的老人，他是胡冲村的村民，负责放养一群黑山羊。村里人普遍认为他是个怪人，甚至有人传言他患有精神疾病。如果你在村子里行走，经常会看到他穿着破烂的衣服，边走边自言自语，偶尔还会对着路人露出诡异的笑容。夜晚，有时还能听到他家中传来的咒骂声。因此，许多人对他避之不及。至于他的名字，许多人都已经遗忘，或许是因为他的第一个孩子叫勇娃，而在胡冲村一带，人们习惯以家庭首个孩子的名字来称呼其父母，有时还会在第一个孩子前加上“卜”字。</p>
<p>卜勇娃的妻子和孩子们商量后决定让他到山里放羊，以期能够平息他那古怪的脾气。于是，卜勇娃来到了胡冲村江河源头上的木巴，开始了他的牧羊生活。木巴这个地方除了茂密的杉木林外，还生长着满山遍野的梧桐树。每当梧桐花盛开的季节，白的、粉红的花朵如云似霞，铺满了整座山头，花瓣随风飘扬，仿佛给通往黑衣夫妇草房子的小径披上了一层绚丽的地毯。远远望去，这番景象宛如一幅美丽的画卷，令人心旷神怡。</p>
<p>两位黑衣夫妇来到木巴的第一天，便怀着好奇和友善的心情去拜访了卜勇娃。然而，卜勇娃对他们的到来并不感兴趣，只是默默地赶着自己的山羊，继续向山里走去。尽管如此，这对夫妇并未因此放弃，而是每隔一段时间都会尝试与这位沉默寡言的中年男人交流。然而，三四年过去了，他们始终难以与卜勇娃建立起真正的对话。</p>
<p>又到了山石榴成熟的季节，在黑衣夫妇的草屋旁，几棵山石榴树结满了硬绿的果实。每到星期五放学时，孩子们总会兴奋地跑到这里摘取这些诱人的果子。这一天，弥嘟的姐姐安排了弟弟们去打水，自己则负责摘山石榴。其他家庭的孩子们也各自分工，有的打水，有的摘果子。吩咐好一切后，他们便各自往木巴山下走去，只留下几个低年级的孩子在原地嬉戏。</p>
<p>就在这时，弥嘟突然感到肚子一阵剧痛，急忙跑向同龄的伙伴，低声说道：“我肚子疼。”那个孩子指了指学校的方向，说：“往那边走吧，那里有树遮挡，你可以去那里解决。”弥嘟点了点头，强忍着疼痛，朝着那个方向蹒跚而去。</p>
<p>弥嘟沿着山路往下走，肚子的疼痛渐渐缓解，但他却被眼前的一座草屋吸引住了。不知不觉中，他走到了草屋旁边。突然，左侧出现了一个身穿白色衣服的女子。她的柔长黑发直直地披在两肩，穿着荷花色的上衣和雪白的长裙。弥嘟年纪尚小，并不知道这形象很像电视里的女鬼。他呆呆地看着这位女子，只见她正在梳理自己的细发。</p>
<p>时间仿佛静止了许久，直到女子终于注意到弥嘟的存在。她微微一笑，白皙的脸颊衬托出端正的五官，那双灵动的眼睛似乎是为了吸引人而生。但在弥嘟的眼里，女子面容苍白，看起来像是快要死去的人，纤细的身体也显得骨瘦如柴。女子的笑容勾起了弥嘟的回忆，他似乎在哪里见过这位女子。</p>
<p>“小弟弟，你是从哪里来的啊？”女子温柔地问道。弥嘟依然站在原地，沉默不语。女子缓缓朝他走了过来，从身后拿出了一本小册子和一根棒棒糖。“别人的东西不能乱拿。”弥嘟心里想着，后退了几步，准备离开。这时，姐姐的声音从背后传来：“叫你在上面等，你乱跑什么？真是的！”</p>
<p>白衣女子收起了手中的东西，微笑着对弥嘟的姐姐说：“小妹妹，你也别怪他。”弥嘟的姐姐点了点头，拽着弥嘟离开了。</p>
<p>“你们去哪了？”二人回来后有一个女孩问。</p>
<p>“去找弥嘟了！”姐姐回答道。</p>
<p>“哦哦，回来了就快点走吧，他们都上前走了。”</p>
<p>“嗯嗯——弥嘟快点，还慢慢吞吞的！”</p>
<p>弥嘟的姐姐和其他孩子们收拾好书包，迅速离开了木巴。当人多的时候，他们并不觉得有什么可怕的，但此时只有两个女孩子和一个男孩子，还是不由自主地感到害怕。毕竟，这个地方偶尔会传出一些奇怪的声音。弥嘟的姐姐想到这里，背脊一阵凉意，一边拽着弥嘟，一边加快了脚步。</p>
<p>“也不用这么快吧，你也慢点。”弥嘟抱怨道。</p>
<p>姐姐笑了笑，转而说道：“你知道几年前要买学校的那对黑衣夫妇吗？”</p>
<p>“知道啊……”</p>
<p>“是啊，但是……我刚才去找弥嘟的时候，在下面遇到了一个人，长得特别像几年前的那个女人。当时她还递给我纸巾呢。”</p>
<p>“会不会是你看错了，人家怎么会来这里呢？”</p>
<p>“我也希望不是她，不过刚刚那个女人真的好年轻，还穿着一身白色的衣服。”</p>
<p>“啊？不会是有人死了吧？”</p>
<p>“不是，就是普通的白色衣服。你也别这么说呀，还在路上呢。”</p>
<p>同龄的女孩呸呸呸几声，又骂了自己的嘴。本来还没那么害怕，现在被这么一说，弥嘟的姐姐更加心惊胆战。突然，前面传来几声怪异的尖叫，吓得两个女孩尖叫起来，紧紧抱住了弥嘟。几个男孩子从路边的灌木丛中跑了出来，原来他们在玩躲猫猫的游戏，负责找人的孩子找不到这几个男孩，于是他们决定吓唬一下弥嘟一行人。同龄的女孩边走边责骂这些男孩，差点把她们吓死。</p>
<p>走着走着，弥嘟的姐姐发现弥嘟嘴里塞着一根棒棒糖。“哪儿来的糖？”姐姐问道。</p>
<p>“我在口袋里摸到的。”弥嘟乖乖地回答。</p>
<p>姐姐想了想，回家的路上好像确实买了糖，但没有买棒棒糖。难道是其他孩子给的？她也没再多想。</p>
<p>夜幕降临，夕阳的余晖渐渐消失在天际，森林里也变得越来越昏暗。卜勇娃正赶着羊群回家，尽管四周逐渐被黑暗吞噬，他心中却异常平静。因为他知道，即使是在这样的夜晚，这些温顺的动物也能找到归家之路。而对他来说，迷路从来都不是什么值得担忧的事情。在村里，他经常一个人深夜前往几公里外的地方，即便偶尔迷失方向，他总能凭借一种莫名的直觉重新找回正确的道路。</p>
<p>当走到山沟附近时，潺潺流水声与阵阵蛙鸣交织在一起，给这寂静的夜晚增添了几分生机。溪水表面反射出微弱的光芒，那是家中炉火映照的结果——每当有客人来访时，母亲总会特意将火堆烧得更旺一些。果然，熟悉的光影再次出现在眼前，这意味着家里又迎来了新的访客。不过对于卜勇娃而言，这种场景早已司空见惯了。</p>
<p>他熟练地将羊群赶入圈中，随后点燃了一支烟，深深地吸了一口，仿佛想借此驱散旅途中的疲惫。走进屋内，妻子与两个儿子正围坐在桌旁等候着他。“回来了啊，快过来吃饭吧，菜刚热好。”妻子温柔地说道。看着这一幕温馨的画面，卜勇娃内心涌起一股暖流，但同时也不禁陷入沉思：这次家人突然造访，恐怕还是为了那件事……</p>
<p>“吃饭啦，别发呆了！”妻子的声音打断了他的思绪，也将他拉回现实之中。</p>
<p>突然，妻子打破了沉默：“明天和我们回家一趟吧。”</p>
<p>“你们要回去自己回去。”卜勇娃冷冷地回应。</p>
<p>妻子叹了口气，语气变得沉重：“小六去世了，你作为哥哥，不回去怎么行？”</p>
<p>“你们要回去自己回去。”卜勇娃依旧冷淡，仿佛这件事与他无关。</p>
<p>妻子终于按捺不住，怒火中烧：“你是不是被旁边的婆娘给迷惑了？现在想在这里终年不归？”她原本只是劝说，没想到却激起了更大的怒气。</p>
<p>然而，卜勇娃依然无动于衷，只是冷冷地重复道：“你们要回去自己回去。”</p>
<p>妻子见状更是气愤不已，两个儿子连忙拉住她，试图缓和气氛。“妈，别生气了，让一步吧。”老大无奈地劝说道，然后无意间调侃了一句，“爸这样疯疯癫癫的，别人也看不上。”</p>
<p>话一出口，老大便意识到自己说错了话，以为父亲会因此大发雷霆。但出乎意料的是，卜勇娃不仅没有生气，反而慢悠悠地盛了一碗饭，一屁股坐下吃了起来。他边吃边自言自语，显得异常冷漠。</p>
<p>母子三人见此情景，只好暂时放弃让他回家的念头。</p>
<p>几天前，张家的小六在床上突然去世。郎中检查后惊讶地发现，小六并非因重病而死，而是因为阳衰过度。这个结果让家人怀疑郎中的判断是否正确。</p>
<p>小六是卜勇娃的弟弟，早年两人上学时就不好好读书，整天想着赚钱。当时他们的父亲是胡冲的大户，养活六个孩子绰绰有余。但后来父亲病逝，家庭逐渐没落。兄弟俩决定在三岔口建立渔场，并在各个县之间贩卖鱼。几年下来，他们赚了不少钱。卜勇娃用攒下的钱继续上学，那时他已经20多岁，虽然母亲反对，但他还是坚持读完初中，并自学了一些功夫。由于没钱交学费，他的武艺只能止步于此。尽管母亲表面上反对，私下里还是给他送了钱。直到初中毕业那年，母亲因劳累过世，卜勇娃不得不回家料理家事，考高中的梦想也就此搁置。</p>
<p>后来，卜勇娃娶妻生子，生活似乎步入正轨。然而，一次下井事故中，一块石头砸中了他的脑袋，从此他变得疯疯癫癫，失去了往日的理智。</p>
<p>听到弟弟去世的消息，卜勇娃毫无反应。两个儿子对他多少有些失望，觉得父亲连最基本的情亲都丢了。而妻子则一直怀疑他是否与旁边的白衣女子有染，才不肯回家。</p>
<p>第二天清晨，母子三人早早离开了木巴。临走时，老大还帮卜勇娃把山羊赶上了山。或许他觉得自己昨晚的话太过分了，虽然父亲没有说什么，但他心里还是过意不去。</p>
<p>卜勇娃醒来后，发现自己的羊已经被赶上了山。他独自站在门口，目光呆滞地望着远方。突然，他开始自言自语，时而对着眼前的树木骂骂咧咧。“哗哗”的水声打断了他的咒骂，他循声向屋后走去。</p>
<p>一位穿着白色上衣的中年男子正在草屋前倾倒污水。男子正好看到出门的卜勇娃，便友好地打招呼：“起早嘛！”</p>
<p>卜勇娃点了点头，然后问出了一个一直想问的问题：“为啥子要搬到这座里呢？”</p>
<p>男子显得有些惊讶，因为这次卜勇娃竟然主动搭话了。以前，卜勇娃只是点头后就转身离开。</p>
<p>“再不出来，家里面的孩子就要没饭吃了。”男子解释道。</p>
<p>“出门在外不容易，你们是哪里的人呢？”卜勇娃继续问道。</p>
<p>“外地过来的……”男子简短回答。这时，从屋子里走出一位身穿白衣的女子，大约二十多岁。卜勇娃第一次见到这样的女子，她的一举一动都吸引着他的目光。女子看着卜勇娃那副痴痴的模样，似乎有些得意，笑了笑便又回到了屋里。</p>
<p>男子见状，脸色变得有些不悦。卜勇娃却依旧沉浸在对女子的迷恋中，完全没有察觉到男子的情绪变化。</p>
<p>“这是你的女儿吗？生得很好。”卜勇娃赞叹道。</p>
<p>男子有些不情愿地回答：“是的。”</p>
<p>卜勇娃继续说道：“真是个好姑娘，长得这么漂亮。”</p>
<p>男子皱了皱眉，似乎想争辩什么，但最终还是接受了卜勇娃的说法。他叹了口气，说：“是啊，她是我们唯一的希望。”</p>
<p>卜勇娃点了点头，心中暗自感叹。他转身回到自己的小屋，脑海中依然浮现出那位白衣女子的身影。</p>
<p>卜勇娃回到屋里，闲着没事在床上找来了烟丝，又从口袋里抽出了一张揉皱了的纸，正准备卷成烟。然而，纸上的字迹让他停了下来。换作以往，他一定会马上卷成烟，然后抽出火柴点起来，但这次他没有这么做。他慢慢地把纸展开，上面写着“在天愿作比翼鸟，在地愿”——后面的字看不清了。</p>
<p>不知为什么，他突然很想知道后面的内容。回忆起初中时暗恋隔壁班女同学的事，为了追到那位女同学，他好好的学了一年的古诗词。那时的他觉得最美的爱情、最好的告白应该从诗词开始……想着想着，他突然骂了起来，旁边也传来争吵的声音。</p>
<p>卜勇娃跑到外面，只见白衣女子突然跑到了他身后，嘴里喊着：“帮帮我，帮帮我，我家那个疯了！”</p>
<p>卜勇娃被这突如其来的状况吓了一跳，但他还是立刻冲上前去。两个男人说着说着便扭打了起来。女子一时间也没办法，只能在一旁焦急地看着。打着打着，卜勇娃从羊圈里抽出一把铲子，一铲子往男子的身上重重地砸去。男子身体扭动了一会儿，顺势倒在了地上。</p>
<p>女子吓坏了，急忙跑过来一把抱住了男子。卜勇娃见到男子倒在地上，意识也清醒了过来，似乎他的正常状态能通过这种方式唤醒一样。</p>
<p>两人把男子抬进了屋子，卜勇娃为自己刚才的失误道了歉。女子说没关系，要不是他自己可能已经死在这男人的手里了。说着，女子给卜勇娃倒了一杯水。卜勇娃谢过后接过水杯，一饮而尽。</p>
<p>接着，他从兜里拿出刚才准备卷的烟，正好抽出了写有“在天愿作比翼鸟，在地愿”字样的纸。他愣了一会，女子看见后问他怎么了。女子的眼力很好，竟看到了上面的字样。</p>
<p>“这是……”女子问道。</p>
<p>“哦！这是用来卷烟抽的。”卜勇娃答道。</p>
<p>“你知道我问的不是这个。”</p>
<p>“初中那时候写的了。”卜勇娃不知道为什么总感觉眼前的女子与自己很熟，或许是因为她是一个快熟性格的女子？卜勇娃笑着说，接着又谈到了自己以前是怎么追隔壁班女孩子的事情。似乎这是风尘已久的心事，说出来后卜勇娃气色好了许多。</p>
<p>“写的时候一定很用心吧！”女子边照顾男子，边回答道。</p>
<p>“或许吧！”卜勇娃迟疑了一会，支支吾吾地回答后，问了一句，“你知道后面的一句是什么吗？”</p>
<p>“不知道唉！”女子答道。</p>
<p>“看你是个读书的娃，这个不懂？”</p>
<p>女子微微一笑，卜勇娃看着她的笑容，有点渗人，顿时感到后背凉凉的。说到底，女子的家真的很凉。</p>
<p>“‘在天愿作比翼鸟’，后一句是‘在地愿为连理枝’。”卜勇娃嗯了一声，不再说什么。女子回答后便出去倒掉地上的血水，留下卜勇娃一人。</p>
<p>他看着那张纸，一手拿出烟丝卷成了纸烟，抽出火柴，轻轻滑动火柴，点燃了烟，深深吸了一口。走出去与女子寒暄几句后，他说自己该上山了。</p>
<p>女子心想，他问自己那句古诗，却不问问它的意思吗？在卜勇娃心里，他早已离开那个世界。</p>
<p>&mdash;&mdash;&ndash;续写</p>
<p>卜勇娃吸完最后一口烟，将烟蒂在地上碾灭。他抬头望向天空，夜色已经悄然降临，星星在天际闪烁着微弱的光芒。女子从屋内走出来，手里拿着一个手电筒，递给了卜勇娃。</p>
<p>“山上路不好走，这个你用得上。”她轻声说道，声音中带着一丝关切。</p>
<p>卜勇娃接过手电筒，点了点头。“谢谢你，真的帮了大忙。”</p>
<p>女子微微一笑，眼中闪过一丝不易察觉的温柔。“你也救了我，我们算是互相帮助吧。”</p>
<p>卜勇娃沉默了一会儿，似乎在思考什么。他突然开口问道：“你知道那句诗的意思吗？‘在地愿为连理枝’。”</p>
<p>女子愣了一下，随即答道：“这句诗出自白居易的《长恨歌》，是形容唐玄宗和杨贵妃的爱情故事。意思是希望在人间也能像树枝一样紧紧相连，永不分离。”</p>
<p>卜勇娃若有所思地点了点头。“原来如此，挺美的。”</p>
<p>女子看着他，眼神中多了一丝复杂的情感。“你曾经也这么想过吗？”</p>
<p>卜勇娃笑了笑，有些自嘲地说：“那时候年少无知，总以为爱情就是一切。现在想想，真是幼稚。”</p>
<p>女子轻轻叹了口气，仿佛理解了他的心情。“每个人都有过那样的时候，那是青春的一部分。”</p>
<p>卜勇娃点了点头，心中涌起一股莫名的感慨。他转身准备离开，但又停下了脚步，回头看向女子。“你叫什么名字？”</p>
<p>女子微微一愣，随后笑了起来。“我叫林婉儿。”</p>
<p>“林婉儿，”卜勇娃重复了一遍这个名字，仿佛要把它刻在心里。“谢谢你，林婉儿。”</p>
<p>林婉儿点点头，目送着他离去。卜勇娃打开手电筒，照亮前方的小路，一步步向山上的方向走去。他的身影渐渐消失在夜色中，只留下一束光在黑暗中摇曳。</p>
<p>林婉儿站在门口，望着卜勇娃远去的方向，心中涌起一种说不出的感觉。她转身回到屋里，继续照顾受伤的男子，心中却始终无法平静。</p>
<p>这一晚，对两人来说都格外漫长。卜勇娃在山上回忆起过去的点点滴滴，而林婉儿则守在床边，思绪万千。他们各自的心事，就像那夜空中的星星，静静地闪烁着，诉说着各自的故事。</p>
<h2 id="第二章">第二章</h2>
<p>清晨的第一缕阳光透过稀疏的云层，洒在了宁静的小村庄上。村里的小路两旁，野花随风轻轻摇曳，空气中弥漫着泥土和花草的清新气息。远处的山峦在晨雾中若隐若现，宛如一幅水墨画。弥嘟家的小院里，几只鸡在院子里悠闲地觅食，偶尔发出几声咯咯的叫声。院子一角的木柴堆旁，弥嘟的姐姐正忙碌地抱起一把把干柴，准备生火做饭。</p>
<p>回到家后的弥嘟发现父母并不在家，父亲在电视柜上留下了一封信件，上面写着：“去清林湾办丧，大后天回来，照顾好弟妹。”后面还写着日期。弥嘟的姐姐看了信件后收了起来，跑到外面抱柴准备烧火做饭。</p>
<p>第二天早上，家里来了几位客人，父亲正在与他们拉家常。“这几天酒席太多了，忙不过来啊！”他叹了口气，接着说，“几个人的死法都很怪异，很多人怕是得了什么传染病。”</p>
<p>吃完早饭后，孩子们也该去上学了。“爸，我下个星期可能不回家，学校那边说让我们留在学校里面复习。”弥嘟的姐姐说道。</p>
<p>“复习什么？”她父亲问道。</p>
<p>“就是准备毕业考了，老师让我们好好备考。”</p>
<p>“行吧，你不回来，弥嘟他们怎么办呢？”这话既是问弥嘟姐姐，也是问他自己。他吸了一口烟，接着说，“你就在学校吧！到时候我去接他们几个小的。”</p>
<p>说罢，弥嘟姐姐带着弟弟们上了学。到了木巴后，孩子们照旧去摘山石榴。弥嘟挣着自己也要去，姐姐说到时候别人都走了，姐姐可不管你。以为这能把他镇住，没想到弥嘟还是坚持要去。从卜勇娃家和白衣女子的草房中穿过，前面是羊圈，羊圈的右侧有一条路通往后山，山石榴树就在那里。</p>
<p>姐姐和弥嘟走到羊圈旁，弥嘟姐姐突然说：“你看他们都在前面，等会他们先摘完就走了，到时候我还要带你，我们慢慢走，到时候他们就不等我们了，遇到鬼怎么办？你现在回去，我去摘好吗？”</p>
<p>但是弥嘟还是不肯，弥嘟姐姐无奈之下放了狠话：“你再这样下次不带你了，让你一个人在后面……”说完，姐姐往回走，继续说：“你要摘你自己去吧！我回去等你。”这么一来，弥嘟也害怕了，差点哭出来，只好原路返回。路过白衣女子门前时，他停留了一会儿，恰好女子开了门。昏暗的背景让弥嘟看不见她家里的全貌，女子依旧微微一笑，只是这次似乎透露着无比的高兴和得意。</p>
<p>“你还记得这个吗，小弟弟？”说着，女子掏出了一本小册子，递到了弥嘟的眼前。“再送你一根棒棒糖，然后送你这个小册子。”</p>
<p>弥嘟尝过那颗独特的棒棒糖，确实与以往吃过的不一样。</p>
<p>“我姐姐说，不能拿别人的东西。”弥嘟说道。</p>
<p>这时，弥嘟后面走来摘完山石榴的孩子们，他们叫住弥嘟，弥嘟跑向了他们。女子把东西收起来，看向孩子们，孩子们也看向她，都诧异这里竟然住着这么漂亮的姐姐。孩子们走后，卜勇娃从山上下来，准备进屋，看见女子站在门口，问道：“怎么站在门外？”</p>
<p>“没什么。”女子回答道。</p>
<p>“对了，你怎么不去上学呢？还在读书吧？”</p>
<p>“读啊，但是我是在家里读的。”</p>
<p>“这里吗？”</p>
<p>“是的，我家那个教我的。”</p>
<p>之前没注意女子这么说，现在他才注意到，原来被他一铲子打倒的男子是她的丈夫。想到这，他内心竟有些不自在，感觉什么东西一瞬间被拿掉一样。</p>
<p>“张老师！！”</p>
<p>卜勇娃转头看向了说话的人——弥嘟的姐姐。他还有点诧异，弥嘟姐姐有些不确定，并再次问道：“是胡冲村的张老师吗？”</p>
<p>“嗯嗯，是我。”卜勇娃顿了一会才艰难地回答道，他没想到在这里还能遇见认识自己老师这个身份的人。</p>
<p>在卜勇娃的母亲去世不久后，村里急需一位数学老师。作为村里最高学历的人，卜勇娃被学校聘请去当老师。起初，他是拒绝的。母亲去世后，他身上的钱也花光了，虽然他的父亲留下了一些地产和渔场，但这些财产现在都掌握在其他兄弟手中。在他外出读书的这几年里，家里的这些财产几乎被其他兄弟划分完了。虽说也给他分了一部分，但卜勇娃并不想到田间水上劳作，他想找一个清闲一些的工作。当老师似乎是个不错的选择，但他心里却有些忐忑：自己真的有资格去教那些孩子吗？</p>
<p>一天，卜勇娃待在家里想出去买东西，但摸了摸口袋，只摸出了一张母亲生前寄给他的钱。这张钱已经被蹂躏得褶皱不堪，或许在市场上已经不能用了。卜勇娃索性回到屋里，坐在破旧的椅子上，陷入了沉思。</p>
<p>这房子实际上是属于他的弟弟的。按照村里的传统，谁照顾父母或常年赡养父母，父母的房子就归谁。这个人自然不是卜勇娃，而是他的弟弟。弟弟知道卜勇娃不容易，生平也是一个好人，即使卜勇娃天天在家吃吃喝喝，他也不说什么。但是，他的妻子却不这么想。在走访亲戚吃饭的时候，她总拿这件事说事。这些闲话最终传到了卜勇娃的耳朵里。</p>
<p>一天，家里请人吃饭，来的亲戚说着说着，便把这件事抬到了台面上。这不说还好，一说便一发不可收拾。</p>
<p>“实（卜勇娃的小名）啊，你也该去找点事做了，天天窝在你弟弟家里……”一位长辈说道，语气中带着些许责备。</p>
<p>“我说啊，实啊，我说啵，说嘛你也别说我骂你，你在你弟弟家……该找点事做，我和你爸，从小看你长大，现在你爸不在……别给他老人家丢了面子……”另一位长辈接着说道，语重心长地劝诫着。</p>
<p>卜勇娃沉默不语，心中五味杂陈。他明白这些话并非恶意，但也深深地刺痛了他的心。他知道自己不能再这样下去了，必须做出改变。然而，面对现实的压力和内心的挣扎，他感到无比的迷茫和无助。</p>
<p>第二天，卜勇娃鼓起勇气来到学校应聘。学校的领导见到他时，语气有些不耐烦：“问你的时候你死活不来，你看现在学校已经不缺数学老师了。”</p>
<p>卜勇娃的心沉了下来，准备转身离开。这时，领导突然叫住了他：“语文你教得了吗？现在缺一个语文老师，可以教的话就去教语文吧！”</p>
<p>卜勇娃愣了一下，随即上前感谢，激动地跑回家准备去了。其实，领导聘用他并非真的缺语文老师，而是因为学校曾受过卜勇娃父亲的资助，这个人情领导不能不认。再加上他也听说了卜勇娃的事情，觉得卜勇娃毕竟上过初中，是个有用之才。</p>
<p>就这样，卜勇娃在胡冲村当起了语文老师，这一干就是五六年。一天早上，卜勇娃因为带学生到宿舍赶蝙蝠，被领导叫到了办公室，并拿到了一张辞退书。他被辞退并不是因为带学生打蝙蝠，而是有学生举报他的教学方式有问题，学校也收到了家长的反馈，迫于压力，学校不得不辞退了卜勇娃。当时，卜勇娃是弥嘟姐姐班的语文老师，而到宿舍赶蝙蝠的事情正是弥嘟姐姐向卜勇娃汇报后，卜勇娃带着孩子们去宿舍驱赶蝙蝠的。</p>
<p>后来，学校里传着卜勇娃是因为带学生到宿舍打蝙蝠被辞退的谣言。虽然弥嘟姐姐知道那不是事实，但内心还是对此过意不去。</p>
<p>“这不怪你，我当年被辞退是因为教学方式有问题，这不怪你，你不用放在心上。”卜勇娃吸着烟，淡淡地说道。</p>
<p>弥嘟的姐姐还想多说些什么，但卜勇娃打断了她：“你该去上学了，不然你的同学先走了。”</p>
<p>“好的老师，下次放学回家再来看您。”弥嘟姐姐说完便跑了回去。</p>
<p>“没想到你还有这样的过往。”白衣女子高兴地说道，仿佛发现了什么惊天的秘密。</p>
<p>“都过去了，现在照样在这放羊。”卜勇娃苦笑了一下。</p>
<p>“要不来我家坐坐，喝喝茶。”</p>
<p>卜勇娃婉拒道：“不了，我想回家休息。”</p>
<p>但白衣女子再次邀请：“上次的帮忙还没感谢呢，怎么说也来家坐坐，喝喝茶以表感谢。”</p>
<p>自从那次以后，卜勇娃经常与白衣女子搭话，两人也渐渐熟络起来。似乎白衣女子正一步一步带他返回那个世界。</p>
<p>因为胡冲村的猎人们常在卜勇娃家休息，所以晚上家里灯火通明他也不会觉得奇怪。他想，或许猎人们又得到了猎物，今晚说不定又是一个把酒言欢的夜晚。卜勇娃赶着牛羊往圈子里走去，突然看到一个猎人从白衣女子家里有说有笑地走出来。卜勇娃本想上前问个明白，但转念一想，难道自己要问人家一脸高兴地从里面走出来是有什么好事吗？没等他想明白，那人便笑着对他说道：“回来啦！”卜勇娃感觉自己像是个外来人，要借宿在那位猎人家一样。</p>
<p>弥嘟姐姐带他上学已经是三四年前的事情了，现在弥嘟已经上了学前班。学前班里只有十几个孩子，与弥嘟最要好的是坐在他前排的阿贝。阿贝和弥嘟从小一起长大，弥嘟有什么事都会告诉阿贝。一天夜里，弥嘟怎么也睡不着，在宿舍里翻来覆去，扰得阿贝用后背顶了顶他。</p>
<p>“干嘛啊你！”阿贝有些不满地问道。</p>
<p>“我睡不着。”弥嘟说道。</p>
<p>“怎么睡不着？”阿贝好奇地问。</p>
<p>“我给你看一个东西。”说着，弥嘟从兜里掏出一本小册子。小册子上面什么也没有写，翻开一看，第一页画着一栋房子，颇有西方教堂建筑的风格。阿贝看了说道：“这有什么好看的？”</p>
<p>没等阿贝继续说，弥嘟就跳过了几页。此时能感觉到弥嘟内心激动无比，隔着被子都能听见他心跳的声音。阿贝突然觉着弥嘟的脸颊烫烫的，好像被焖在蒸笼里一样。翻着翻着他突然停了下来，阿贝说：“怎么了？神神秘秘的。”</p>
<p>弥嘟沉默片刻，一脸害羞的模样。阿贝觉着不对劲，一把将他的手撇开，倒要看看这有什么好藏着掖着的。只见手一杯撇开，小册子上出现了一位女子的画像。女子披头散发，衣着不整，但这却无法遮掩她的美貌。双手撑着身体，张开大腿瘫坐在床上。阿贝直勾勾地看着册子上的画像，他先是一脸羞涩，接着咦了一声，合上画册，一手盖上被子，窝在被子里不敢出来，突然说了一句：“你哪来这些东西的啊！”</p>
<p>弥嘟支支吾吾地说了实话：“我说实话吧，昨天起床的时候在自己的衣兜里摸到的，也不知道哪个王八蛋放的。”</p>
<p>“我劝你赶紧把这东西扔了，我爸说偷看女人是混蛋！”阿贝严肃地说道。</p>
<p>弥嘟先是啊了一声，接着内心又有点舍不得，最终还是把它丢进了宿舍的垃圾桶里。可在这之前，弥嘟早把里面的女人男人，还有他们干的事看了个遍。</p>
<p>第二天上午是语文课，但语文老师没来，来的是学校的一个领导。领导替语文老师上课，问孩子们上到第几页时，孩子们异口同声地回答着，唯有弥嘟还想着昨晚的事情，生怕阿贝把这件事情都告诉了班级里的同学。下课的时候，阿贝转头和同桌低声说着什么，弥嘟看见后更加担心自己昨晚的事情败露。放学后去食堂领饭盒的时候，弥嘟理也不理阿贝。那时候上学的学生还需要自己准备米油盐，学校只负责帮孩子们煮。等放学后，食堂的阿姨会把煮好的饭菜放到窗口前。孩子们每天早上除了洗脸刷牙，还要准备自己的饭菜，把大米放到铝饭盒里，再拿出铁制的口盅，从自己的木箱里舀一勺猪油，抓一把豆子，一起放进口盅里，接着倒点盐，倒些水，放到食堂的窗口前就可以了。</p>
<p>弥嘟接过哥哥领来的口盅，一屁股坐在了水池旁的柳树下。旁边的一个孩子骂道：“妈的一边去！”弥嘟知道自己惹不起，只好找了一个地方坐了下来。傍晚的时候，阿贝主动搭上话，没等阿贝开始，弥嘟就急切地问：“你是不是把昨晚的事告诉小蒋了？小蒋就是阿贝的同桌，今早阿贝还与他窃窃私语，弥嘟都看在眼里。”</p>
<p>阿贝没把这当回事，回了一句没有后，急着说自己的事：“我同桌说最近胡冲村死了很多人，今天我们的数学老师亲戚也死了，所以数学老师今早没来。”</p>
<p>阿贝说的数学老师也就是他们的语文老师，同时还是他们的班主任。班主任不在，晚上的课领导也没来，教室里吵吵闹闹的。阿贝越说越来兴致，一口气把胡冲村最近死人的事都告诉了弥嘟。弥嘟听了直冒冷汗，晚上又睡不着了。睡不着不是因为今天听了阿贝说的死人的事，而是没了小册子的事。弥嘟爬起来想去垃圾桶看看小册子有没有被倒掉——果然还是被倒掉了。</p>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%A0%A1%E5%9B%AD/">校园</a></li>
  </ul>
</div>
            </header>
<h1 id="君绘语">君绘语</h1>

<h2 id="第一章--与君初相识">第一章  与君初相识</h2>
<p>高中那会儿我老失眠，原因一言难尽。</p>
<p>记得有一次我去吃饭，遇到张君，我们聊闲聊中，谈到了我失眠的事，张君听了说，他们有个朋友以睡觉为己任的人。我不信，哪有这种人？</p>
<p>几天后张君竟把他介绍给了我，我们仨还一起去吃了饭，顺便逛了街，特别是喝奶茶的时候，张君故意给我和他有二人空间，整得像相亲似的，而后只是聊了些生活学习上的问题……在买花的时候我叫住他：“那个？”</p>
<p>没想到他没听见，“听说你以‘睡觉’为己任，”我提了声音又叫了一遍，搞得自己有些尴尬：“是真的？”</p>
<p>他一脸疑惑，又露出让人想笑的表情，道：“what?”</p>
<p>气氛顿时尴尬，我有些不好意思，手挡了挡额头，说了句，没什么。回头继续吃着烧烤便不再问什么，寻思着张君的话自己也信？</p>
<p>傍晚有些冷，校门就是我们的最后一站，老天在天角涂了层口红，不知道什么色号的，仔细看还挺美的。突然，岭正叫住了我，道：“都是为了我的下一代!”</p>
<p>我一时间没反应过来，以为他在与别人对话，不想他似有深情地看着我，补充道：“所以，你要好好睡觉才行！”</p>
<p>而后迷人之笑，怎么说呢？看着像在演戏一样，感觉这种桥段只有小说电视里才有，让我又懵又有些难为情，一时想不到什么好的词，只好顶着职业假笑示意“好的”。
“绘妹妹，”回寝室路上张君调侃道：“你要好好睡觉哦。”而后一阵哈哈大笑，我急忙想制止她，可越要这么做她就越要说，越说越开心。</p>
<p>回宿舍后我细品了岭正的话，总感觉有什么意思在里头，但时间久了便不再放在心上。</p>
<p>……</p>
<p>后来张君不怎么提他，我倒是期待着张君说点关于他的什么，至于为什么这么想，我不敢究其原因，也不想问张君 ，只想着张君能和我说说，明明是些琐碎的事罢了，再次回忆，便不由自主地想起那些人，那些事。</p>
<p>三个月后的一天，张君突然问我，还记得不得上次给你介绍的帅哥。我说，帅哥不记得了，只记得有个人说什么好好睡觉。随后聊的具体内容记不太清，依稀记得张君说，他转到了我们学校，而且在我们隔壁班。这算个惊喜吗……在我的生活里没那么多惊喜，也许眼睛会和惊喜反应，“生成”眼睛和平平无奇。</p>
<p>分班后的一天，我去找张君，问她在哪个班。张君告诉我，他们班在一楼，离食堂最近。她还说，一般来说，学校的食堂都挺干净的，外面的不怎么卫生，可绘啊！我还是喜欢吃外面的，特别是小帅哥带来的。</p>
<p>我说：&ldquo;又是用美色挣来的吧！&rdquo;</p>
<p>张君听到后哈哈笑了，笑声爽朗，我也跟着笑了起来，和她总能这么开心，但是，笑过之后我却突然感觉心情有些沉重。因为在上个学期期末考试结束后，我看到她和另外一个男同学坐在靠窗的位置上，他们俩个正在讨论着什么。他们的讨论是那样的热烈和激情，这是我从未见到过的。这一刻，我不知为何渴望着融入他们。</p>
<h2 id="第二章-仲夏夜之星">第二章 仲夏夜之星</h2>
<p>张君看着楼道下，一个小巧的女孩正一步一步走来，她知道是谁，长舒了一口气，转身对着小峰说道，小峰，我好像有点喜欢上你了。小峰一时还转不过来，刚刚还在讨论高考的试题，现在怎么……小峰没说什么，故意移开视线看着试题，张君，又继续道：</p>
<p>“可以牵牵我的手吗？一会儿，就一会儿。”张君抿了抿小嘴，“不说话就是默许。”张君不再犹豫，牵起了小峰的手。小峰面颊泛红，激动又开心，温暖的小手，好像柔软的云朵，微风拂过两腮，不经意让小峰忆起往事。他想：现在怎么也不想松开这个女孩的手了，因为这一天小峰已经等了很久很久了。</p>
<p>四年前的一个夜晚，我打球准备回宿舍，在收拾时，看到张君一个人独自坐在长椅上，篮球场两排明亮的灯光照在她的身上，泛着光，影子投影到地面综错散乱，被拉成常常的弧线，我走了过去，夜晚的榕树下凉得让人想就地睡觉，有些疲惫的我边走边拉伸着身体。</p>
<p>“唉，在这干嘛呢？”</p>
<p>“哟，打球呐。”张君寻着熟悉声音，看向小峰，确认是他后，说道：“出来乘凉。”</p>
<p>“切，女生宿舍不有风扇吗？”</p>
<p>“你以为想吹就吹啊！那也是要看舍友滴……女生的世界，你个男生不懂。”</p>
<p>小峰擦了擦头，看着地面道：</p>
<p>“谁tm大晚上跑出来乘凉啊？现在又不是夏季。”</p>
<p>“小峰，如果有个男生喜欢你……”张君长叹，又咽了咽口水，慵懒的说：“你们……”</p>
<p>“什么？男的！那不搞基吗？”</p>
<p>“呀，什么搞基啊，认真听我说嘛！”她继续道：“她还是你同学，你怎么办？”</p>
<p>“拒绝啊……为什么？当然是因为我喜欢女孩子啦，而且我接受不了……如果吗？哪有什么如果，你这是假设，这样的场景和画面我敢都不敢想像，怎么你搞……”
张君插话道：“什么什么呀！好好说话好不好。”</p>
<p>那天我想着要再次向张君表白，当时气氛尤为适宜，夜晚的操场很快人离影散，满天的星空捧着圆月，远远的传来葡萄架下的蟋蟀的奏鸣曲，好像拉小提琴一样，悠长而又慢慢地穿到我和张君这，操场的灯光还明着，铺洒一地，犹如海浪扑来，直冲张君的脚下，瞬间在身上如水浸透白纸般，我坐在长椅较暗的地方，一身好像穿着高雅的西服，一切都让我内心波涛汹涌。</p>
<p>我们似乎同时说出了对方的名字，我有些不好意思，他亦如此，我便让他先说。</p>
<p>“我被个女孩喜欢上了，她是我要好的朋友，看着小颗小颗的，纤弱又可爱，让我……不由自主产生保护她的心理，可是我不想因为这件事破坏我们的友谊……”</p>
<p>聊了会，交谈中张君告诉了我那人的名字，知道后也有些震撼，也许那时候不知道什么是喜欢，什么是爱，所以我不能理解她们的关系和情愫。正说着，我们看到校警摸着电筒，四处照射，似个夜间丛林里的猎人，我们也结束了相关的话题。</p>
<p>那后我渐渐的对她们之间的关系有些不自在起来，虽然如此，但我对张君的心却一直不变，对她仍存一丝丝希望，期待着有一天她回头，可以见到我还在原地等她归来，我无法忘记我与她们一同“出境”的尴尬处境，特别是虚假地做她男友，在喜欢她的人面前，把恋人的关系发挥到极致的事，我讨厌又害怕，犹如一场美梦，醒来却是肮脏的现实，噩梦般的现实。</p>
<p>记得有一次我还因此谎称生病，停了一周的课，可我忘不掉张君，我依旧喜欢她，我想和她来一次真正的恋爱，不一定热烈浪漫，但一定真实难以忘怀。在高中时我就知道她其实不喜欢我，可我还是默默等待着，在漆黑的夜晚做个可怜的人。</p>
<p>等我明白渐渐理解，和解这些事时，那已是许多年后的事了，张君也早已远嫁他乡，他乡的那颗星也一直在我可以看到的地方闪闪发光。</p>
<h2 id="第三章--剪不断理还乱">第三章  剪不断，理还乱</h2>
<p>苏绘走上楼梯，走廊传来张君的声音，他们讨论着今年高考各科试卷。</p>
<p>我纳闷一个文科生，一个理科生的，有什么好讨论的？我知道此刻我是羡慕的，想想自己摸底考自己就是一个失败者，失败者，失败者&hellip;&hellip;</p>
<p>我苦涩地一笑，恰巧张君见状问道：&ldquo;绘，怎么了？&rdquo;</p>
<p>我回过神，道：&ldquo;没什么。&rdquo;</p>
<p>等我微微抬头——张君和小峰的手十指相扣，看着好像他们的手被牢牢焊死，原来刚刚的男孩是小峰，为什么，为什么，那背影，那声音完全是另外的人。对我是那样的尊敬，玩笑都开不起，而对张君却畅言所欲，小峰， 小峰……我的内心一声又一声，就像远山传来的回音。</p>
<p>张君闻言大笑：&ldquo;哈哈哈&hellip;&hellip;你这个形象真好笑，对了告诉你哦，我和小峰确立关系了哦，今晚要不要庆祝一下下。”</p>
<p>张君说的小峰，是我认识的人，那会还初中，我一直觉得小峰比较内向，又有点高冷，可现在看来它和张君的性格都比较随意，所以关系也建立得很快，现在都是情侣了。我和张君是从小认识的，可以说我们是死党，我总喜欢调戏她和她的堂弟云，和他们关系特别好，我觉得我是他们最好的朋友，所以总是会开开些无伤大雅的玩笑。</p>
<p>“干嘛呢？开玩笑的，我和小峰没交往，”和小峰分开后，张君说了实话，可我当时并不相信，即使她说，有个人喜欢他，小峰为了避开她，他们就演演喽。</p>
<p>“我说嘛！君姐怎么会那么快换男朋友嘛！”</p>
<p>“啊？”张君看着我，愣了会儿，说道：“那不是。”随后我们鹅鹅地笑出声。</p>
<p>后面我和张君又聊了几句，然后就各回了各自己的寝室，我推开寝室进去，一片死寂充斥着寝室，我坐在床边，呆呆地看着天花板，突然觉得心里一阵空落落，仿佛心底里丢失了一个什么东西，很难受很难受。</p>
<p>张君，小峰和岭正分到了一个班，他们三个在班级里很低调，也不敢在学校里表露出他们三个的关系，毕竟那个班有些特殊，或许是不想引起别人的注意吧。不知道从什么时候开始自己躲在暗角默默地暗恋着岭正，对岭正的记忆自从分开后慢慢从脑海中消失，突然我想起，张君说的，我以后可能会是他的妻子，虽然我知道这是个假的概率，毕竟我和他还没到那一步，但心底里却不免升腾起一丝妄想，这些妄想也随着时间一天一天蒸发殆尽，为了不让这样的念头消失，我试着与他见面。我知道我配不上他，但是心底深处，却有些隐隐约约的期盼，期盼着有一天，我们能够在校园偶遇，在校园内，能够成为朋友，这样，我就能够时时刻刻，见证我和他在张君心目中的地位了。</p>
<p>一晃一年的时间，转瞬即逝。</p>
<p>我和张君、小峰、岭正他们的联系少之又少，除了偶尔见面聊聊，别的联系少之又少。</p>
<p>我们似乎都各奔东西了。</p>
<h2 id="第四章--再忆江南曲">第四章  再忆江南曲</h2>
<p>大一的一天晚上，我一个人躺在床上，想着和张君的点滴往事，我想起了我们初入江南高中时那个阳光开朗的张君，想起了那个总是喜欢逗我，却从来没有欺负我的云，想起了初中我第一次在学校的篮球场和小峰见面的那个早晨。</p>
<p>初中篮球场。</p>
<p>那一天天气格外炎热，有些受不了的直接不来，有些则虚弱地装一下，老师自然是信的，这样的天气搞不好真的会中暑呢。小峰注意班上的班花很久了，从军训那天开始，他就一直关注着她，报体育委员也是因为有她的名字，只可惜她没选上。这天，女子篮球组在练习，</p>
<p>“唉！她身边老跟一个家伙”</p>
<p>“什么家伙，人家有名字，叫苏绘。”</p>
<p>“耶，你们认识？”小峰的同学手靠在他肩上，说道：“什么时候的事。”</p>
<p>“唉，小学那会儿了，不过她是隔壁班的，她应该不记得我。”</p>
<p>小峰看要到他们组训练了，顾不了那么多了，直接上前与班花搭话。</p>
<p>我们第一次见面。小峰说：“如果你愿意当我的女朋友，我可以考虑带你进军篮球队。”当时张君愣了好一会，我也一样，这句话他是对张君说的，想想当时他是体育委员，我只不过是个连投球都不会，还硬要参加女子篮球队的家伙，自己真的傻得可怜。</p>
<p>张君看了看绘，对她说，绘可以帮我去拿一下纸巾吗，在那边的树底下，谢谢。</p>
<p>看着绘远去，张君提高了些声音，说道，你有那本事，我就答应。</p>
<p>小峰一脸春风拂面，说道：“你说的，别反悔。”</p>
<p>想到这我觉得那件事张君是刻意这么做的。</p>
<h2 id="第五章--终章">第五章  终章</h2>
<p>那时的我还是一个不谙世事的毛丫头，看着张君与小峰在一起，自己竟眼红了起来，那段时间一切的事情都只想着怎么和岭正在一起，我每天都在幻想着和他有朝一日可以成为男女朋友的画面，但是，一切的梦境都只是梦境而已，在现实里，我和他永远也不会在一起。想到那天鼓气勇气与岭正告白，却被拒绝的画面……眼泪不知怎的流出眼眶，打湿脸颊，黑夜抚摸着我，似乎在特意安慰，可我内心久久无法平静，久久无法入睡。</p>
<p>翻来覆去怎么也是那美好而又难过的岁月。</p>
<p>那天，我去学校图书馆借书，张君的书包落在图书馆里。张君让我在图书馆外面等一下，张君走了很久，我在图书馆外面站了好久好久，突然有人拍了我肩膀一下，我吓了一跳，猛地回头，见是云，我松了口气，拍了拍胸脯，责怪他道：&ldquo;怎么走路一点声音都没有，吓死我了。&rdquo;</p>
<p>云微笑着，道：&ldquo;我看你站在外面想事情想得很投入，所以就狠下心打扰你。&rdquo;</p>
<p>我问：&ldquo;你怎么在这里？&rdquo;</p>
<p>云说：&ldquo;我和朋友谈了点事儿，他们让我在这里等。&rdquo;</p>
<p>云的那些朋友都是高年级的学生，有男有女，看起来都不怎么好惹的样子，不用说也知道，云在这里肯定是认识不少人的，我心中不禁有些担忧，担心云在这里受到别人欺负。
我问：&ldquo;你朋友都是些什么人啊？&rdquo;</p>
<p>云道：&ldquo;是我以前的同学，现在都在这个学校里上学，我在这里认识不少人，以后有事儿，找我，我罩着你！&rdquo;</p>
<p>我道：&ldquo;好啊，那我有事儿了再找你吧！&rdquo;</p>
<p>云说：&ldquo;行！&rdquo;</p>
<p>云和我说的话很简单，但是，我知道他一定是一个善良的人。</p>
<p>在外面久久不见张君出来，我的内心莫名有些难受，等待也许就是这样……</p>
<p>想到这我才知道，那时的自己对张君是怎么样的感情，我就是只愿做信鸽脚下的信筒，即使有天会被丢弃，只要有一刻还在与她在一起，我所忍受的都是值得的，可我一直在她的庇护下，一步一步走向自己的未来，这种种美好而痛苦的记忆我永生难忘，这一生也不会再有。</p>
<p><strong>写于2021年6月</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%82%AC%E7%96%91/">悬疑</a></li>
  </ul>
</div>
            </header>
<h1 id="白唐战绛">白唐战绛</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
<p>“时间的真的存在吗？”</p>
<p>我很意外王妈为什么会问我这样的问题，王妈小时候家境不好，没有机会上学，她对我说过，去学校上学的次数十个手指都数得过来。王妈的问题是显而易见的——时间是存在的，我想这么说，但还是如此回答了她：“王妈您怎么突然问我这个？”
“没有嘛，你们读书嘛！”她啊了一声，好像对我的答案有些失望，说道：“就想问问你，看你懂不懂。”</p>
<p>“时间是存在的，你看每天时间都在走，太阳升起，太阳西落……”我有些难受的说道，不知道为什么自己不知不觉的也编不下去了，觉得这个话题是不是太哲学了呢？</p>
<p>“从前呢，天上有个管理太阳升起，落下的神仙，人们管他叫乍，本来人死后去的地方也是有太阳的，后来就没有了，说是有一天乍在水边叫太阳下山的时候，看到一个老奶奶在水边哭，他就上去问，你怎么在这哭得这么伤心。那个老奶奶回答道，我不想离开我的丈夫，因为他一个人生活会很辛苦。这个时候乍才知道这个老奶奶是一个鬼魂，乍听完说，他在地上活得好好的，你应该高兴。老奶奶还在哭，边哭边抹着泪说，要是你每天让太阳晚点出来，晚点下山，人们就不会死那么早，我也会多陪陪自己的丈夫。乍听完那个老奶奶说完，慢慢的坐下来，跟老奶奶说，每个人心里都有一个太阳，如果把这个太阳丢掉，你就不会再说那样的话，你也就不会那么伤心了。说完乍把太阳收了回去就走了，从那以后死去的人生活的地方再也没有太阳，心里也没有了。”</p>
<p>听王妈娓娓道来的故事，我内心五味杂陈，我顺意点了点头，早已把王妈刚才的问题丢掉，后来又调皮的和王妈吐槽这个故事，为什么老奶奶不知道一天时间其实是一样的，即使白天变久了，一天还是二十四小时！王妈也只是笑笑，没在说什么，继续自己手里的针线活。</p>
<p>暑假漫长而又炎热，特别是在东州这一带地方，一天不开空调自己无法在房间里待下去，外面也是闷热，空气划过脸脖，抽离着细小的汗珠和油脂，黏着皮肤的汗珠让人不禁想抓一抓，今天的太阳也是同样的毒辣，闷热的大地烘烤着水面上的水葫芦，可水葫芦似乎未伤分毫，到是蒸熟了一旁的芭蕉——龇牙咧嘴的。</p>
<p>王妈家住在工厂旁不远处，每每早上六七点和晚上十或十一点就会看到许多打工人出现在小区楼下，他们总是拖着疲惫的身体上班，拖着疲惫的身体下班，在学校我总能看到一些人精神饱满的过着每一天，过着充裕的生活，想到这我不禁感叹：还是待在学校好啊！</p>
<p>自己来东州游玩也有些许天了，闲下来的时候总要睡午觉，因为住在工厂旁边，午觉的时候总能听到远处工厂传来的“轰隆”声，不是被惊醒，就是与梦境“重影”，构建着一些奇怪的梦境，前些天到处跑，也许是玩的太疯了，现在对外面的美食，风景一点兴趣都没有，只想静静地躺下，午觉醒后在阳台看到王妈在做针线活，于是便上前与她聊了会儿天，关于王妈提出的时间是否存在这一话题，我想大部分人都会回答“是的”吧，想想拿掉后人生活的一切岂不是都失去了本有的意义，不知道什么时候醒，那个点该吃饭，出去玩多久等等，涉及到时间的话题太多，没了时间概念的世界会很无聊的吧！</p>
<p>“王妈，我爸说我们明天就回家了，您要和我们回宁云吗？”我说道：“去我家玩几天呗！”
“明天就走了？”王妈停住了手里的针线活看着我问道。</p>
<p>“对啊，我爸说出来太久，没钱了。”后面一句是自己对父亲的调侃。</p>
<p>“哎，你爸打不准蒙你的呐！他呀哪是没钱，估计也是像你玩累了，”她一边朝着我笑，一边继续自己的针线活——转而问道，“你爸还是在你外公那个木厂吗？”</p>
<p>“早就不在了，几个月前的事情了。”</p>
<p>“你爸也是不容易，”她叹气道，我回答“也是”后，她继续道：“赘婿呢就是这样了，做什么都得看丈母娘家的脸色，你妈妈家也是呀……想想以前我从村里出来的时候，你妈妈家来的礼就是最贵的，那玩样现在还在我那木箱里呢？”
“是个什么东西呀，王妈？”</p>
<p>“是个织布机。”</p>
<p>“织布机是那个时候最贵的吗？”</p>
<p>“你不知道，那个时候我们苗家的姑娘衣服都是自己做的，街上也有卖，但穷人家哪买得起哦,织布机可以做嫁妆，可以做新年衣服……”</p>
<p>“那岂不是每家都得有才行？不然他们就没新衣服了。”</p>
<p>“是喽，是喽！”王妈笑着回答道：“那时候有的人来件衣服，来套棉被，还有的是直接给钱的……那时候家家都是得有个织布机，对我们苗族人来说要有的，有嘛都好喔，没有嘛叫人做都要做出来，所以织布机一对比起来就不一样了，你妈妈送我那件做得很好，听说是一个很厉害的木匠做的。”</p>
<p>“那等你忙完，带我去看看呗。”我倒要看看是什么高档货，王妈这么多年还留着。</p>
<p>从阳台往里走是大厅，大厅左边有两个房间，两个房子之间隔着上二层楼的楼梯，楼梯下有一道木门通往地下室，打开木门，随着一声喀吱的声音感觉自己走入封存已久的宝库，仓库楼梯扶手是钢焊接不久，下楼梯时能闻到焊接时留下的味道，其间夹杂着木质发霉的味道，沿着台阶往下走，右边挂着一些画和幼儿园、小学的奖状，奖状估计是大厅那边放不下而移到了这里的，奖状上写有王思芳和王季远姐弟两的，还有那个我熟悉的名字杨——白唐，在这边。王妈叫住了我，示意我往下走，我小跑下了楼梯，右拐再下一次楼梯就到了地下室的仓库，地下室就在大厅的下面，被一堵墙分成两半，另一半则是车库，走到楼下刚才木质发霉的味道很快就消散了，地下室灰尘很少，打扫的也很干净，从楼梯下来右手边堆积着许多破旧的书籍，在红色的书架上高高堆叠，远远看着给人一种难以接近的感觉，下边堆积的是一些工具和木质器件，洋枪的枪柄，木凳子，木长椅，甑子，锄头镰刀柄等等，还有很多我都不认识，在靠近车库的右下角就放着织布机，由于常年使用有些地方光滑亮泽，好像刚被涂上树脂漆一样，又好像一个精神抖擞的老奶奶。织布机一共有两台，王妈告诉我小的那一台是后来王爷爷自己做的，属于是织布机的改小版本，而小织布机旁边就是父母送王妈的织布机，现在去网上搜也能找到这种老款的木质织布机，唯一不同的是这台留存着王妈从出嫁到现在的种种回忆，梭子上的光泽，打纬中间因每次缝制衣服都会拉一下而有所磨损，这些也许就是勾起记忆的痕迹吧！雨落红花谢了春，莫熵增！日月颠倒长河归，同与故人醉。织布机上贴着贴纸，贴纸上写着一首这样的诗歌，虽我字字都认识，但古诗赏析什么的绝非我强项。</p>
<p>“王妈，这首诗是谁写的？”</p>
<p>“那里……哦，说不定是季远他们胡闹贴上去的，”她小心的撕下贴纸，又小声的骂了季远一通，接着说：“这就是那台织布机，你要是想学王妈教你，打不准那天自己给自己做嫁衣呢！”</p>
<p>“我吗？还是算了，我针线活也就那样，平时能缝缝补补自己的衣服就好了，至于做嫁衣……算了算了。”</p>
<p>“多会一样对自己也好的，但是现在人家都用机器弄了，什么衣服都可以弄出来，所以你们这群小鬼把老祖宗的东西都忘干净了。”</p>
<p>“新时代了嘛，不一样了王妈！”我尬笑的说道。</p>
<p>王妈笑了笑，似乎准备给我介绍什么，突然手机响了起来，王妈出去接了电话，我便独自一人看着织布机，怎么看也看不出它的高档所在，以及工艺精湛，或许我是我对这方面了解太少，想到这真为自己堪忧，自己到底该了解，该知道什么，越是深入思考这个问题自己就会陷入“无解”的死循环。</p>
<p>看到刚才的贴纸被王妈丢到了地上，我半蹲拾起贴纸，心里又默默念了一遍，王妈家会写诗的人，除了姐弟两还有谁呢，他吗，可他的语文水平不咋地呢，要写出诗来——一万个不可能！估计是在哪里摘抄的。我起身去看了上边的书籍，一些幼儿园到高中的课本七七八八的叠堆在一起，地上放着各个科目的习题试卷，还有一些配套资料，看到这些我也不禁想起自己的初中生活，想不到这么快就初中毕业了，不论是美好的，还是难过的事就这么过去，一去不复返了，我有时候会不经意间想起某个人，某件事，即使令人难过，那些画面还是会不间断的脑海里浮现，说“忘记那些痛苦难过的事，这些都过去了”的人一定是自欺欺人吧!我想恰恰是这些痛苦难过的事难以忘记，让我们学会珍惜现在，珍惜现在的每一天。</p>
<p><strong>写于2023年7月</strong></p>
</div>
女主角：白唐
说明：小说重点刻画对象
性格特点：
独立：她不依赖他人，能够独立处理问题。
直率：她表达自己的想法和感受时非常直接，不拐弯抹角。
忠诚：她对朋友和同伴非常忠诚，愿意为他们挺身而出。
自尊心强：她不容许别人贬低自己，会为了自己的尊严而战。
情感丰富：她对感情投入很深，容易受到情感的影响。
叛逆：她有反叛传统和规则的倾向，尤其是在青春期。
情绪化：她的情绪波动较大，容易受到外界影响。
成长型：她愿意从经历中学习，不断成长和改变。
人物形象：
外表：她长得讨喜且好看，这可能是她在社交中的优势。
社交：她与男孩子玩得来，可能在同龄人中有一定的人气。
恋爱：她对恋爱关系非常专一，但同时也容易因此受伤。
工作：她工作繁忙，这表明她是一个认真负责的人。
家庭：她来自一个复杂的家庭背景，这可能影响了她的性格发展。
人物气质：
自信：她对自己的能力和外表有一定的自信。
坚强：面对困难和挑战时，她展现出坚强的一面。
敏感：她对周围人的评价和情感变化非常敏感。
多变：她的性格和行为可能随着时间和环境的变化而变化。
成熟：随着年龄的增长和经历的积累，她逐渐展现出成熟的气质。
人物成长线路：
从依赖到独立：她可能从依赖家庭和他人，逐渐成长为一个独立自主的个体。
从叛逆到成熟：她可能经历了一个从叛逆到逐渐理解和接受自己及周围世界的过程。
从情绪化到情感稳定：她可能学会了如何更好地管理自己的情绪，变得更加情感稳定。
从自我中心到社会责任感：她可能开始更加关注社会和他人，承担起更多的社会责任。
<p>男主：莫长逍
说明：重点刻画对象
性格特点：
高冷：他给人的第一印象可能是比较冷漠，不易接近。
忠诚：对于了解他的人来说，他是一个可靠的朋友。
社交：他身边有很多朋友，说明他在社交上有一定的吸引力。
运动型：作为体育生和篮球爱好者，他可能具有竞争精神和团队合作意识。
感情模糊：在感情方面，他可能不太擅长表达自己的情感，导致界限不清晰。
学习认真：虽然成绩不是顶尖，但他学习认真，脑子灵光，说明他有解决问题的能力。
责任感：当女朋友遇到问题时，他会尽力维护，显示出一定的责任感。
人物气质：
阳光：作为体育生，他可能具有阳光、健康的气质。
自信：擅长篮球和体育，这可能让他在同龄人中显得自信。
专注：在体育和学习上的表现，可能表明他是一个专注的人。
神秘感：他的高冷性格可能给人一种神秘感，让人想要了解他更多。
人物形象：
外貌：长得帅，身段修长，给人良好的第一印象。
发型：不留长发，可能给人一种干净利落的感觉。
运动能力：擅长篮球，这可能让他在体育活动中显得格外突出。
学习态度：虽然成绩不是最好，但他的学习态度认真，给人一种努力向上的形象。
人物成长建议：
情感表达：他可能需要学习如何更好地表达自己的情感，以避免在感情关系中造成误会。
界限设定：在感情关系中，他需要设定更清晰的界限，以减少不必要的麻烦。
沟通技巧：提高沟通技巧，以便更好地理解和解决女朋友的问题。
自我认知：他可能需要更深入地了解自己的性格和需求，以便在人际关系中做出更好的选择。</p>
<p>女主角的亲戚：
父亲（白正恩）：性格严肃，对女儿期望很高，但内心深处非常爱她。
白唐瑶的母亲(唐淑清)：温柔体贴，是女主角情感上的依靠。
白唐瑶的弟弟(白唐文)：性格开朗，喜欢开玩笑，但对两个姐姐非常保护。
白唐瑶的妹妹(白唐灵)：性格内敛，不喜欢说话，成绩优秀；
白唐瑶的堂叔(白正中)：事业成功，对女主角的人生规划有很大的影响。
白唐瑶的堂妹(白玉琴)：年龄相仿，性格活泼，两人经常一起逛街和分享秘密。</p>
<p>女主角的朋友：
白唐瑶的闺蜜(洛翠翠)：性格直率，总是直言不讳，是女主角的忠实倾听者。
白唐瑶的闺蜜(零思思)：性格内向，喜欢读书和写作，给女主角提供很多心灵上的慰藉。
白唐瑶的好友(敦庞庞)：性格乐观，总是能带来正能量，是女主角的开心果。
白唐瑶的好友(豪盛)：性格独立，有自己的事业，经常给女主角职业上的建议。
女主角的同学：
白唐瑶的同学(王自福)：性格认真，学习成绩优秀，是女主角的学习榜样。
白唐瑶的同学(图雅丹特)：性格活泼，喜欢组织活动，是班级的活跃分子。
白唐瑶的同学(婉湘玲)：性格敏感，对艺术有很高的天赋，是女主角的艺术伙伴。
白唐瑶的同学(马思雨)：性格冷静，擅长分析问题，经常帮助女主角解决难题。</p>
<p>男主角的亲戚：
莫长逍的父亲：莫天行，性格随和，对儿子的体育事业非常支持。
莫长逍的母亲：李婉清，性格热情，喜欢社交，经常组织家庭聚会。
莫长逍的弟弟：莫长乐，性格顽皮，喜欢恶作剧，但对哥哥非常崇拜。
莫长逍的姑姑：莫丽华，性格严谨，是一名教师，对男主角的教育有很高的期望。
莫长逍的表哥：莫文轩，性格成熟，是一名成功的企业家，经常给男主角职业上的指导。</p>
<p>喜欢男主角的女性角色：
白唐瑶的情敌A：苏婉儿，性格热情，对男主角一往情深，但经常因为男主角的冷淡而感到沮丧。
白唐瑶的情敌B：赵思琪，性格聪明，擅长策略，总是试图找到机会接近男主角。
喜欢女主角的男性角色：
莫长逍的情敌C：陈逸飞，性格温柔，对女主角关怀备至，但女主角对他没有感觉。
莫长逍的情敌D：周子墨，性格幽默，总是试图用幽默吸引女主角的注意。</p>
<p>情敌角色的亲戚：
情敌A的姐姐：苏婉清，性格强势，对妹妹的恋情非常关心，有时会介入其中。
情敌B的弟弟：赵思远，性格调皮，喜欢捣乱，有时会给情敌B制造麻烦。
情敌C的哥哥：陈逸翔，性格稳重，经常给情敌C提供感情上的建议。
情敌D的表妹：周小雅，性格活泼，喜欢和情敌D一起玩耍，有时也会帮助他追求女主角。
情敌角色的朋友：
情敌A的好友：林雨柔，性格敏感，总是能察觉到情敌A的情绪变化，是她的倾诉对象。
情敌B的好友：韩梅梅，性格狡猾，经常给情敌B出谋划策，但有时建议并不可靠。
情敌C的好友：徐浩，性格直率，经常直言不讳地告诉情敌C他的真实想法。
情敌D的好友：张伟，性格冷静，是情敌D在感情问题上的理智声音。
情敌角色的情敌：
情敌E：刘晓晓，性格嫉妒，对情敌A和B都抱有敌意，总是试图破坏她们和男主角的关系。
情敌F：高远，性格狡猾，对情敌C和D都抱有敌意，总是试图破坏他们和女主角的关系。
情敌角色的情敌的亲戚和朋友：
情敌E的表姐：刘晓梦，性格尖酸，喜欢挑拨离间，经常给情敌E提供错误的建议。
情敌F的叔叔：高强，性格严肃，对情敌F的行为非常不满，经常批评他。
情敌E的好友：钱多多，性格多疑，总是怀疑情敌A和B的动机，经常提醒情敌E要小心。
情敌F的好友：孙雷，性格轻浮，经常给情敌F出一些不切实际的主意。</p>
<p>第一章：遗物中的时光之谜
白唐在整理外祖母的遗物时，意外发现了一块古老的手表和一本泛黄的日记。日记中记载了家族成员曾经进行的一项关于时间的实验，以及实验带来的灾难性后果。这块手表不仅是一件珍贵的传家宝，似乎还隐藏着不可思议的力量。白唐对手表的起源和能力产生了浓厚的兴趣，决定揭开这个秘密。</p>
<p>第二章：校园里的时空传说
白唐和莫长逍是学校探险俱乐部的活跃分子。一天，他们听说了一个关于学校废弃实验室的神秘传说，据说那里隐藏着一台能够操控时间的机器。好奇心驱使下，在一次探险活动中，他们找到了这个秘密实验室的入口，开启了一场未知的冒险。</p>
<p>第三章：时光机的觉醒
进入实验室后，两人被眼前复杂的机械装置震撼了。这台装置上刻有爱因斯坦相对论公式，暗示着它与双生子悖论之间的联系。出于好奇，白唐按下了启动按钮，瞬间，整个房间充满了奇异的光芒，仿佛连空气都开始震动起来。</p>
<p>第四章：扭曲的时间线
随着装置的激活，周围环境出现了异常变化。时间在他们面前变得不稳定，二人经历了多次时间跳跃，目睹了一些物品凭空消失又突然出现于另一个时刻。这种超自然现象让他们意识到自己可能触及到了某种宇宙真理。</p>
<p>第五章：薛定谔的迷宫
为了验证手表是否真的具有改变现实的能力，白唐和莫长逍设计了一个类似“薛定谔的猫”的思想实验。然而，当实验结果出乎意料地证实了他们的猜想时，两人却陷入了更深的困惑之中——如果一切皆有可能，那么什么才是真实？</p>
<p>第六章：熵增的警示
实验之后，白唐开始深入研究熵增理论与时间箭头的概念，逐渐明白到每一次对过去或未来的干预都会导致不可预测的变化。她担心自己的行为可能会对整个时间线造成不可逆转的影响，而这一切似乎都与那块神秘的手表息息相关。</p>
<p>第七章：拉普拉斯的预言
在探索过程中，一个名为“拉普拉斯妖”的存在浮出水面，它似乎能预知未来并试图阻止白唐等人继续挖掘真相。面对这样一个强大的敌人，两人心中既充满恐惧也满怀斗志。</p>
<p>第八章：彭加莱的轮回
一次不小心触发了时间循环机制，让白唐和莫长逍陷入了无尽重复的一天之中。只有解开背后隐藏的秘密才能打破这一诅咒，否则他们将永远困在这个无限循环里。</p>
<p>第九章：家族秘史
随着调查深入，白唐发现自己曾祖父也曾涉足过类似的领域，并因此神秘失踪。这段尘封已久的历史或许正是解开当前困境的关键所在。</p>
<p>第十章：心结难解
共同经历的危险加深了白唐与莫长逍之间的情感纽带，但也使得彼此间的关系变得更加复杂微妙。如何在保护对方的同时追求真相成为摆在他们面前的一大难题。</p>
<p>第十一章：守护者的使命
意识到手中掌握的力量一旦落入恶人之手将带来巨大灾难，白唐和莫长逍决定肩负起守护者的重任。通过不断学习与实践，他们希望能够更好地控制这份力量，并阻止其被滥用。</p>
<p>第十二章：抉择时刻
面对是否继续探寻时间奥秘的重大决策，白唐内心十分挣扎。继续前行意味着要承担更大的风险；放弃则意味着回归平凡但安全的生活。无论选择哪条路，都将深刻影响她及身边人的命运轨迹。</p>
<p>第十三章：永恒之旅
经过无数挑战与考验，最终白唐和莫长逍不仅解开了所有谜团，更明白了自身存在的意义。准备好迎接新旅程的二人，将以更加坚定的步伐迈向未知，勇敢面对时间赋予的一切可能。</p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%B0%91%E9%A3%8E/">民风</a></li>
  </ul>
</div>
            </header>
<h1 id="阿牛和阿花的爱情故事">阿牛和阿花的爱情故事</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
<p>牛村与花村仅隔一片红树林，深秋里，满山的红叶铺天盖地，牛村的村尾是个好地方，常聚着城里来的人，就是离阿牛家远了些。</p>
<p>“嘿！ 阿牛。你要老婆不……不，只要你开……开……金口……”阿牛理着枯萎的草，寻声一看，是那跑腿的阿光，阿光无力地扶着杆，面红耳赤。</p>
<p>阿牛生硬地答道：“老婆？不要。”</p>
<p>阿光一身酒气，吐字不清，阿牛手头又忙着，便不再想理他，正要离开，不想阿光一把扯住他，断断续续的说道：“村尾……有靓妹哩！啊哈……看看去，保你……保你……爱。”</p>
<p>阿牛无奈道：“行了行了，我嘚去花村，忙着呢！”便离开了，而阿光还在牛槽旁自言自语，暗自欢喜着什么。</p>
<p>乌云渐渐压向红树林，此刻花村也许已倾盆大雨了吧，想到这阿牛便想回家拿伞，正要离开，一声声熟悉的笑声拉住了他的步子，寻声向桥下俯视，那寸头高鼻梁，小眼尖脸蛋，黝黑黄皮肤，臂粗高大个，影子印于桥头，此景定格于此时。</p>
<p>那熟悉的背影，那熟悉的声音，没错，她就是阿牛的青梅竹马——阿花，还有从小到大一直欺负他的阿狗。</p>
<p>“哎呀，你轻点……”说话的是阿花，她往前，阿光紧挨着，她手一拣，他手一搭；她手一捻，他手一抓。桥下，一男一女，你前我后，我左你右，动作形如流水，相当娴熟，此刻阿花的声音传到安流这儿，都是嗲里嗲气，而阿光的举止在阿牛眼里，那就是讥笑。</p>
<p>阿牛气得肝疼，怒骂道：“靠！这厮的真扫兴，呵。”把手里将给未来岳父大人的酒摔了一地，扭头不知将去哪里。一路上阿牛又气，又百思不得其解，他不明白，从小到大，阿花便是自己的玩伴，实打实的青梅竹马，渐渐的她成了阿牛的中意人，阿牛追阿花这些年也没有三心二意，她哭，阿牛安慰；她闹，阿牛捧哄；她病，阿牛照顾。为给她买生日礼物，阿牛千里迢迢，去城里挑玩偶，对于阿牛而言，他愿为阿花上刀山下火海，拼死拼命也要护着他，可是现在她却和别的男人在一起，还是自己憎恨，厌恶的男人。</p>
<p>阿花听到远处山林“哗哗”作响，又看了天气，便道：“哎，阿狗，要下雨了，咱们回家吧！说不准阿牛哥已经到花村了。”</p>
<p>“唉！花妹妹，”阿狗忙着收东西，向阿花追去，道：“你别急嘛。”又嘀咕了句，道：”整日阿牛哥，阿牛哥，你眼里就只有他吗？”</p>
<p>阿花在前边督促道：“狗子，你快点呀，雨要来了。”</p>
<p>“来了。”</p>
<p>自那后，阿牛觉得阿花已不再喜欢自己，但自己终又放不下她，可阿牛越想头脑子越乱，越想心里越烦，不久他便同阿光去了村尾。</p>
<p>那日大雨唏哩哗啦地下后，花村口也不见阿牛哥的踪影，阿花在自家门口，盼着盼着，盼了个寂寞。突然眼前一个身影，“阿牛哥——”她叫道，那人回头——咦！是阿狗，阿狗见了阿花大喜，道：“花……”还没说妹妹，阿花已关了门。阿花爸见她一脸愁，问问咋啦！她唉声叹气，她爸看着庭院外道：“你这娃儿……阿牛怕是这段都不来喽！”</p>
<p>阿花疑问道：“不来，为啥子嘛！”</p>
<p>阿huaba笑眯眯的道：“年轻人的那些事我哪懂得嘛！听隔壁张姨说，那天看到阿牛把酒摔在了桥头那哩。”</p>
<p>阿花愣了一愣，这才想：难不成……呀！阿花起身回了房，不一会儿便带门出去了。</p>
<p>她爸在院里喊道：“天快黑了，哪去……不吃饭啊！”</p>
<p>“不吃了，晚点会回来。”回声渐渐从远处传来，此时灯火已经渐渐亮起了。</p>
<p>一路上，阿花的回忆伴着喘气声，一段一段的在脑子里浮现。那天，“哎呀，你轻点，别把鱼给吓跑了。”阿花说道，
阿狗往阿花那靠了一靠说：“你现在这声音不就把他给吓跑了吗。”阿花无语反驳，一把推开了阿狗。她手一拣，阿狗手一搭，阿华厌恶地瞪了他眼；她手一捻，阿狗手一抓，阿花像抓狂的狒狒一样，怒斥道：“狗子，我告诉你，你最好给我老实点……男女授受亲，你不懂吗！”阿狗摸着后脑勺表示明白。可此景在按钮眼里，似乎是“别样”的风景。</p>
<p>然后一边跑心里还一边默念：二牛哥不是你想的那样，不是你看到的那样……你……你不要……</p>
<p>炎炎夏日，一天，阿牛上山背马草，午时正要回阿光家，在田道上遇到几个小伙子在偷窥田间的姑娘，路过时，听到他们议论那姑娘，且尽说些低下话，阿牛听不惯，这烦还在心头，二话不说，上去就是一拳，他们还没反应过来，阿牛又一勾拳，打得那些人七窍流血，这才停手。</p>
<p>姑娘见有动静，便前来阻止，阿牛呵斥道：“再见到你们说姑娘坏话，我就捆你们去犁田，打断你们的狗腿子……”</p>
<p>那些人见不妙，便纷纷离开。</p>
<p>“干嘛打他们……”</p>
<p>说话的正是田头头的姑娘——瑶妹，蓬松刘海，大麻花长辫，玉颜黛眉，肤白胜雪，水汪汪大眼，娇小玲珑，袅娜丰满，蔚蓝花衣，青黑长裤——真是乡间仙女。阿牛一辈子还真没见过这样的美女人，若不是心里住着阿花，或许此刻他内心早已小鹿也乱撞。他脸颊泛红又低了头。</p>
<p>突然严肃道：“那些混蛋偷看你还说你坏话，我……我听不惯低下的话，就揍了他们。”</p>
<p>瑶妹微微笑，绽出两个酒窝，道：“听不惯？是讨厌那样的人吧！”</p>
<p>“讨厌？”阿牛嘻嘻道：“姑娘看不是本地人，是外地来的吧！”</p>
<p>瑶妹答道：“不是噢！我的家……老家就在这的。”</p>
<p>阿牛接过瑶妹，端来的茶水望着瑶妹     ……</p>
<p>说着，瑶妹便要阿牛回家喝口茶，以表感谢，阿牛也不好回拒，便去了。</p>
<p>阿花那日去阿牛村找阿牛，没找着，探到阿牛已去了村尾，这天才早早从家里匆匆赶来，正午烈日灼心，阿花看到村尾就在半山腰上，这才为自己捏了把汗，心中也不由得欣喜了些。</p>
<p>“阿牛哥，你……你……”阿花盘扶在村口门柱上，道：“你这个负心汉啊，我以为你不来家吃饭，是咱们有误会了，不想你是有别的女人了。”</p>
<p>瑶妹一边揕着茶水，一边道：“还不知道你的名字呢？”</p>
<p>阿牛：“哦，我叫阿牛。”</p>
<p>瑶妹迟疑了会儿，说：“是阿牛村的牛哥哥吗？”</p>
<p>阿牛心一暖，笑咪咪道：“是的，牛村就只有我一个叫阿牛。”</p>
<p>“我刚从城里回来，真想去村里看看红叶林。”瑶妹看着村外，一面期待地道：“还有去花村划竹排……真的好想你去呢。”</p>
<p>“这离村里也不是很远，有时间你可以去看看，红叶林，花……”阿牛愣了一会儿才道：“花村那条江也很漂亮的……”</p>
<p>瑶妹看了看阿牛哥笑了笑，端茶水递给了阿牛哥。</p>
<p>他正要接过茶水，不想一阵“阿牛哥”，让一下他停住的手。</p>
<p>他一看——阿花。阿花边走边说，道：</p>
<p>“阿牛哥，你……你……”</p>
<p>阿花不小心摔倒在地，叫喊道：“你这个负心汉啊，我以为你不来家吃饭，是咱们那个误会，不想你是有别的女人了。”接着就是一阵哭。</p>
<p>阿牛急忙跑去扶阿花，那黄油脸，黏着土，蓬乱发，携着泥，小眼肿鼻，淡须大嘴，红色大花衣，黑色大长裤，无不散发着咸味，那猪腩大粗腿，墩墩似柱肚，
瑶妹见了大惊，但又觉得没有哪里不适。</p>
<p>阿牛正要扶阿花，不想一只手把他推开，那人道：“走开！你个负心汉，枉费花妹妹对你一片痴情。”</p>
<p>瑶妹对那人骂道：“哥，你干嘛推他……阿牛哥，你没事吧！”</p>
<p>阿花见到此景怒气冲天，立马起身，阿狗担心道：“唉！花妹妹……”</p>
<p>瑶妹一边扶起阿牛 ，一边询问他，没事吧，阿牛道：“阿花你怎么来。”阿花看到瑶妹扶着阿牛，欲说的因果一之间烟消云散，不经意间泪流满面，她哭着说 ：“阿牛你口口声声说喜欢我，可你离开就是为了见……见这样的女孩。”</p>
<p>瑶妹连忙解释：“花姐姐，我想这里面有什么误会。阿牛哥他……”</p>
<p>“住口！死厚脸皮你个婆娘，”阿花口吐碎沫怒斥道：“牛哥……那么喜欢我，你为什么要抢走他，你个毒辣女……”</p>
<p>瑶妹一脸委屈，说不出什么话来。</p>
<p>那流氓出来打断道：“阿花你够了！这是咱俩的事，跟她没关系。”</p>
<p>阿狗道：“啊，你又看不出啊，你是这样的人，脚踏两条船胆够肥的呀，我看你对阿花好是为了他家那几亩地吧，唉，话都说到这份上了，前些年他娘死也是跟这有关的吧”</p>
<p>阿牛大怒道：“你不乱说，行吗，没这回事，我对阿花好真心实意，不是图他家那几亩地。”</p>
<p>阿狗道：“呵呵，谁知道呢，人心难测，况且你现在对阿花移情别恋，呵我看你就不是个好东西，你就是馋他身子下贱！”</p>
<p>听到这阿牛更怒了，他道：“你说什么……”正说着，阿牛正想给他一拳，不想这个时候，阿花一脚，阿狗伏倒在地，</p>
<p>阿花大叫道：“放你娘狗屁，阿牛哥对我怎么样？用不着你左一个右一个。”</p>
<p>阿花转回头，对着阿牛说道：“阿牛哥，我一直觉得那天在桥上那件事是个误会，但是……”</p>
<p>阿狗一听到桥上，立马机灵了起来，抢在阿花前说道：“哦！我终于明白了，那天你摔酒在桥上是故意的吧，你就是想趁这个机会把阿花给甩了，听说那天不久，你就和阿光去了阿光家，阿光的姐姐一直中意你，这全村人都知道……呵！阿牛你够狠啊！”</p>
<p>阿花听了，声带似乎打了结，望向阿狗。</p>
<p>阿牛气头上来，便一拳打在了阿狗脸上，他两在地上狰狞不休，围观者左右难劝，突然，阿花大吼道：“行了！”一时间地上的他俩也停住了手。</p>
<p>阿花对着阿牛道：“我一直以为那天在桥头上的是个误会，但现在我觉得这确实不是个误会，你所看到的都是真的。阿狗对我比你好多了。”</p>
<p>说完阿花哭着跑回了村，阿牛坐在地上沉默了很久很久。</p>
<p>（上篇完）</p>
<p><strong>写于2020年</strong></p>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%97%B6%E7%A9%BA%E6%97%85%E8%A1%8C/">时空旅行</a></li>
  </ul>
</div>
            </header>
<h1 id="时空国度-木尸王朝">时空国度-木尸王朝</h1>

<link rel="stylesheet" href="./css/novel.css">
<div class = "content">
<h2 id="第一章-序">第一章 序</h2>
<p>火车站往东，沿着才华路步行约十分钟，便能抵达衡岭财经学院。这条路王肖一年会走五六次——多半是回家或返校。每当他踏上这条熟悉的道路，心中总是五味杂陈。两旁的行道树在微风中轻轻摇曳，仿佛在诉说着过往的故事。路灯洒下柔和的光芒，照亮了他的脚步，也映照出他内心的复杂情绪。</p>
<p>他的理想大学是南国大学，虽然最终与之擦肩而过，但南国大学也在衡岭这座城市里。每当想到这一点，王肖的心中便多了一丝慰藉。尽管未能如愿进入梦寐以求的学府，但他依然觉得，能够在同一座城市继续学业，也是一种不错的选择。毕竟，这里依旧承载着他对未来的无限憧憬和希望。</p>
<p>夜幕降临，昏黄的路灯光晕洒在空旷的街道上，给这条熟悉的路增添了几分温暖。王肖背着书包，脚步匆匆地走在路上，心中既有对未来的憧憬，也有对现实的无奈。他一直梦想着进入南国大学，但命运似乎另有安排。不过，能在同一座城市继续学业，也算是一种安慰吧。</p>
<p>回到宿舍，舍友们正围坐在桌前聊天。看到王肖进来，舍友小杰立刻问道：“王肖，你参加社团了吗？要不要来我们财经社团？”</p>
<p>“话说王肖你参加什么社团了吗？”舍长小声问道，语气中带着一丝好奇。</p>
<p>王肖放下手中的游戏机，抬头看了看舍友们，眼神有些迷茫。“农户养殖协会。”他生硬地说道。大伙都没听清，于是他又重复了一遍：“农户养殖协会。”</p>
<p>这句话引得另一位舍友小李讥笑道：“还得是你啊，这才是我们水产品专业该去的地方。”</p>
<p>“平时都干些什么？”小杰认真地问道。</p>
<p>王肖听到这个问题，显得有些不耐烦，“我怎么知道，加了个会员就不见动静了。”他回答道，随即又继续玩起了游戏。过了一会儿，他补充道：“好像要当干事这些才会有活干，我嘛，就是去混学分的。”</p>
<p>宿舍里一阵沉默，只有键盘敲击的声音和窗外偶尔传来的车流声。这时，一向寡言的何天宇笑了笑，试图缓解尴尬的气氛。然而，这个笑容却引起了大家的好奇心，他们开始讨论起何天宇为什么笑。</p>
<p>王肖却不再想接收任何信息，对于这种场面他已经痛恨自己很多次了。他感到一种深深的无力感，仿佛无论怎么努力，都无法融入这个群体。他低下头，继续沉浸在自己的游戏中，希望借此逃避现实中的困扰。</p>
<p>晚饭过后，王肖独自一人漫步在热闹的商业街上。他点了一杯烤奶，又买了一份炸鸡，边走边吃是他的习惯。果然，当他走到宿舍楼下时，手中仅剩半杯烤奶。今晚没有课，舍友们都在宿舍里打游戏，王肖也不例外。为了冲击王者段位，他打算拼一晚。他已经做好了通宵奋战的准备。</p>
<p>夜色渐浓，白云缓缓擦拭着月亮，月光也渐渐变得皎洁明亮。在学校能听到公鸡打鸣是件难得的事，但对王肖来说，这却是习以为常的声音。有时候，熬夜到四五点，困意仿佛被钉在大脑中，伴随着疼痛，然后与似乎垂至暮年的心肝一起迎接那抹刺痛双眼的朝阳。</p>
<p>第二天清晨，王肖早早起床洗漱，然后安安静静地离开宿舍，前往校园那片似乎要撑破天际的松林。盛夏遗留下来的鸟鸣声此起彼伏，还有新闻广播专业同学们清亮的嗓音，一切听起来如此动听，宛若圣洁的教堂。只是，他的教堂与众不同。</p>
<p>离上课还有十几分钟，他起身拎包往教学楼走去。然而，当他走进教室时，发现里面空无一人。王肖心中闪过一丝疑惑：“大家都这么懒吗？就我一个先到，不会吧？”他不想表露这份心情，但洋溢在脸上的微笑却出卖了他的真实感受。紧接着，他开始感到不安，已经快上课了，一个人也没有。他掏出手机看了看宿舍群——一片死寂。</p>
<p>“你们知道教室在哪吗？”这则消息在他指尖乱窜，几乎快要隔空点在键盘上。他犹豫了一下，不知道什么样的勇气才能让这样的消息同时背负希望与耻辱。想到发出去后可能会遭到舍友的嘲笑，王肖最终还是作罢。</p>
<p>就在他纠结之际，一位女同学推门而入，提醒道：“同学，这间教室被征用了！”</p>
<p>王肖应了一声，快速离开了教室。走到楼梯口，他再次查看班级群，才发现昨晚有一条消息通知教室改了。顿时，王肖的心情跌落谷底，摔得很痛。</p>
<p>一天中午。</p>
<p>“又打包？！”何天宇推开门，惊讶地说道，“这小子，空调也不开。”</p>
<p>“是啊！”王肖小声应道，似乎是在自言自语，“不是很冷。”</p>
<p>“以前校运会没见这么冷的。”一位舍友插话道。</p>
<p>“昨晚又到几点啊？”另一位舍友问道，目光投向王肖。</p>
<p>“两点左右吧。”王肖知道问的是他。</p>
<p>“我昨晚上厕所还看见他在玩，三点多呢！”何天宇补充道，“小心点，小子，身体撑不住的时候才知道错。”听到这话，王肖心里微微一颤。熬夜对他来说，从来不看时间，只看身体能坚持多久。</p>
<p>“妈的，你们知道吗！我们学校实验楼一楼男女厕所一样，上次我去上厕所，出来一个女生，吓我一跳。”何天宇突然转换话题。</p>
<p>“我靠，真的假的……那哪个是女厕呢？”一位舍友好奇地问道。</p>
<p>“谁知道，反正我以后不去了。”何天宇边调空调边说。</p>
<p>……</p>
<p>晚饭过后，王肖去剪头发时发现自己的发量比以前少了很多。看来最近的担忧是对的。上次献血时，医生告诉他肺部可能感染了，希望他能尽早去医院检查。这件事这次才真正放在他心上。</p>
<p>秋去冬来，远看青山戴着白云草帽，不由让人觉得冬天已经来临。</p>
<p>“喂，能听到吗？”电话那头传来父亲的声音。听到这边应了一声，那边接着问道：“医生怎么说？”</p>
<p>“肺部感染，还有胆红素过高，叫我过几天再去检查。”王肖回答。</p>
<p>“嗯，那你一定要去做检查，务必把病治好。钱还够不够啊？”</p>
<p>“没多少了。”</p>
<p>“我待会微信转你，叫你妈妈过去看看你吧……”</p>
<p>“不用了，爸！”王肖打断道，“那样太麻烦……阿……姨了”他从心底里不愿意被一个外来人可怜。父亲批评了几句后，他挂断电话，扯了扯帽子，往公交站走去。</p>
<p>上周，王肖去医院做了检查，疑似患了乙肝病毒，但具体结果还需进一步确认。医生让他不要过于担心，注意休息。走出医院的他不敢把这个消息告诉舍友，害怕传染给他们。仿佛这个病能否患上，能否真的传染，全由他说了算。</p>
<p>从学校大门直走是学校的图书馆，图书馆面朝东方，其后面是一片松林。穿过松林就到了学校的教学楼，为迎接八十年校庆，教学楼也翻新了，远远可以闻到涂漆的味道。早上的专业课还没有结束，王肖穿过人群，上楼赶往教室，终于赶上了三四节课。进门后，他发现后排早早坐满了人，唯独前排只有寥寥几人。王肖默默地坐在了黑板前面，低着头听完了上午的课。</p>
<p>下课后，等所有人都离开后，他才慢慢起身离开教室。现在食堂一定挤满了人，他朝着图书馆走去，步伐渐渐加快。在图书馆里找了十几分钟的书籍，始终没有抽出一本。就这样不知道过了多久，他从海量书籍中借了几本小说，离开了图书馆。从图书馆往右走，经过一片桃林，再穿过一条小街，就到了南苑。此时已打铃睡觉，路上的人少之又少。一层喜悦蒙上了一层凄凉，王肖走进食堂，安静地坐在角落吃完了螺蛳粉，便去教学楼打盹了。</p>
<p>周五下午，王肖顶着一顶鸭舌帽往南苑走去。上台阶时风太大，刮走了他的帽子，他顿时感觉头顶一阵凉意，但并没有理会，急忙去捡起自己的帽子。最近掉发太厉害，而且自己也不想剃寸头，于是先买个帽子遮遮丑。从楼梯下来是一楼的饭堂，饭堂两侧开满鲜花，看到王肖不顾一切的样子，花儿仿佛笑得前仰后合。风开始大声高歌，远远可以看见一丝丝细发在空中欢快地舞动，好像人群中有个鹤立鸡群、金光闪闪的人物出现了。同学们都遮头避面，狂风似乎在大声高歌，声音能震碎金光一样。大家都看到了站立中央的王肖，他像一只瘦弱的猴子——抓耳挠腮，四处寻找的动作不禁惹人发笑。</p>
<p>一位女同学捡起他的帽子，递给了他。王肖看见她面容平静得吓人，好像什么吓人的表情刚被埋葬一样。他接过帽子，那一瞬间那害怕的嘴脸破土而出——好像死人复活一样。接着他看清了在场所有人的面容，他习惯性地低声说了声“谢谢”，然后带上帽子含着泪水逃离了这个让他感到尴尬的现场。远远还可以听见他们与狂风的高歌。</p>
<p>王肖跑到了实验楼一楼，差点进错了厕所。他慢慢摘下自己的帽子，目光看向镜子中的自己。尖形的头型两侧残存着一处又一处头发，真似马儿啃过的一样。地中海一条条可以数清楚的毛发，好像自身有千斤重，摇摇欲坠。细细看看吧——那浓眉大眼，臃肿的大鼻，小嘴肥厚的下颌，一切都显得那么不搭。慢慢地，他自己也笑了起来，泪水随着从眼角流出，渗入味蕾，诉说着自身奇怪的委屈。</p>
<p>一天早上，王肖向班主任请了假，理由是自己要外出就医。但班主任告诉他小病就在校医室看，大病得有校医室的检查证明。王肖心想，自己的乙肝学校也查不出什么吧！而且他也不愿意和老师说这件事。于是下午，他在办公室又编了一个理由——外出考驾照。老师问：“下午的课是专业课还是公选课？”王肖诚实地说：“是专业课。”老师严厉地告诉他下次不许挑专业课外出，王肖点了点头，恨不得马上离开这个地方。那一刻，他觉得自己不属于这里，这里的一切看起来都那么讨厌。自己的门没有紧闭，为什么没人前来敲门？</p>
<p>离开学校后，王肖去医院做了检查，然后给父亲打了电话说明了自己的情况。挂断电话后，他不自觉地走到了国际大厦。大厦旁边有个广告牌，上面印着“乌鸡山欢迎您的攀登！”几个大字。想来也不想回学校，不如去爬山放松一下吧！</p>
<p>王肖扯了扯帽子，往公交站走去，消失在街道的人海里。</p>
<p>不久，公交车到达了乌鸡山旅游景点。因为没带学生证，王肖没办法享受学生价，不得不付高额的原价。乘坐游览车抵达山脚下后，王肖没有多想便开始了登山。历经几个小时，他终于到达了乌鸡山山顶。乌鸡山是衡岭最高的山峰，一千八百八十八米的海拔让王肖觉得此刻自己也有杜甫“一览众山小”的心境。由于爬山前没准备食物，等到山顶时，王肖早已饥肠辘辘。无奈之下，他找了一处没人的地方休息，随后竟然睡了起来。在他的家乡流传着这样的说法：人在野外犯困，不能在地上睡觉，否则容易招来地狱的黑白无常。但王肖怎么会相信这些呢！</p>
<p>太阳渐渐脱下发着毒辣光芒的衣服，奔向西边的白云，惹得白云脸上红扑扑的，像一个害羞的小姑娘。王肖醒来看了手机，发现已经很晚了，于是准备下山。乌鸡山南北边路段都可以下山，只是王肖来时是从南边上的山。现在他不知为什么竟产生了一个奇怪的想法——去涉足自己未曾涉足的地方，去走自己从未走过的路。想到这里，他为自己接下来的做法不禁感到自豪，心情也好了许多。</p>
<p>冬季太阳南回归线移动，山的北面往往会比南面稍暗些。对于乌鸡山这样高树众多的山来说更为明显。对黑暗的惧怕也许是人类的天性，当这种天性遇到人类所建立起来的理想准则时，一切的反应都显得那么真实。</p>
<p>往北走先绕过一个弯，在下一段陡峭的路段，然后经过一座座灰白色的水泥亭。准备到第一座亭子时，由于树木渐渐变多，夕阳也渐渐袭来，森林里也渐渐地暗淡下来，一种恐怖气氛由之而生。王肖边走边加快脚步，差点摔了个跟头。他一抬头，远远看到一个穿着白色衣服的女子扶着亭子在那边摇扇，仪态端庄高雅，就像是古代富贵门第出来的淑女。但由于近视严重，王肖看不清她的样貌。起初他觉得那并不是什么女子，可他越是走近，样子越是清晰。突然，后林哗啦一声，王肖大叫一声：“妈呀！”紧接着他回头一看，刚才的那个白色女子已经消失不见了。王肖发出颤抖的呼吸声，急忙往山上跑去。</p>
<p>在山顶上还算是明亮，他站在今天“一览众山小”的地方，还没等他缓过气来，一声“轰隆”，山顶坍塌，他随着山石掉了下去。</p>
<h2 id="第二章-乌鸡山神庙">第二章 乌鸡山神庙</h2>
<p>在乌鸡山山脚下流淌着一股清泉，泉水从乌鸡山主峰——鹊连山一座池塘里冒出，池子四周长着各种奇花异草，高大古木，池子流下山脚在一处低洼形成一小滩池子，池子长着碧绿的荷叶，过了花期的池子虽少了几分姿色，但热闹却从未消停。</p>
<p>柏月每次来到这里除了捣衣外，还会观赏观赏清凉的池子，不管秋去冬来，池子外的世界都是热闹的，清晨的鸟鸣，晌午的嬉闹，傍晚的虫鸣，这些声音都在呼唤着这自认为孤寂的池子。</p>
<p>“月儿，看什么呢？”</p>
<p>“六娘，你看这池子多清凉啊！开满荷花的时候，美极了，要是学些诗词歌赋，多想为之吟唱。”</p>
<p>“月儿啊，荷花也就开花的时候，有人来看看，像这样的地方可能就只有你了，而且过了花期你还不忘。”</p>
<p>“不早了，我该回去了，不然爹爹又骂了。”</p>
<p>六娘点了点头，下了石坡，把衣服又过了一遍水，同柏月回了家。</p>
<p>“爹，女儿把您的衣服取回来了”柏月边进门边说道。</p>
<p>老郭爷子从卧榻上起了身，月儿见了想阻止，但他摇了摇手，他从木板上取来了草鞋，又在木板堆砌起的炉火上架了铁锅，顺手抽了对筷子，一手放在瓷器上。</p>
<p>“会不会太麻烦。”郭老接过月儿递过来的衣物，转身放在了卧榻上，接着说道：“下次晒家下面便好。”</p>
<p>“没事的爹，这地儿像个盆似的，如今日落也是来得快，石坡那却非这般，您最近又急着用，还是多备些衣物为好。”</p>
<p>“好好好，来，先吃饭吧！”</p>
<p>不巧此时六娘来到屋外，喊了几声月儿，声也是大，怕是出了事，月儿急忙从屋里走了出来，下了木梯，问道：“六娘出了什么事。”</p>
<p>“月儿，我家那老头的衣服还落在石坡上，现在离不开，他明又急着用……”</p>
<p>“六娘放心，月儿明白，我这就去取来，您安心去忙吧！”</p>
<p>六娘拜谢后便离开了，月儿告诉老郭后，一人便独自前往荷花池边的石坡，出门沿着小河一路向西走，过一座独木桥，在翻过一座山岗，便可见到石坡，沿着曲折蜿蜒的山路，可以看到远处高耸入云的乌鸡山。</p>
<p>虽然海拔仅有一千多米，但站在底处却依然能感受到其威严之势，还有那风雨雕琢的美丽风光，得天独厚的喀斯特地貌与之雅丹地貌相互碰撞，相互囊嵌，孕育出了这美丽的乌鸡山。</p>
<p>乌鸡山远远的看去像一条鲸鱼头上顶着一座似鸡的岛屿，因其色泽以灰黑色为多，古代帝王将之成为“乌鸡”山，但生活于当地的百姓则认为这是乌仙下饭的征兆，在其传说中，乌仙坐骑是只由鸡羽化为凤的仙兽，乌仙骑之游历四方，不想一日仙兽在凡间一处产下一子，从此便定居下来，没有再回到仙界，仙兽因其独特，常替百姓驱赶妖魔，百姓们为了感谢仙兽，便在他的山脚下建立一座庙以共答谢。</p>
<p>柏月从石坡取回衣物，正要往回赶，就在这时，林中蹿出了一头野猪，吓了柏月一跳，急得她手中的衣服也掉了下来，柏月快速拾起衣服。
野猪见到人后，没有跑反而放慢了脚步——突然，迅猛的朝柏月袭来，柏月惊慌之下翻落水中，平时也只是在水浅处洗衣，不像六娘她们那般水性很好，像只卷曲的虫也是害苦了她呀！</p>
<p>月亮渐渐攀上高空，披上明亮的银黄色外衣。</p>
<p>石坡四周举满了一根根火把，月儿能否找到便要看看这火光了，有人在水边发现了掉落的衣服，他们还发现了野猪的脚印，一时间各种猜疑打成一片，老郭第一站了出来。</p>
<p>“虽月儿平日安静，不善走动，但对付野猪还是有法子，可别忘了咋家的独门绝技。”老郭说道。</p>
<p>“老郭说的是，可如果没被野猪衔去，柏月又去了哪呢？”</p>
<p>众人皆疑惑，就在这时一人发现衣服不远处的河水岸上有人的脚印。</p>
<p>“这恐怕是挣扎时留下的，不像是野兽的足迹。”</p>
<p>“不好，快随我往下游找。”众人同老郭一同赶往了下游。</p>
<p>可往下找了许久依旧不见尸体，众人边走边喊也不见柏月回应。</p>
<p>王肖远远听到有人叫喊，心想有救了有救了，从刚才手机没信号，到尝试各种呼叫，再到现在有人，王肖此刻才知道在荒郊野外，没网没信号手机被削得这么厉害，好不容易找到了一个山洞落脚，奈何贝爷技能学太少，什么野外求生的知识都没有，现在好饿啊，真的要饿死了！</p>
<p>他长吸了一口气，这才大声喊到“救命啊！救命啊！”</p>
<p>老郭等人一会人顿了一下，细细一听——一路人喊救命——可怎么是个男儿声。</p>
<p>“老郭，你听到了吧！”</p>
<p>“嗯，听到了，叫得如此震耳，想必是有大麻烦，你们先一行人前去看看，我得先找到月儿。”</p>
<p>众人赞同后便兵分两路，王肖看到火把正快速想他靠近，于是他也迈开腿奔向了火把——那一定是希望之光了——“刚才便是你在喊救命？”王肖与村民们见面会，带头的大胡子疑惑的说道。</p>
<p>王肖一惊，啊！搁这cosplay还是拍戏呐？</p>
<p>“叔叔阿姨你好！我爬山不小心摔了，迷路了不知道怎么回去了。”王肖说道。</p>
<p>“啊，爬山？！”一人疑惑道。</p>
<p>“不知兄台方才为何大声喊救命，想是遇到什么麻烦了，原来便是这是？”</p>
<p>“是的，不好意思。”王肖说道。</p>
<p>村民决定现代他下山，往后在想办法送他回去，而王肖只想马上下山，然后坐公交离开。</p>
<p>正要走时，王肖说道：“对了，我今天傍晚的时候，在河边看到了一个女孩……”</p>
<p>“啊！难不成是月儿。”</p>
<p>众人来到山洞里，一看——果真是月儿，一位老者上前摸了摸脉象，点了点头，众人这才舒了口气，胡子大哥说道：“快，把这个消息告诉老郭？”</p>
<p>一人跑了出去，看来是报消息的，奇怪了，这帮人是拍戏吗？话里话外奇奇怪怪的，还有“老郭”，这是什么人呢？</p>
<p>下山洞的时候，王肖本来想问是不是在拍戏，走多久可以走到门票口，这么晚了还有没有游览车送下山……但他一句都没问上。</p>
<p>走到河边后，老郭在岸边来回踱步，看到胡子大哥一行人后，急忙上前。</p>
<p>“月儿呢？月儿呢？”老郭急忙问道。</p>
<p>“子佩背着的。”胡子大哥说道。</p>
<p>老郭重重的说了声“多谢！”胡子大哥告诉他是王肖救了月儿，老郭在王肖前又再次道谢。</p>
<p>“多谢这位公子救小女一命。”老郭说道。</p>
<p>听着很奇怪，但王肖还是回了一句，不客气。从见面到现在王肖都觉得怪怪的，但自己又没处说。</p>
<p>回去的路上，子佩后的一位男子问道：“不知兄台是哪方人士，为何到此处游山玩水，还迷了路l”</p>
<p>“我是百泽那边的人，在衡岭这边读书，”王肖淹了咽口水，不由自主的表现出无语的表情：“想来乌鸡山散散心，下山的时候山塌了，醒来就在河边了。”</p>
<p>“百泽？是何地，怎没听说过。”男子问了问子佩：“子佩，你读书多，你知道吗？”</p>
<p>子佩摇了摇头，有说自己不知道这个地方。</p>
<p>“此处确实是衡岭，只不过你放才说在次处读书……此处多山石野兽，难不成你拜在刘夫子门下吗？”</p>
<p>“比起这个，我更想问他为何衣着异样，怕是乡外人士吧？”胡子大哥说道。</p>
<p>“我确实是外地的，只是在这个地方读书。”王肖说道，王肖像多说一句但还是咽了下去。</p>
<p>“你这衣物看来制作精良，怕是贵门弟子吧！怎会在这穷乡僻壤读书？”那男子有问道。</p>
<p>“乡檀，怎能如此无礼，这位小兄弟救了月儿，我们该感谢他，你怎在这一股劲盘问，有失礼数。”子佩说道。</p>
<p>乡檀见子佩如此说道，虽有些不服气，却也在理，于是便没有多问什么。</p>
<p>其实，王肖刚想问来着，子佩这么说，他又抛掉了刚才的想法，只想快点回家。</p>
<p>回到村子后，王肖在想着怎么没带他下山，反而还带回了这么简陋的村子——应该说是这剧组搭建的，这时候村民们都在想着，怎么给王肖安排住宿，众人商讨后决定先留在胡子大哥家，正要带王肖过去。</p>
<p>“唉！你们不带我下山吗？或者说给我指条路我自己下山。”王肖问道。</p>
<p>众人投来疑惑的目光，“小兄弟，这便是山下了，不是山下那水又怎会如此平静”胡子大哥说道。</p>
<p>火把远远可以找到远处的河水，河水在火把的照耀下，波光粼粼，宛若金鱼的鳞片。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-0738cd879f9b618b2cfee41a77b9d7f5" aria-controls="R-expandcontent-0738cd879f9b618b2cfee41a77b9d7f5" >
    <label class="expand-label" for="R-expand-0738cd879f9b618b2cfee41a77b9d7f5" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-0738cd879f9b618b2cfee41a77b9d7f5" class="expand-content">
<p>
预知后事如何……等我更新吧！</div>
</div>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id=""> </h1>


            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="三关于">三、关于</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">三、关于 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E7%89%88%E6%9C%AC/">网站版本</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化</a></li>
  </ul>
</div>
            </header>
<h1 id="版本">版本</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/version/">Version</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id=""> </h1>


            <footer class="footline">
            </footer>
          </article>

          </section>
          </section>
        </div>
      </main>
    </div>
    <script src="./js/clipboard.min.js?1730216410" defer></script>
    <script src="./js/perfect-scrollbar.min.js?1730216410" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="./js/mathjax/tex-mml-chtml.js?1730216410"></script>
    <script src="./js/d3/d3-color.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-dispatch.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-drag.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-ease.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-interpolate.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-selection.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-timer.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-transition.min.js?1730216410" defer></script>
    <script src="./js/d3/d3-zoom.min.js?1730216410" defer></script>
    <script src="./js/js-yaml.min.js?1730216410" defer></script>
    <script src="./js/mermaid.min.js?1730216410" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="./js/theme.js?1730216410" defer></script>
  </body>
</html>
